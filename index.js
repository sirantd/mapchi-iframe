import{d as V,o as n,c as a,F as b,r as w,n as x,a as s,b as h,e as v,f,_ as m,g as Pe,h as $e,i as Ie,j as $,k as G,w as y,v as D,L as Te,l as Z,m as q,p as xe,q as Ne,s as Ae,t as Me,u as Le,x as Q,y as u,z as _,V as _e,S as ie,A as me,T as Be,N as ge,B as ue,C as J,D as g,E as le,G as fe,H as ye,I as ve,J as Oe}from"./vendor.js";const De=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerpolicy&&(c.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?c.credentials="include":l.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}};De();const Ve={clickableIcons:!1,streetViewControl:!1,panControlOptions:!1,gestureHandling:"greedy",fullscreenControl:!1,mapTypeControl:!0,zoomControlOptions:{style:"SMALL"},zoom:2,minZoom:17,maxZoom:20,tilt:0};var B=(e,t)=>{const o=e.__vccOpts||e;for(const[i,l]of t)o[i]=l;return o};const Re=V({emits:["choice"],props:{results:{type:Array,default:[]},selected:{type:Number,default:0}},watch:{selected(e,t){var o,i;if(e!==-1&&e!==t){const l=(o=document.getElementById("mapche-search"))==null?void 0:o.shadowRoot;(i=l==null?void 0:l.getElementById(`result-${e}`))==null||i.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}}}),ze={class:"text-gray-700 flex flex-col divide-y"},Ee=["place_id","onClick"],Fe=["innerHTML"],qe={key:0};function Ue(e,t,o,i,l,c){return n(),a("div",ze,[(n(!0),a(b,null,w(e.results,(r,d)=>(n(),a("a",{key:d,place_id:`result-${d}`,class:x(["px-5 py-4 hover:bg-gray-100 cursor-pointer flex flex-col gap-1",e.selected===d?"selected bg-gray-100":""]),onClick:p=>e.$emit("choice",[r])},[s("p",{class:"truncate",innerHTML:r.description},null,8,Fe)],10,Ee))),128)),e.results.length?(n(),a("div",qe)):h("",!0)])}var je=B(Re,[["render",Ue]]);const Ge={},We={class:"text-gray-300 flex gap-1 justify-end px-3 py-2 text-xs font-bold"};function Ke(e,t){return n(),a("div",We,t[0]||(t[0]=[s("span",null,[v("Powered by "),s("a",{class:"text-gray-400",href:"https://mapchi.sirantd.com"},"MapChi")],-1)]))}var Je=B(Ge,[["render",Ke]]);let ne,te=null,he=0;class He{async fetchNonCachedData(t,o){const i={Lat:t,Lng:o,SupplierIncludes:ne};return(await f.post("https://adapi.pindrop.co.za/advanced/requestServicesWithProperties",i)).data.results}async fetchNonCachedDataManual(t,o){const i={Lat:t,Lng:o,SupplierIncludes:ne};return(await f.post("https://adapi.pindrop.co.za/advanced/RuleFeasibility",i)).data}}async function ae(){if(te&&Date.now()<he)return te;const e={username:"testapi@pindrop.co.za",password:"24BwJ!Vgn%H%r2"};try{return te=(await f.post("https://adapi.pindrop.co.za/advanced/authorize",e)).data.token,he=Date.now()+1*60*60*1e3,f.defaults.headers.common.Token=te,te}catch(t){throw t}}async function Qe(e,t,o,i,l){let c=new He,r;const d=localStorage.getItem("business"),p=localStorage.getItem("reseller_id"),W=(await f.get("/mapche-api/v1/user-preferences/")).data.filter(k=>k.business===parseInt(p&&p!==d?p:d));if(W.filter(k=>!k.services||k.services.length===0).length>0&&console.error("Error: Choose a Network and Service to continue"),localStorage.getItem("country")==="South Africa")try{if(ne=W.map(k=>k.supplier_id),i){r=await c.fetchNonCachedData(e,t);const k=r;if(k!==null){const U=k.map(I=>{let N;if(I.ItemProperties){const F=I.ItemProperties.filter(A=>A.PropertyName==="Capped").map(A=>A.PropertySetting);N=F.length>0?F[0]:0}else N=0;let j;if(I.ItemProperties){const F=I.ItemProperties.filter(A=>A.PropertyName==="FUP").map(A=>A.PropertySetting);j=F.length>0?F[0]:0}else j=0;let E=!1,T;I.ItemProperties&&I.ItemProperties.filter(A=>A.PropertyName==="Promotion").map(A=>A.PropertySetting).length>0?T=1:T=E?1:"";let K;if(I.ItemProperties){const F=I.ItemProperties.filter(A=>A.PropertyName==="Upload").map(A=>A.PropertySetting);K=F.length>0?F[0]:0}else K=0;return{...I,currency:localStorage.getItem("currency"),capacityupload:K>0?K:I.capacity,is_active:!0,inclusive:!1,exclusive:!0,promotion_id:T,capped:N,fup:j}}).filter(I=>{const N=I.supplierName.toLowerCase().replace(/\s/g,""),j=W.find(E=>E.supplier_name.toLowerCase().replace(/\s/g,"")===N);return j?j.services_name.flatMap(T=>T.toLowerCase().replace(/\s/g,"")).includes(I.product.toLowerCase().replace(/\s/g,"")):!1}),z=m.uniqBy(U,"product");return{productsAvailable:z,amount:z.length,providerApiresults:U}}else{const R=m.uniqBy(k,"product");return{productsAvailable:R,amount:R.length,providerApiresults:k}}}else{r=await c.fetchNonCachedDataManual(e,t);const z=(await f.get("/products/product/")).data.filter(N=>N.business===parseInt(d)&&r.includes(N.maprule)).map(N=>{if(!N.is_active)return null;const j={capacity:"capacity",term:"contractPeriod",cost_code:"costCode",id:"id",service_name:"product",service_type:"productType",mrc:"MRC",nrc:"NRC",name:"description",vendor_name:"supplierName"};let E;N.promotion_id>0?E=1:E=N.promotion_id?1:"";const T={};for(const K in N){const F=K.toLowerCase(),A=j[F]||F;T[A]=N[K]}return T.rebate="0",T.timeline="0",T.validityDate="",T.optionCount="0",T.promotion_id=E,T.currency=localStorage.getItem("currency"),T}).filter(Boolean).filter(N=>{const j=N.supplierName.toLowerCase().replace(/\s/g,""),E=W.find(T=>T.supplier_name.toLowerCase().replace(/\s/g,"")===j);return E?E.services_name.flatMap(K=>K.toLowerCase().replace(/\s/g,"")).includes(N.product.toLowerCase().replace(/\s/g,"")):!1}),I=m.uniqBy(z,"product");return{productsAvailable:I,amount:I.length,providerApiresults:z}}}catch(k){throw k}}const Ye=V({props:{modelValue:{type:String},finalLatLngPass:Object},components:{SearchIcon:Pe,EyeIcon:$e,LocationMarkerIcon:Ie},data(){return{locationLat:"",locationLng:""}},mounted(){this.unfocus()},computed:{searchButtonDisabled(){return this.locationLat===""||this.locationLng===""},inputValue:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},searchDetails(){return{lat:parseFloat(this.locationLat),lng:parseFloat(this.locationLng)}}},watch:{finalLatLngPass(e,t){if(e){const o=String(this.finalLatLngPass.lat||""),i=String(this.finalLatLngPass.lng||"");this.locationLat=o.slice(0,13),this.locationLng=i.slice(0,13)}}},methods:{search(){let e="";const t=new google.maps.Geocoder,o=JSON.parse(localStorage.getItem("countryCodes")),i=JSON.parse(localStorage.getItem("countryNames"));t.geocode({location:this.searchDetails},async(l,c)=>{if(c!=="OK"){switch(c){case"ZERO_RESULTS":e="No results found for the provided location.";break;case"INVALID_REQUEST":e="The request is invalid. Please check the provided parameters.";break;case"UNKNOWN_ERROR":e="An unknown error occurred. Please try again later.";break;default:e=`Geocoding failed with status: ${c}`}console.error(e),confirm(e)&&(this.locationLat="",this.locationLng="",this.inputValue="");return}if(l.length>0){const r=l[0].place_id;if(!l.some(p=>p.address_components&&Array.isArray(p.address_components)?p.address_components.some(S=>S.short_name?o.includes(S.short_name):!1):!1))e=`We currently only provide services in: ${i.join(", ")}.`,confirm(e)&&(this.locationLat="",this.locationLng="",this.inputValue="");else{const p=await new google.maps.places.AutocompleteSessionToken;this.$emit("manualLatLng",r,p)}}else alert("No results found for the provided location.")})},focusInputlat(){this.$refs.locationLat.focus()},focusInputlng(){this.$refs.locationLng.focus()},focus(){this.$refs.input.focus()},unfocus(){this.$refs.input.blur()}}}),Ze={class:"relative flex gap-4 p-3 w-full"},Xe={class:"flex items-center pointer-events-none"},et={class:"flex gap-4 items-center justify-end"},tt={class:"sign-up-inputnew"},st={class:"sign-up-inputnew"};function ot(e,t,o,i,l,c){const r=$("SearchIcon"),d=$("LocationMarkerIcon");return n(),a("div",Ze,[s("div",Xe,[G(r,{class:"h-6 w-6 text-gray-400","aria-hidden":"true"})]),y(s("input",{ref:"input","onUpdate:modelValue":t[0]||(t[0]=p=>e.inputValue=p),type:"text",placeholder:"Enter your address...",class:"focus:ring-0 focus:border-0 focus-visible:outline-none p-0 w-full bg-transparent border-0 text-lg"},null,512),[[D,e.inputValue]]),t[8]||(t[8]=s("div",{class:"flex-grow"},null,-1)),t[9]||(t[9]=v()),s("div",et,[G(d,{class:"h-11 w-11 text-gray-400","aria-hidden":"false"}),s("div",tt,[y(s("input",{class:"border-1 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow-md focus:outline-none focus:ring-0 ease-linear transition-all duration-150",type:"text","onUpdate:modelValue":t[1]||(t[1]=p=>e.locationLat=p),required:"",ref:"locationLat"},null,512),[[D,e.locationLat]]),s("label",{for:"locationLat",onClick:t[2]||(t[2]=(...p)=>e.focusInputlat&&e.focusInputlat(...p))},"Latitude *")]),s("div",st,[y(s("input",{class:"border-1 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow-md focus:outline-none focus:ring-0 ease-linear transition-all duration-150",type:"text","onUpdate:modelValue":t[3]||(t[3]=p=>e.locationLng=p),required:"",ref:"locationLng"},null,512),[[D,e.locationLng]]),s("label",{for:"locationLng",onClick:t[4]||(t[4]=(...p)=>e.focusInputlng&&e.focusInputlng(...p))},"Longitude *")]),e.searchButtonDisabled?(n(),a("button",{key:1,class:"search-button disabled text-white font-bold py-2 px-4 rounded-md shadow-md",onClick:t[6]||(t[6]=(...p)=>e.search&&e.search(...p))},t[7]||(t[7]=[s("span",null,"Search",-1)]))):(n(),a("button",{key:0,class:"search-button text-white font-bold py-2 px-4 rounded-md shadow-md",onClick:t[5]||(t[5]=(...p)=>e.search&&e.search(...p))},"Search"))])])}var rt=B(Ye,[["render",ot],["__scopeId","data-v-5798de8e"]]);async function it(e){const t={version:"weekly",libraries:["places"]},o=new Te(e,t);try{const i=await o.load(),l=new i.maps.places.AutocompleteService;return{google:i,searchService:l}}catch(i){throw console.error("Failed to load Google Maps API:",i),i}}function de(e,t){return new google.maps.Map(e,t)}const nt=V({async mounted(){try{const e=await ae();if(typeof google=="undefined"){const{google:t,searchService:o}=await it(this.GKey);this.google=t,this.searchService=o;const i=!0;this.$emit("loadgoogleMap",i)}this.searchDebounced=Z.exports.debounce(this.search,this.debounceMsec)}catch(e){console.error("Error:",e)}},emits:["toResults","loadgoogleMap","searchParamsChanged"],props:{GKey:String,sessionNew:Object,manualLatLngPass:Object},components:{SearchBox:rt},data(){return{google:null,searchDebounced:null,location:"",debounceMsec:500,places:[],googleSessionToken:[],searchService:null,manualSearch:"",manualSession:""}},watch:{async location(e){var t;if(Z.exports.isEmpty(e)||e.length<3){this.$nextTick(()=>{this.places=[]});return}else!this.googleSessionToken||this.googleSessionToken.length==0||((t=this.sessionNew)==null?void 0:t.length)==0?await this.generateNewSessionToken():this.searchDebounced(),this.searchDebounced()},manualSession(e,t){e&&this.$emit("searchParamsChanged",this.manualSearch,e)}},created(){this.generateNewSessionToken=Z.exports.debounce(this.generateNewSessionToken.bind(this),this.debounceMsec)},methods:{async search(){try{if(this.location==""){console.log("location is empty");return}else{(!this.googleSessionToken||this.googleSessionToken.length==0)&&this.generateNewSessionToken();const e=localStorage.getItem("countryCodes"),t=e?JSON.parse(e):[],i=(await this.searchService.getPlacePredictions({input:this.location,sessionToken:this.googleSessionToken,componentRestrictions:{country:t}})).predictions;this.$emit("toResults",[i,this.googleSessionToken])}}catch(e){console.log(e)}},async generateNewSessionToken(){return new Promise(e=>{this.googleSessionToken=[];const t=new this.google.maps.places.AutocompleteSessionToken;this.googleSessionToken=t,e()})},handler(e,t){this.manualSearch=e,this.manualSession=t}}});function lt(e,t,o,i,l,c){const r=$("SearchBox");return n(),q(r,{class:"mapche-input",modelValue:e.location,"onUpdate:modelValue":t[0]||(t[0]=d=>e.location=d),finalLatLngPass:e.manualLatLngPass,onManualLatLng:e.handler,ref:"searchBox"},null,8,["modelValue","finalLatLngPass","onManualLatLng"])}var at=B(nt,[["render",lt]]);const dt=async()=>{try{const e=await f.get("https://ipinfo.io/json?token=703e925f42be39"),o=e.data.org.split(/ (.*)/);return{ipDetails:e.data,org:o}}catch(e){throw e}};async function ee(e){try{const o=(await f.get(`/mapche-api/v1/userprofile/?mapche_key=${e}`)).data[0],i=(o==null?void 0:o.primary_color)||"#012069",l=(o==null?void 0:o.secondary_color)||"#ff0059",c=o==null?void 0:o.is_default_client_primary,r=o==null?void 0:o.is_exclusive;return{clientPrimaryColor:i,clientSecondaryColor:l,isDefaultclientPrimary:c,isExclusive:r}}catch(t){throw console.error("Error fetching client preferences:",t),t}}var se="/assets/output-onlinepngtools_6_xrw2kg.5e1ec399.png";const ct=V({async mounted(){const e=localStorage.getItem("key");if(this.setClientPreferences(e),this.searchValue){const t=this.$refs.googleMap,{Map:o}=await google.maps.importLibrary("maps");new o(t,this.mapConfig)}},emits:["toLoc","provider"],props:{mapConfig:Object,searchValue:String,googleSessionToken:Object},components:{QuestionMarkCircleIcon:xe,CheckIcon:Ne,XIcon:Ae,ThumbDownIcon:Me,ThumbUpIcon:Le},data(){return{defaultCenter:{lat:-26.1112708,lng:28.0522961},loading:!1,category:null,google:null,searchService:null,map:null,index:0,placesServiceresults:[],latLng:"",infoContent:!1,infoWindowMarker:null,container:"Correct Location",geocodeUsed:!1,ipDetails:[],org:[],image:se,company:"",contact_person:"",email:"",phone:"",estimated_value:0,confidence:0,website:"",status:"new",priority:"medium",formatted_address:"",location_lat:0,location_lng:0,location_type:"",place_id:"",address_component_nr:"",address_component_street:"",address_component_suburb:"",address_component_town:"",address_component_metro:"",address_component_province:"",address_component_province_short:"",address_component_country:"",address_component_country_short:"",address_component_postal_code:"",postCode:"",errors:[],isDefaultclientPrimary:!1,providerCardColor:{clientPrimaryColor:"",clientSecondaryColor:""},images:[{id:4,src:se,alt:"MapChi Marker"}]}},watch:{searchValue(e){Z.exports.isEmpty(e)||e.length<3||this.initMap()}},methods:{setClientPreferences(e){ee(e).then(t=>{this.providerCardColor.clientPrimaryColor=t.clientPrimaryColor,this.providerCardColor.clientSecondaryColor=t.clientSecondaryColor,this.isDefaultclientPrimary=t.isDefaultclientPrimary,document.documentElement.style.setProperty("--client-primary-color",this.providerCardColor.clientPrimaryColor),document.documentElement.style.setProperty("--client-secondary-color",this.providerCardColor.clientSecondaryColor)}).catch(t=>{console.error("Error fetching client preferences:",t)})},thumbup(){this.submitForm()},thumbdown(){this.container="Drag To New Location"},async initMap(){this.geocodeUsed=!1;const e=this.$refs.googleMap,{Map:t,InfoWindow:o}=await google.maps.importLibrary("maps"),{AdvancedMarkerElement:i,PinElement:l}=await google.maps.importLibrary("marker"),c=new t(e,this.mapConfig);c!=null?this.placesService(this.searchValue,this.googleSessionToken,c,i,l,o):console.log("problem with initMap, googlemaploader.vue")},placesService(e,t,o,i,l,c){if(e!=null&&t!=null){const r=new google.maps.places.PlacesService(o),d={placeId:e,sessionToken:t,fields:["address_component","formatted_address","geometry","name","place_id","type","url"]};this.placesServiceresults=[],r.getDetails(d,async(p,S)=>{if(S!="OK"||!p)throw console.log("problem with service.getDetails, googlemaploader.vue"),new Error(S);this.placesServiceresults=p,this.$emit("toLoc",this.latLng,this.placesServiceresults.formatted_address),this.geocodeUsed||this.Marker(o,i,l,c)})}else console.log("place_id, googleSessionToken empty placeService, googlemaploader.vue")},geocodelatLng(e,t,o,i){new google.maps.Geocoder().geocode({location:this.latLng},async(c,r)=>{if(r!=="OK"){let d="";switch(r){case"ZERO_RESULTS":d="No results found for the provided location.";break;case"INVALID_REQUEST":d="The request is invalid. Please check the provided parameters.";break;case"UNKNOWN_ERROR":d="An unknown error occurred. Please try again later.";break;default:d=`Geocoding failed with status: ${r}`}console.error(d),alert(d);return}if(c.length>0){const d=c[0].place_id,p=await new google.maps.places.AutocompleteSessionToken;this.geocodeUsed=!0,this.container="Correct Location",this.placesService(d,p,e,t,o,i)}else alert("No results found for the provided location.")})},async Marker(e,t,o,i){const l=this.$refs.infocontentString,c=new DOMParser,r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" width="23" height="23" transform="matrix(1, 0, 0, 1, 0, 0)"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M225.4 233.4c-12.5 12.5-12.5 32.8 0 45.3 12.5 12.5 32.8 12.5 45.3 0 12.5-12.5 12.5-32.8 0-45.3-12.5-12.5-32.8-12.5-45.3 0zM248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm126.1 148.1L308.2 300.4a31.9 31.9 0 0 1 -15.8 15.8l-144.3 66c-16.7 7.6-33.8-9.6-26.2-26.2l66-144.4a31.9 31.9 0 0 1 15.8-15.8l144.3-66c16.7-7.6 33.8 9.6 26.2 26.2z" fill="#fffff9"/></svg>',d=c.parseFromString(r,"image/svg+xml").documentElement;new o({glyph:d});const p=new i,S=JSON.parse(JSON.stringify(this.placesServiceresults));this.latLng=S.geometry.location;const W=(k,R,U=!1)=>{const z=k.address_components.find(I=>I.types.includes(R));return z?U?z.short_name:z.long_name:""};this.postCode=W(S,"postal_code"),this.placesServiceresults=S;const L=new t({map:e,position:this.latLng,gmpDraggable:!0,content:new o({scale:1.5,background:this.providerCardColor.clientPrimaryColor,glyph:d,borderColor:"#fffff9"}).element});this.infoWindowMarker=L,e.addListener("click",({domEvent:k,latLng:R})=>{p.close()});let Y;L.addListener("dragend",({domEvent:k,latLng:R})=>{Y={lat:this.latLng.lat,lng:this.latLng.lng};const U={lat:R.lat(),lng:R.lng()};!Y||U.lat===Y.lat&&U.lng===Y.lng?(p.close(),this.infoContent=!0,p.setContent(l),p.open(L.map,L)):(p.close(),this.latLng=L.position,this.geocodelatLng(e,t,o,i),p.open(L.map,L))}),L.addListener("click",({domEvent:k,latLng:R})=>{p.close(),this.infoContent=!0,p.setContent(l),p.open(L.map,L)}),this.infoContent=!0,p.setContent(l),p.open(L.map,L),this.$emit("toLoc",this.latLng,this.placesServiceresults.formatted_address),e.setCenter(L.position)},async submitForm(){const e=JSON.parse(JSON.stringify(this.placesServiceresults));console.log(e);try{const{ipDetails:t,org:o}=await dt();console.log(t),console.log(o),e&&(this.$emit("provider",this.latLng,this.postCode),this.infoWindowMarker.map=null)}catch(t){if(t.response)for(const o in t.response.data)this.errors.push(`${o}: ${t.response.data[o]}`);else t.message&&this.errors.push("Something went wrong. Please try again!")}}}}),pt={id:"myDIV",class:"google-map",ref:"googleMap"},ut={tabindex:"1",ref:"infocontentString"},ht={key:0,class:"containerspinner"},mt={key:1,class:"container"},gt={class:"tabbar tab-style1 pt-2 text-base font-medium text-gray-50 text-center"},ft={class:"flex-center"},yt={id:"down"},vt={class:"help active"},bt={id:"up"};function St(e,t,o,i,l,c){const r=$("ThumbDownIcon"),d=$("QuestionMarkCircleIcon"),p=$("ThumbUpIcon");return n(),a("div",pt,[y(s("div",ut,[e.loading?(n(),a("div",ht)):(n(),a("div",mt,[s("div",gt,[v(u(e.container)+" ",1),s("ul",ft,[s("button",{onClick:t[0]||(t[0]=(...S)=>e.thumbdown&&e.thumbdown(...S))},[s("li",yt,[s("i",null,[G(r,{class:"up-mark w-6 h-6 opacity-100 hover:opacity-50"})])])]),s("li",vt,[s("i",null,[G(d,{class:"question-mark w-6 h-6"})])]),s("button",{onClick:t[1]||(t[1]=(...S)=>e.thumbup&&e.thumbup(...S))},[s("li",bt,[s("i",null,[G(p,{class:"down-mark w-7 h-7 opacity-100 hover:opacity-70"})])])]),t[2]||(t[2]=s("li",{class:"follow"},"\xA0",-1))])])]))],512),[[Q,e.infoContent]])],512)}var wt=B(ct,[["render",St],["__scopeId","data-v-6d6ad0d9"]]);const Ct=V({props:{text:{required:!1,type:String,default:"Fetching Results..."},imageref:{required:!1,type:String,default:""},marketing:{required:!1,type:Boolean,default:!1},ad_delay:{type:Boolean},apiResults:{type:Boolean},roller:{required:!1,type:Boolean,default:!1},dots:{required:!1,type:Boolean,default:!1}},emits:["stepSpinner"],data(){return{countdownPercentage:0,startTime:0,quoteToDisplay:[],quoteToDisplayString:"",quoteString:"Test",quotesList:[],contact:!1,isQuotePlaying:!1,quoteTypingAnimationDelay:100,showBlinking:!1,blinkingAnimationDelay:300,isDefaultclientPrimary:!1,providerCardColor:{clientPrimaryColor:"",clientSecondaryColor:""}}},mounted(){const e=localStorage.getItem("key");this.setClientPreferences(e),this.startCountdown(),this.changeProgressBarColor(),this.startTime=performance.now()},created(){this.playQuote()},watch:{ad_delay(e){if(this.startTime||e){const t=performance.now(),o=(t-this.startTime)/1e3,i=Math.max(0,15-o)*1e3;console.log(`Time taken: ${(t-this.startTime)/1e3} seconds`),console.log(`Time delay: ${i/1e3} seconds`),this.countdown(i),this.sleep(i).then(()=>{console.log("delay completed")})}},apiResults(e){e&&(this.contact=!0)}},methods:{setClientPreferences(e){ee(e).then(t=>{this.providerCardColor.clientPrimaryColor=t.clientPrimaryColor,this.providerCardColor.clientSecondaryColor=t.clientSecondaryColor,this.isDefaultclientPrimary=t.isDefaultclientPrimary,document.documentElement.style.setProperty("--client-primary-color",this.providerCardColor.clientPrimaryColor),document.documentElement.style.setProperty("--client-secondary-color",this.providerCardColor.clientSecondaryColor)}).catch(t=>{console.error("Error fetching client preferences:",t)})},changeProgressBarColor(){const e=this.$refs.progressBar,t=[this.providerCardColor.clientPrimaryColor,this.providerCardColor.clientSecondaryColor,this.providerCardColor.clientPrimaryColor,this.providerCardColor.clientSecondaryColor];let o=0;e!==null&&setInterval(()=>{e.style.backgroundColor=t[o],o=(o+1)%t.length},1e3)},startCountdown(){setInterval(()=>{this.countdownPercentage+=3,this.countdownPercentage>100&&(this.countdownPercentage=100)},1e3)},sleep(e){return new Promise(t=>setTimeout(t,e))},openNewWindow(){window.open("https://mapchi.sirantd.com","MapChi")},countdown(e){const t=document.querySelector(".skip-button-container"),o=document.querySelector(".ad-button-container"),i=o==null?void 0:o.querySelector(".ad-button-time-remaining"),l=t==null?void 0:t.querySelector(".skip-button-ad");let c=Math.ceil(e/1e3+4);console.log(`Time delay: ${c} adjust`),i&&(i.textContent=`Ad: ${c.toString().padStart(2,"0")}`);const r=setInterval(()=>{switch(c--,i&&(i.textContent=`Ad: ${c.toString().padStart(2,"0")}`),c){case 10:case 5:o&&(o.style.display="none"),t&&(t.style.display="block");break;case 0:clearInterval(r),o&&(o.style.display="none"),this.$emit("stepSpinner",this.contact);break}},1e3);l&&l.addEventListener("click",()=>{clearInterval(r),this.$emit("stepSpinner",this.contact)})},async playQuote(){if(!this.isQuotePlaying){this.quoteToDisplay=[],this.quoteToDisplayString="",this.quotesList=this.quoteString.split(""),this.isQuotePlaying=!0;for(let e=0;e<this.quotesList.length;e++)await this.sleep(this.quoteTypingAnimationDelay),this.quoteToDisplay.push(this.quotesList[e]),this.quoteToDisplayString=this.quoteToDisplay.join(""),e===this.quotesList.length-1&&(this.isQuotePlaying=!1)}}}}),kt={key:0,class:"loading-box"},Pt={class:"image-container"},$t={class:"textsize"};function It(e,t,o,i,l,c){return e.dots?(n(),a("div",kt,[s("div",Pt,[t[0]||(t[0]=_('<div class="dots" data-v-75fc437c><div class="dot" data-v-75fc437c></div><div class="dot" data-v-75fc437c></div><div class="dot" data-v-75fc437c></div><div class="dot" data-v-75fc437c></div><div class="dot" data-v-75fc437c></div></div>',1)),s("div",{ref:"progressBar",class:"progress-bar",id:"progress-bar"},u(e.countdownPercentage)+"% ",513),s("div",$t,u(e.text),1)])])):h("",!0)}var Tt=B(Ct,[["render",It],["__scopeId","data-v-75fc437c"]]),xt="/assets/MapChi_Logo_m7fj4o.6c038782.png";const Nt=V({async mounted(){const e=["step1","step2","step3","step4"];this.stepBtns=e.map(o=>this.$refs[o]);const t=["subscription-form-wrapper1","subscription-form-wrapper2","subscription-form-wrapper3","subscription-form-wrapper4"];if(this.formSteps=t.map(o=>this.$refs[o]),this.edit=this.$refs.subscriptionorderoverview,this.toggle=this.$refs.edit,this.buy=document.querySelector(".buy"),console.log(this.buy,"buy"),this.buybottom=document.querySelector(".bottom"),console.log(this.buybottom,"buybottom"),this.buyremove=document.querySelector(".remove"),console.log(this.buyremove,"buyremove"),this.toggle.addEventListener("click",this.morph_animation),this.stepBtns.length!=null)for(let o=0;o<this.stepBtns.length;o++)this.stepBtns[o].addEventListener("click",()=>{this.formStepsNum=o,this.updateFormSteps()});this.getOnlySelectedService()},props:{apiResults:Object,serviceChoice:String},components:{VueSlider:_e},setup(){return{}},data(){return{abc:!1,formStepsNum:0,formSteps:[],stepBtns:[],toggle:[],edit:[],buy:[],buybottom:[],buyremove:[],disablehover:[],sliderAmount:void 0,slidesPerView:1,basketItems:[],counterCheckoutItems:0,currency:"R",selectedServices:[],ServicesType:"",selectedServiceType:"Select Option",selectedSupplier:"Select Option",selectedSpeed:"Select Option",selectedTerm:"Term",selectedPrice:0,slideKey:0,initialSlide:0,thumbsSwiper:null,thumbsize:0,screenwidth:{},internet:!0,transit:!1,ip:!0,slider:{data:[]},providerCardTextColor:{comsol:"#a6a4a6",openserve:"#fff",mtn:"#4B5563",liquidtelecom:"#fff",frogfoot:"#0b2c48",bitco:"#fff",wiocc:"#fff",easyweb:"#fff",meshtelecom:"#fff",dfa:"#fff",linkafrica:"#fff",seacom:"#fff",telkom:"#fff",vodacom:"#fff",metrofibrenetworx:"#0c1c24",vumatelbusiness:"#fff",mtnbusiness:"#0a0804",mapchi:"#fff",metrofibrenetworxftth:"#0c1c24",openserveftth:"#fff"},providerCardColor:{comsol:"#23337b",openserve:"#16b251",mtn:"#fbc404",liquidtelecom:"#ca1c7c",frogfoot:"#2db653",bitco:"#2b3c8a",wiocc:"#23348c",easyweb:"#72acde",meshtelecom:"#a62129",dfa:"#00b500",linkafrica:"#624d89",seacom:"#356692",telkom:"#0884c4",vodacom:"#ec3424",metrofibrenetworx:"#f4561b",vumatelbusiness:"#ee008c",mtnbusiness:"#fbc404",mapchi:"#db2777",metrofibrenetworxftth:"#f4561b",openserveftth:"#16b251"},providers:{mapchi:xt},providerCardIconColor:"#fff",providerCardIconColorBackground:"#92879B"}},created(){window.addEventListener("resize",()=>{this.screenwidth=window.innerWidth})},watch:{selectedSpeed(){}},computed:{isMobile(){return this.screenwidth<480},total(){return this.basketItems.reduce((e,t)=>e+t.total,0)},test(){return!0},getproviderCardTextColor(){return e=>this.providerCardTextColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardTextColor.mapchi},getproviderBgColor(){return e=>this.providerCardColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardColor.mapchi},getproviderCardBg(){return e=>`url(${this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi})`},getproviderThumbLogo(){return e=>this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi},getUniqueServiceType(){let e=[];return this.selectedSupplier!="Select Option"?(e=m.filter(this.selectedServices,{supplierName:this.selectedSupplier}),console.log(e),e=m.sortBy(e,"productType"),e=m.uniqBy(e,"productType"),e):(e=m.sortBy(this.selectedServices,"productType"),e=m.uniqBy(this.selectedServices,"productType"),console.log(e),e)},getUniqueTerm(){let e=[];switch(this.selectedServiceType){case"Term":return e;case"Layer2":e=m.filter(this.selectedServices,{productType:this.selectedServiceType});break;default:const t=m.filter(this.selectedServices,{productType:"Layer3 - Guaranteed Services (SLA)"}),o=m.filter(this.selectedServices,{productType:"Layer3 - Best Effort Services (No SLA)"});e=m.concat(t,o);break}return e=m(e).sortBy("contractPeriod").map("contractPeriod").uniq().value(),e!=null&&(e.length>=2?(this.selectedTerm="",this.selectedTerm=e[1]):(this.selectedTerm="",this.selectedTerm=e[0])),e},getUniqueSpeed(){let e=[],t=[],o=[],i="Layer3 - Guaranteed Services (SLA)",l="Layer3 - Best Effort Services (No SLA)";if(this.selectedSpeed="Select Option",this.selectedServiceType!=="Select Option")switch(this.selectedServiceType){case"Layer2":e=m.filter(this.selectedServices,{productType:this.selectedServiceType,contractPeriod:this.selectedTerm}),e=m.uniqBy(e,"capacity"),e=m.sortBy(e,"capacity");break;default:t=m.filter(this.selectedServices,{productType:i,contractPeriod:this.selectedTerm}),o=m.filter(this.selectedServices,{productType:l,contractPeriod:this.selectedTerm}),e=m.concat(t,o),e=m.sortBy(e,"capacity"),e=m.uniqBy(e,"capacity");break}return e},getPrice(){let e=[],t=[],o=[],i="Layer3 - Guaranteed Services (SLA)",l="Layer3 - Best Effort Services (No SLA)";if(console.log(this.selectedPrice,"selected Price"),this.selectedPrice=0,this.selectedServiceType!="Select Option"){switch(this.selectedServiceType){case"Layer2":e=m.filter(this.selectedServices,{productType:this.selectedServiceType,contractPeriod:this.selectedTerm,capacity:this.selectedSpeed}),e=m.uniqBy(e,"supplierName"),e=m.sortBy(e,"MRC"),console.log(e,"Price");break;default:t=m.filter(this.selectedServices,{productType:i,contractPeriod:this.selectedTerm,capacity:this.selectedSpeed}),o=m.filter(this.selectedServices,{productType:l,contractPeriod:this.selectedTerm,capacity:this.selectedSpeed}),e=m.concat(t,o),e=m.uniqBy(e,"supplierName"),e=m.sortBy(e,"MRC"),console.log(e,"contractPeriod");break}switch(this.test,e.length){case 1:this.slidesPerView=e.length,this.thumbsize=80;break;case 2:this.slidesPerView=e.length,this.thumbsize=61;break;case 3:this.slidesPerView=e.length,this.thumbsize=41;break;case 4:this.slidesPerView=e.length,this.thumbsize=21;break;default:this.slidesPerView=Math.min(4,e.length),this.thumbsize=e.length>4?21:0;break}this.resetSlides()}return e}},methods:{addItemToBasket(e){console.log(`Adding ${e.supplierName} to the shopping basket...`);let t="Layer3 - Guaranteed Services (SLA)",o="Layer3 - Best Effort Services (No SLA)";console.log(e.productType),e.productType===t?this.ServicesType="Internet":e.productType===o?this.ServicesType="Internet":this.ServicesType=e.productType,console.log(e);const i=this.basketItems.findIndex(c=>c.supplierName===e.supplierName&&c.MRC===e.MRC),l=this.basketItems.length;i>=0?console.log("this item has already been added!"):l>2?console.log("Pls remove an item, no more than 3 items allowed"):(this.counterCheckoutItems=l+1,this.basketItems.push({supplierName:e.supplierName,capacity:e.capacity,product:e.product,productType:this.ServicesType,contractPeriod:e.contractPeriod,NRC:e.NRC,MRC:e.MRC,quantity:1,total:e.MRC}))},checkoutItems(){this.formStepsNum=3,this.updateFormSteps()},removeItemFromBasket(e){const t=this.basketItems.indexOf(e);this.basketItems.splice(t,1),this.counterCheckoutItems=this.basketItems.length},handleSwiperClick(){this.buy=document.querySelector(".buy"),this.buybottom=document.querySelector(".bottom"),this.buyremove=document.querySelector(".remove"),this.buy!=null&&this.buy.addEventListener("click",this.buyitem),this.buyremove!=null&&this.buyremove.addEventListener("click",this.removebuyitem)},resetSlides(){document.documentElement.style.setProperty("--transform-providerCardIconColor",this.providerCardIconColor),document.documentElement.style.setProperty("--transform-providerCardIconColorBackground",this.providerCardIconColorBackground),document.documentElement.style.setProperty("--transform-slide-thumb-size",this.thumbsize+"%")},async updateFormSteps(){this.removeActive(),console.log(this.stepBtns[this.formStepsNum]),this.stepBtns[this.formStepsNum].classList.add("step-active"),this.formSteps[this.formStepsNum].classList.add("subscription-form-wrapper-active");let e=new ie(this.$refs.swiper1,{spaceBetween:10,slidesPerView:this.slidesPerView<=4?this.slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,allowTouchMove:!1}),t=new ie(this.$refs.swiper2,{modules:[me,Be,ge],spaceBetween:10,navigation:{nextEl:this.$refs.swiperbuttonnext,prevEl:this.$refs.swiperbuttonprev},thumbs:{swiper:e},on:{slideChange:function(){console.log("Swiper changed");var o=t.activeIndex;console.log(o)}}})},async removeActive(){for(let e=0;e<this.stepBtns.length;e++)this.stepBtns[e].classList.remove("step-active"),this.formSteps[e].classList.remove("subscription-form-wrapper-active"),this.edit.classList.contains("show-subscriptions")&&(this.edit.classList.remove("show-subscriptions"),this.toggle.classList.remove("close-button"),this.toggle.textContent="Edit")},async getOnlySelectedService(){this.selectedServices=[],this.selectedServices=m.filter(this.apiResults,{product:this.serviceChoice})},async morph_animation(){this.toggle!=null&&this.edit!=null&&(this.edit.classList.contains("show-subscriptions")?(this.edit.classList.remove("show-subscriptions"),this.toggle.classList.remove("close-button"),this.toggle.textContent="Edit"):(this.edit.classList.add("show-subscriptions"),this.toggle.classList.add("close-button"),this.toggle.textContent="Close"))},buyitem(){this.buybottom.classList.add("clicked")},removebuyitem(){this.buybottom.classList.remove("clicked")}}}),At={class:"container2 w-full"},Mt={class:"subscription-funnel-wrapper"},Lt={class:"subscription-steps"},_t={ref:"step1",class:"step step-active pt-1","data-title":"Selection"},Bt={ref:"step2",class:"step pt-1","data-title":"Add-Ons"},Ot={ref:"step3",class:"step pt-1","data-title":"Details"},Dt={ref:"step4",class:"step pt-1","data-title":"Results"},Vt={ref:"subscription-form-wrapper1",class:"subscription-form-wrapper subscription-form-wrapper-active top-2"},Rt={class:"flex gap-2 pt-3"},zt={class:"w-60 xs:basis-1/2"},Et={class:"flex flex-col xs:border rounded-lg"},Ft={class:"flex pt-3 px-1"},qt={class:"basis-1/2 hidden xs:block"},Ut={class:"flex flex-col xs:border rounded-lg"},jt={class:"flex pt-1.5 pb-2 pr-9 px-1"},Gt=["value"],Wt={class:"w-50 block xs:hidden pt-3"},Kt={class:"flex flex-col xs:border rounded-lg"},Jt={class:"flex pt-2"},Ht=["value"],Qt={class:"pt-5"},Yt={class:"flex flex-col xs:border rounded-lg"},Zt={class:"flex pt-9"},Xt={class:"ml-auto w-full pr-3 pb-10"},es={ref:"subscription-form-wrapper2",class:"subscription-form-wrapper top-2"},ts={ref:"subscription-form-wrapper3",class:"subscription-form-wrapper bg-slate-500"},ss={class:"swiper-container"},os={class:"swiper-wrapper"},rs={class:"wrapper"},is={class:"container"},ns={class:"top"},ls={class:"bottom"},as={class:"buy"},ds=["onClick"],cs={class:"right"},ps={class:"remove"},us=["onClick"],hs={class:"inside"},ms={class:"overview"},gs={class:"flex flex-col"},fs={class:"flex"},ys={class:"flex"},vs={class:"flex"},bs={class:"flex"},Ss={class:"flex flex-col"},ws={class:"flex"},Cs={class:"flex"},ks={class:"flex"},Ps={class:"flex"},$s={ref:"swiperbuttonnext",class:"swiper-button-next"},Is={ref:"swiperbuttonprev",class:"swiper-button-prev"},Ts={thumbsSlider:"",ref:"swiper1",class:"swiper mySwiper"},xs={class:"swiper-wrapper"},Ns=["src"],As={class:"test bg-white rounded-md shadow-lg"},Ms={ref:"subscription-form-wrapper4",class:"subscription-form-wrapper"},Ls={ref:"subscriptionorderoverview",class:"subscription-order-overview"},_s={class:"my-1 mx-1"},Bs={class:"flex"},Os={class:"shoppingcart xs:w-3/4 bg-white px-5 py-1"},Ds={class:"flex justify-between border-b pb-2"},Vs={class:"w-full flex xs:w-1/3 justify-start items-center"},Rs={class:"relative"},zs={key:0,class:"absolute top-3 left-6 bg-red-500 text-white px-2 py-1 rounded-full text-xs"},Es={class:"flex w-full xs:w-2/5"},Fs={class:"w-15 mr-0 xs:mr-2 pt-2 hidden xs:block"},qs=["src"],Us={class:"flex flex-col justify-between flex-grow"},js={class:"text-gray-600 text-xs xs:text-xs"},Gs={class:"text-red-500 text-xs xs:text-xs"},Ws={class:"text-gray-600 text-xs xs:text-xs"},Ks={class:"flex w-full xs:w-1/12 justify-center items-center xs:border-l"},Js={class:"text-center text-gray-600 text-xs xs:text-xs"},Hs={class:"flex w-full xs:w-1/4 justify-center items-center xs:border-l"},Qs={class:"text-center text-gray-600 text-xs xs:text-xs"},Ys={class:"flex w-full xs:w-1/4 justify-center items-center xs:border-l"},Zs={class:"text-center text-gray-600 text-xs xs:text-xs"},Xs={class:"flex w-full xs:w-1/12 justify-center items-center xs:border-l"},eo=["onClick"],to={class:"flex justify-between border-t pt-2"},so={class:"pt-1 font-semibold text-gray-600 text-sm"},oo={ref:"edit",class:"edit"},ro={class:"editdisable"};function io(e,t,o,i,l,c){const r=$("vue-slider");return n(),a("div",At,[s("div",Mt,[s("div",Lt,[s("div",_t,t[7]||(t[7]=[s("i",{class:"material-symbols-outlined"},"mouse",-1)]),512),s("div",Bt,t[8]||(t[8]=[s("i",{class:"material-symbols-outlined"},"forms_add_on",-1)]),512),s("div",Ot,t[9]||(t[9]=[s("i",{class:"material-symbols-outlined"},"settings_account_box",-1)]),512),s("div",Dt,t[10]||(t[10]=[s("i",{class:"material-symbols-outlined"},"send",-1)]),512)]),s("div",Vt,[s("div",Rt,[s("div",zt,[s("div",Et,[t[14]||(t[14]=s("h4",{class:"pl-5 step-heading hidden xs:block"},"Service Type",-1)),s("div",Ft,[t[11]||(t[11]=s("div",{class:"pr-3"},[s("span",{class:"scale-110 text-gray-500 material-symbols-outlined"},"cable")],-1)),s("div",null,[y(s("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=d=>e.selectedServiceType=d),value:"Layer3 - Best Effort Services (No SLA)",name:"internet"},null,512),[[ue,e.selectedServiceType]])]),t[12]||(t[12]=s("div",{class:"ml-auto w-full pl-1"},[s("label",{for:"internet"},"Internet")],-1)),s("div",null,[y(s("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=d=>e.selectedServiceType=d),value:"Layer2",name:"transit"},null,512),[[ue,e.selectedServiceType]])]),t[13]||(t[13]=s("div",{class:"ml-auto w-full pl-1"},[s("label",{for:"transit"},"Transit")],-1))])])]),s("div",qt,[s("div",Ut,[t[17]||(t[17]=s("h4",{class:"pl-5 step-heading"},"Speed (mpbs)",-1)),s("div",jt,[t[16]||(t[16]=s("div",{class:"pt-1 pr-3"},[s("span",{class:"flex scale-110 text-gray-500 material-symbols-outlined"},"speed")],-1)),y(s("select",{class:"ml-auto w-full px-2 py-0","onUpdate:modelValue":t[2]||(t[2]=d=>e.selectedSpeed=d)},[t[15]||(t[15]=s("option",{selected:""},"Select Option",-1)),(n(!0),a(b,null,w(e.getUniqueSpeed,d=>(n(),a("option",{value:d.capacity},u(d.capacity)+" Mbps",9,Gt))),256))],512),[[J,e.selectedSpeed]])])])])]),s("div",null,[s("div",Wt,[s("div",Kt,[t[20]||(t[20]=s("h4",{class:"pl-5 step-heading hidden xs:block"},"Speed (mpbs)",-1)),s("div",Jt,[t[19]||(t[19]=s("div",{class:"pt-1 pr-3"},[s("span",{class:"scale-110 text-gray-500 material-symbols-outlined"},"speed")],-1)),y(s("select",{class:"ml-auto w-full px-2 py-0","onUpdate:modelValue":t[3]||(t[3]=d=>e.selectedSpeed=d)},[t[18]||(t[18]=s("option",{selected:""},"Select Option",-1)),(n(!0),a(b,null,w(e.getUniqueSpeed,d=>(n(),a("option",{value:d.capacity},u(d.capacity)+" Mbps",9,Ht))),256))],512),[[J,e.selectedSpeed]])])])])]),s("div",Qt,[s("div",Yt,[t[22]||(t[22]=s("h4",{class:"pl-5 step-heading hidden xs:block"},"Term (month)",-1)),s("div",Zt,[t[21]||(t[21]=s("div",{class:"pr-3"},[s("span",{class:"scale-110 text-gray-500 material-symbols-outlined"},"date_range")],-1)),s("div",Xt,[G(r,{modelValue:e.selectedTerm,"onUpdate:modelValue":t[4]||(t[4]=d=>e.selectedTerm=d),included:!0,tooltip:"always",data:e.getUniqueTerm,max:e.sliderAmount,adsorb:!0,marks:!0},null,8,["modelValue","data","max"])])])])])],512),s("div",es,t[23]||(t[23]=[_('<div class="flex gap-2 pt-3" data-v-4607075c><div class="basis-1/2 pt-3" data-v-4607075c><div class="flex flex-col" data-v-4607075c><h4 class="pl-5 step-heading" data-v-4607075c>IP (blocks)</h4><div class="flex pt-2" data-v-4607075c><div class="pt-1 pr-3" data-v-4607075c><span class="scale-110 text-gray-500 material-symbols-outlined" data-v-4607075c>speed</span></div><select class="ml-auto w-full px-2 py-0" data-v-4607075c><option selected data-v-4607075c>IP (blocks)</option><option value="/30" data-v-4607075c>Add /30</option><option value="/29" data-v-4607075c>Add /29</option><option value="/27" data-v-4607075c>Add /27</option><option value="/24" data-v-4607075c>Add /24</option></select></div></div></div></div>',1)]),512),y(s("div",ts,[s("div",ss,[s("div",{ref:"swiper2",class:"swiper mySwiper2",onClick:t[5]||(t[5]=(...d)=>e.handleSwiperClick&&e.handleSwiperClick(...d))},[s("div",os,[(n(!0),a(b,null,w(e.getPrice,(d,p)=>(n(),a("div",{class:"swiper-slide",key:d.MRC},[s("div",rs,[s("div",is,[s("div",ns,[s("div",{class:"package-info",style:g({backgroundColor:e.getproviderBgColor(d.supplierName)})},[s("h3",{class:"package-speed",style:g({color:e.getproviderCardTextColor(d.supplierName)})},[s("span",null,u(d.capacity),1),s("span",{class:"package-speed-indicator",style:g({color:e.getproviderCardTextColor(d.supplierName)})},"Mbps",4)],4),s("h3",{class:"pt-1 text-5xl",style:g({color:e.getproviderCardTextColor(d.supplierName)})},[s("span",{class:"pr-2",style:g({color:e.getproviderCardTextColor(d.supplierName)})},u(e.currency)+u(d.MRC),5),s("span",{class:"price-term",style:g({color:e.getproviderCardTextColor(d.supplierName)})},"x"+u(d.contractPeriod),5)],4),s("h3",{class:"pt-1 text-xs",style:g({color:e.getproviderCardTextColor(d.supplierName)})},[s("span",{class:"pr-2",style:g({color:e.getproviderCardTextColor(d.supplierName)})},"Once-Off",4),s("span",null,u(e.currency)+u(d.NRC),1)],4)],4)]),s("div",ls,[s("div",{class:"left",style:g({background:e.getproviderCardBg(d.supplierName),backgroundRepeat:"no-repeat",backgroundSize:"32%",backgroundPosition:"calc(80% - 50%) 30%"})},[s("div",as,[s("i",{class:"scale-125 material-symbols-outlined",onClick:S=>e.addItemToBasket(d)},"add_shopping_cart",8,ds)])],4),s("div",cs,[t[24]||(t[24]=s("div",{class:"done"},[s("i",{class:"material-symbols-outlined"},"done")],-1)),t[25]||(t[25]=s("div",{class:"details text-lg"},[s("p",null,"Added to your cart")],-1)),s("div",ps,[s("i",{class:"material-symbols-outlined",onClick:S=>e.removeItemFromBasket(d)},"clear",8,us)])])])]),s("div",hs,[t[39]||(t[39]=s("div",{class:"icon"},[s("i",{class:"scale-150 material-symbols-outlined"},"info")],-1)),s("div",ms,[s("table",null,[t[38]||(t[38]=s("tr",null,[s("th",{class:"text-xs text-gray-500"},"Included:"),s("th",{class:"text-xs text-gray-500"},"Excluded:")],-1)),s("tr",null,[s("th",null,[s("div",gs,[s("div",fs,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.getproviderBgColor(d.supplierName)})},"speed",4),t[26]||(t[26]=s("span",{class:"pl-2"},"Fast & Unlimited Data",-1))]),s("div",ys,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.getproviderBgColor(d.supplierName)})},t[27]||(t[27]=[s("span",{class:"material-symbols-outlined"},"router",-1)]),4),t[28]||(t[28]=s("span",{class:"pl-2"},"Router included",-1))]),s("div",vs,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.getproviderBgColor(d.supplierName)})},t[29]||(t[29]=[s("span",{class:"material-symbols-outlined"},"support_agent",-1)]),4),t[30]||(t[30]=s("span",{class:"pl-2"},"24/7 Support",-1))]),s("div",bs,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.getproviderBgColor(d.supplierName)})},t[31]||(t[31]=[s("span",{class:"material-symbols-outlined"},"hail",-1)]),4),t[32]||(t[32]=s("span",{class:"pl-2"},"All prices exclude VAT",-1))])])]),s("th",null,[s("div",Ss,[s("div",ws,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.getproviderBgColor(d.supplierName)})},t[33]||(t[33]=[s("span",{class:"material-symbols-outlined"},"timer",-1)]),4),t[34]||(t[34]=s("span",{class:"pl-2"},"SLA",-1))]),s("div",Cs,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.getproviderBgColor(d.supplierName)})},"bring_your_own_ip ",4),t[35]||(t[35]=s("span",{class:"pl-2"},"Static IP",-1))]),s("div",ks,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.getproviderBgColor(d.supplierName)})},"dialer_sip ",4),t[36]||(t[36]=s("span",{class:"pl-2"},"Voice VLAN",-1))]),s("div",Ps,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.getproviderBgColor(d.supplierName)})},"payment ",4),t[37]||(t[37]=s("span",{class:"pl-2"},"Free Installation",-1))])])])])])])])])]))),128))]),s("div",$s,null,512),s("div",Is,null,512)],512),s("div",Ts,[s("div",xs,[e.abc?h("",!0):(n(!0),a(b,{key:0},w(e.getPrice,d=>(n(),a("div",{class:"swiper-slide",key:d.MRC},[s("img",{class:"w-20 p-2 h-10 xs:h-12 bg-white rounded-md shadow-lg",src:e.getproviderThumbLogo(d.supplierName)},null,8,Ns)]))),128)),e.abc?(n(!0),a(b,{key:1},w(e.getPrice,d=>(n(),a("div",{class:"swiper-slide",key:d.MRC},[s("button",As,[s("span",null,u(d.capacity)+" Mbps",1),v(" "+u(e.currency)+u(d.MRC),1)])]))),128)):h("",!0)])],512)])],512),[[Q,e.test]]),s("div",Ms,t[40]||(t[40]=[_('<div class="has-account" data-v-4607075c>Already have an account? <span class="highlight" data-v-4607075c>Login</span></div><div class="form" data-v-4607075c><input type="text" name="username" placeholder="Email Address" data-v-4607075c><input type="password" name="password" placeholder="Password" data-v-4607075c></div><div id="terms" class="terms" data-v-4607075c><input type="checkbox" name="vehicle" value="Bike" data-v-4607075c> I agree to the <span class="highlight" data-v-4607075c>Terms &amp; Conditions</span>, <span class="highlight" data-v-4607075c>Community Standards</span> and <span class="highlight" data-v-4607075c>Privacy Policy</span><br data-v-4607075c></div><div class="sign-in" data-v-4607075c><button id="sign-in" data-v-4607075c>SIGN IN</button></div>',4)]),512),y(s("div",Ls,[s("div",_s,[s("div",Bs,[s("div",Os,[s("div",Ds,[t[41]||(t[41]=s("h1",{class:"w-full xs:w-1/3 pt-1 shoppingcardescriptions text-lg"},"Order Summary",-1)),s("div",Vs,[s("div",Rs,[s("button",{class:"flex w-full scale-125 xs:scale-150 images material-symbols-outlined",onClick:t[6]||(t[6]=(...d)=>e.checkoutItems&&e.checkoutItems(...d))},"shopping_cart_checkout "),e.counterCheckoutItems?(n(),a("span",zs,u(e.counterCheckoutItems),1)):h("",!0)])])]),t[42]||(t[42]=_('<div class="flex mt-1 xs:mt-2 mb-1" data-v-4607075c><h3 class="w-full shoppingcardescriptions text-xs uppercase xs:w-2/5" data-v-4607075c>Details</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/12" data-v-4607075c>Term</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/4" data-v-4607075c>Install</h3><h3 class="w-full shoppingcardescriptions text-center text-xs uppercase xs:w-1/4" data-v-4607075c>Monthly</h3><h3 class="font-semibold w-full text-center text-gray-600 text-xs uppercase xs:w-1/12" data-v-4607075c></h3></div>',1)),(n(!0),a(b,null,w(e.basketItems,(d,p)=>(n(),a("div",{class:"flex xs:flex-row items-center hover:bg-gray-100 -mx-6 px-6 py-1",key:p},[s("div",Es,[s("div",Fs,[s("img",{class:"h-8 w-16 xs:h-8",src:e.getproviderThumbLogo(d.supplierName)},null,8,qs)]),s("div",Us,[s("span",js,u(d.capacity)+"Mbps",1),s("span",Gs,u(d.productType),1),s("span",Ws,u(d.product),1)])]),s("div",Ks,[s("span",Js,u(d.contractPeriod),1)]),s("div",Hs,[s("span",Qs,u(e.currency)+u(d.NRC),1)]),s("div",Ys,[s("span",Zs,u(e.currency)+u(d.MRC),1)]),s("div",Xs,[s("button",{class:"images material-symbols-outlined",onClick:S=>e.removeItemFromBasket(d)},"delete",8,eo)])]))),128)),s("div",to,[s("h1",so,"Total amount: "+u(e.currency)+u(e.total),1)])])])]),y(s("div",oo,"Edit",512),[[Q,e.formStepsNum>0]]),y(s("div",ro,"Edit",512),[[Q,e.formStepsNum===0]])],512),[[Q,e.formStepsNum!=3]])])])}var no=B(Nt,[["render",io],["__scopeId","data-v-4607075c"]]);function ce(){const e=JSON.parse(localStorage.getItem("session")),t=1*60*60*1e3,o=Date.now();return!e||o-e.timestamp>t?(localStorage.removeItem("session"),!1):!0}const lo=()=>{O.cache&&O.cache.clear()},ao=(e,t)=>JSON.stringify({services:e,filterObject:t}),O=m.memoize((e,t)=>Object.keys(t).length>0?m.filter(e,t):e,ao),co=()=>{H.cache&&H.cache.clear()},po=(e,t)=>JSON.stringify({services:e,filterFunction:t.toString()}),H=m.memoize((e,t)=>m.filter(e,t),po);async function X(e,t,o){try{const i=await f.get(`/api/cached_results/?latitude=${e}&longitude=${t}`);if(i&&i.data.data_updated){const l={latitude:e,longitude:t},c=await f.put("/api/update_cached_results_status/",l);if(c&&c.data.status===!0){const r=await f.get(`/api/cached_results/?latitude=${e}&longitude=${t}`);return r&&r.data.timestamp&&localStorage.setItem("lastupdated",r.data.timestamp),o(),!0}else throw new Error("Failed to update cached results status")}else return!1}catch(i){throw i}}const oe=async e=>{try{const t=await f.get(`shopper/phone/${e}/`),{data:o}=t;if(!o.mobile||!o.email||!o.first_name||!o.last_name)return!1;const{first_name:i,last_name:l,email:c,id:r}=o;return{first_name:i,last_name:l,email:c,id:r}}catch(t){if(t.response&&t.response.status===404)return!1;throw console.error("Error checking shopper existence:",t),t}},be=async e=>{try{const t=await f.get(`mapche-api/v1/business/get_business/${e}/`),{data:o}=t;if(!o.name)return!1;const{name:i}=o;return{name:i}}catch(t){throw console.error("Error checking business existence:",t),t}},Se=async()=>{try{const e=await f.get("/vendor/vendors/"),{data:t}=e;return Array.isArray(t)?t:[]}catch(e){throw console.error("Error fetching vendors:",e),e}};let re={};async function we(e){if(await ae(),re[e])return re[e];try{const o=(await f.get(`/vendor/get_currency_symbol/?code=${e}`)).data.symbol;return re[e]=o,o}catch(t){return console.error("Error fetching currency symbol:",t),""}}const pe={clickableIcons:!1,streetViewControl:!1,panControlOptions:!1,gestureHandling:"greedy",fullscreenControl:!1,mapTypeControl:!1,zoom:18,minZoom:18,maxZoom:18,tilt:0};let C;const uo=V({async mounted(){const[e,t,o]=await Promise.all([localStorage.getItem("key"),localStorage.getItem("session"),localStorage.getItem("currency")]);if(await Promise.all([this.getOnlySelectedService(),this.fetchVendors(),this.getFeatureData(),this.setClientPreferences(e),this.retrieveBusinessImage(),this.loadStaticMap()]),this.currency=await we(o),t){const l=JSON.parse(t).user;this.shopper=await oe(l),this.isAuthenticated&&this.viewAll()}},props:{lat:Number,lng:Number,postCode:String,prodAvail:Object,apiResults:Object},emits:["stepAuth","stepPackage","cacheProvider","cacheNewScreen","close"],components:{},data(){return{refreshRequired:!1,isHovering:!1,filterTab:"speed",orderDirection:"asc",newSelectedValue:!1,featureData:[],isChecked:!1,selectedSupplier:"Select Network",showPromotions:!1,selectedFilters:[],selectedTerm:"Select Term",selectedIndex:0,vendors:[],isExpanded:!1,icon:se,filterValue:"",dropdownItems:["1","12","24","36"],filteredItems:[],showOverview:!1,isDefaultclientPrimary:!1,isExclusive:!1,imageUrl:null,shopper:null,showOpen:!0,infoContent:!1,map:null,isAuthenticated:!1,abc:!1,step:1,selectedProducts:["Fibre to the Home","LTE","Fibre Business","Microwave","Satellite Internet"],productImages:{Default:{url:"#fibre",type:"Fiber"},"Fibre Business":{url:"#fibre",type:"Fiber"},Microwave:{url:"#wireless",type:"Wireless"},LTE:{url:"#lte",type:"LTE"},"Fibre to the Home":{url:"#gpon",type:"FttH"},"Satellite Internet":{url:"#vsat",type:"VSAT"}},selectedProduct:"",selectedProvider:"",selectedPackage:"",uniqueSelectedPackage:null,chosenPackage:[],optionalResults:null,toggle:[],edit:[],buy:[],buybottom:[],buyremove:[],disablehover:[],sliderAmount:void 0,mySwiper1:null,mySwiper2:null,slidesPerView:1,providerIndex:null,basketItems:[],counterCheckoutItems:0,currency:"",selectedServices:[],ServicesType:"",selectedServiceType:"Select Service",selectedBearer:"Select Bearer",selectedSpeed:"Select Speed",selectedPrice:"Select Price",initialSlide:0,thumbsSwiper:null,thumbsize:0,screenwidth:{},internet:!0,transit:!1,ip:!0,slider:{data:[]},providerCardTextColor:{comsol:"#a6a4a6",openserve:"#fff",mtn:"#4B5563",liquidtelecom:"#fff",frogfoot:"#0b2c48",bitco:"#fff",wiocc:"#fff",easyweb:"#fff",meshtelecom:"#fff",dfa:"#fff",dfazimbabwe:"#fff",linkafrica:"#fff",seacom:"#fff",telkom:"#fff",vodacom:"#fff",metrofibrenetworx:"#0c1c24",vumatelbusiness:"#fff",mtnbusiness:"#0a0804",mapchi:"#fff",twoobii:"#c6d12d",metrofibrenetworxftth:"#0c1c24",openserveftth:"#fff"},providerCardColor:{comsol:"#23337b",openserve:"#16b251",mtn:"#fbc404",liquidtelecom:"#ca1c7c",frogfoot:"#2db653",bitco:"#2b3c8a",wiocc:"#23348c",easyweb:"#72acde",meshtelecom:"#a62129",dfa:"#00b500",dfazimbabwe:"#00b500",linkafrica:"#624d89",seacom:"#356692",telkom:"#0884c4",vodacom:"#ec3424",metrofibrenetworx:"#f4561b",kliq:"#2e2673",vumatelbusiness:"#ee008c",mtnbusiness:"#fbc404",mapchi:"#db2777",clientPrimaryColor:"",clientSecondaryColor:"",metrofibrenetworxftth:"#f4561b",openserveftth:"#16b251"},providers:{mapchi:""},providerCardIconColor:"#f4561b",providerCardIconColorBackground:"#fff"}},created(){if(window.addEventListener("resize",()=>{this.screenwidth=window.innerWidth}),!ce())this.isAuthenticated=!1,console.log("User needs to authenticate to continue");else{const e=JSON.parse(localStorage.getItem("session")||"{}");this.isAuthenticated=!0,lo(),co(),localStorage.getItem("cache")==="true"&&(this.checkTime(),this.checkForUpdates()),console.log(`Welcome back, ${e.user}!`)}},watch:{refreshRequired(e){e&&this.cacheProvider()},selectedTerm(e){this.updateSelectedFilter("term","Term",e),this.newSelectedValue=!0,this.thumbsize=0},selectedSupplier(e){this.updateSelectedFilter("supplierName","Network",e),this.newSelectedValue=!0,this.thumbsize=0},selectedBearer(e){this.updateSelectedFilter("bearer","Bearer",e),this.newSelectedValue=!0,this.thumbsize=0},selectedSpeed(e){this.updateSelectedFilter("speed","Speed",e),this.newSelectedValue=!0,this.thumbsize=0},selectedServiceType(e){this.updateSelectedFilter("service","Service",e),this.newSelectedValue=!0,this.thumbsize=0},showPromotions(e){this.updateSelectedFilter("promotion","Promotion",e),this.newSelectedValue=!0,this.selectedTerm="Select Term",this.selectedBearer="Select Bearer",this.selectedSpeed="Select Speed",this.selectedSupplier="Select Network",this.selectedServiceType="Select Service",this.thumbsize=0},selectedPackage(e){this.selectedPackage=e}},computed:{hasPromotion(){let e;return this.selectedTerm!=="Select Term"?e=this.selectedServices.some(t=>t.contractPeriod===this.selectedTerm&&t.promotion_id!==null&&t.promotion_id!==""):e=this.selectedServices.some(t=>t.promotion_id!==null&&t.promotion_id!==""),e},sortedUniqueBearer(){if(this.selectedServices&&this.selectedServices.length>0){let e=[],t=[];const o={contractPeriod:this.selectedTerm};return Object.keys(o).length>0&&o.contractPeriod==="Select Term"&&delete o.contractPeriod,this.selectedSupplier&&this.selectedSupplier!=="Select Network"&&(o.supplierName=this.selectedSupplier),this.selectedSpeed&&this.selectedSpeed!=="Select Speed"&&(o.capacity=this.selectedSpeed),this.selectedServiceType&&this.selectedServiceType!=="Select Service"&&(o.productType=this.selectedServiceType),this.showPromotions&&(e=H(this.selectedServices,c=>c.promotion_id!==null&&c.promotion_id!=="")),e&&e.length>0?t=O(e,o):t=O(this.selectedServices,o),m.uniqBy(t,"bearer").map(c=>c.bearer).map(c=>parseFloat(c)).filter(c=>!isNaN(c)).sort((c,r)=>c-r)}return[]},sortedUniqueSpeeds(){if(this.selectedServices&&this.selectedServices.length>0){let e=[],t=[];const o={contractPeriod:this.selectedTerm};Object.keys(o).length>0&&o.contractPeriod==="Select Term"&&delete o.contractPeriod,this.selectedSupplier&&this.selectedSupplier!=="Select Network"&&(o.supplierName=this.selectedSupplier),this.selectedBearer&&this.selectedBearer!=="Select Bearer"&&(o.bearer=this.selectedBearer),this.selectedServiceType&&this.selectedServiceType!=="Select Service"&&(o.productType=this.selectedServiceType),this.showPromotions&&(e=H(this.selectedServices,l=>l.promotion_id!==null&&l.promotion_id!=="")),e&&e.length>0?t=O(e,o):t=O(this.selectedServices,o);const i=m.uniqBy(t,"capacity").map(l=>l.capacity);return m.sortBy(i,l=>l==="100"?1/0:parseFloat(l))}return[]},sortedUniqueService(){if(this.selectedServices&&this.selectedServices.length>0){let e=[],t=[];const o={contractPeriod:this.selectedTerm};return Object.keys(o).length>0&&o.contractPeriod==="Select Term"&&delete o.contractPeriod,this.selectedSupplier&&this.selectedSupplier!=="Select Network"&&(o.supplierName=this.selectedSupplier),this.selectedBearer&&this.selectedBearer!=="Select Bearer"&&(o.bearer=this.selectedBearer),this.selectedSpeed&&this.selectedSpeed!=="Select Speed"&&(o.capacity=this.selectedSpeed),this.showPromotions&&(t=H(this.selectedServices,l=>l.promotion_id!==null&&l.promotion_id!=="")),t&&t.length>0?e=O(t,o):e=O(this.selectedServices,o),m.uniqBy(e,"productType").map(l=>l.productType)}return[]},mapResultsConfig(){return{...pe,center:{lat:this.lat,lng:this.lng},mapId:"DEMO_MAP_ID"}},isMobile(){return this.screenwidth<480},continueButtonDisabled(){return this.selectedPackage===""},total(){return this.basketItems.reduce((e,t)=>e+t.total,0)},test(){return!0},filteredProdAvail(){return this.prodAvail.filter(e=>this.selectedProducts.includes(e.product)).sort((e,t)=>this.selectedProducts.indexOf(e.product)-this.selectedProducts.indexOf(t.product))},getUniqueSupplier(){if(this.selectedServices&&this.selectedServices.length>0){let e=[],t=[],o=[];const i={contractPeriod:this.selectedTerm};return Object.keys(i).length>0&&i.contractPeriod==="Select Term"&&delete i.contractPeriod,this.selectedSpeed&&this.selectedSpeed!=="Select Speed"&&(i.capacity=this.selectedSpeed),this.selectedBearer&&this.selectedBearer!=="Select Bearer"&&(i.bearer=this.selectedBearer),this.selectedServiceType&&this.selectedServiceType!=="Select Service"&&(i.productType=this.selectedServiceType),this.showPromotions&&(t=H(this.selectedServices,l=>l.promotion_id!==null&&l.promotion_id!=="")),t&&t.length>0?o=O(t,i):o=O(this.selectedServices,i),e=m.uniqBy(o,"supplierName"),e=m.map(e,l=>({supplierName:l.supplierName})),e}return[]},getUniquePriceSupplier(){if(this.selectedServices&&this.selectedServices.length>0){let e=[],t=[];const o={contractPeriod:this.selectedTerm};switch(Object.keys(o).length>0&&o.contractPeriod==="Select Term"&&delete o.contractPeriod,this.selectedSupplier&&this.selectedSupplier!=="Select Network"&&(o.supplierName=this.selectedSupplier),this.selectedSpeed&&this.selectedSpeed!=="Select Speed"&&(o.capacity=this.selectedSpeed),this.selectedServiceType&&this.selectedServiceType!=="Select Service"&&(o.productType=this.selectedServiceType),this.selectedBearer&&this.selectedBearer!=="Select Bearer"&&(o.bearer=this.selectedBearer),this.showPromotions&&(t=H(this.selectedServices,i=>i.promotion_id!==null&&i.promotion_id!=="")),t&&t.length>0?e=O(t,o):e=O(this.selectedServices,o),this.isExclusive&&(e=e.map(i=>({...i,uniqueKey:`${i.capacity}-${i.contractPeriod}`})),e=m.uniqBy(e,"uniqueKey"),e=e.map(({uniqueKey:i,...l})=>l)),this.filterTab){case"speed":e=e.sort((i,l)=>this.orderDirection==="asc"?i.capacity-l.capacity:l.capacity-i.capacity);break;case"price":e=e.sort((i,l)=>this.orderDirection==="asc"?i.MRC-l.MRC:l.MRC-i.MRC);break}switch(this.selectedIndex=e.findIndex(i=>i.id===this.selectedPackage),e.length){case 1:this.slidesPerView=e.length,this.thumbsize=68;break;case 2:this.slidesPerView=e.length,this.thumbsize=35;break;case 3:this.slidesPerView=e.length,this.thumbsize=0;break;case 4:this.slidesPerView=e.length;break;default:this.slidesPerView=Math.min(3,e.length),this.thumbsize=0;break}return this.selectedPackage!==""&&!this.newSelectedValue?this.mySwiper1.slideTo(this.selectedIndex,1200):this.selectedPackage!==""&&this.newSelectedValue?(this.resetSlides(),setTimeout(()=>{this.mySwiper1.slideTo(this.selectedIndex,1200)},1200)):this.resetSlides(),e.forEach(i=>{let l;i.feature_name?l=i.feature_name.map(c=>c.name).sort():i.ItemProperties?l=i.ItemProperties.filter(c=>c.PropertySetting.toLowerCase()==="true"&&c.PropertyName.toLowerCase()!=="business"&&c.PropertyName.toLowerCase()!=="home"&&c.PropertyName.toLowerCase()!=="promotion"||c.PropertyName.toLowerCase()==="capped").map(c=>c.PropertyName).sort():l=[],i.features=l}),e}return[]},getproviderCardTextColor(){return e=>this.providerCardTextColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardTextColor.mapchi},getproviderSelectedColor(){return e=>this.providerCardColor.clientSecondaryColor},getproviderBgColor(){return e=>this.providerCardColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardColor.clientPrimaryColor},getproviderBgColorDefault(){return this.providerCardColor.clientPrimaryColor},getproviderBgColorSecondary(){return this.providerCardColor.clientSecondaryColor},getproviderCardBg(){return e=>`url(${this.providers[e.toLowerCase().replace(/\s/g,"")]||this.providers.mapchi})`},getproviderThumbLogo(){return e=>{if(!e)return this.providers.mapchi;const t=this.vendors.find(o=>o.name&&o.name.toLowerCase().replace(/\s/g,"")===e.toLowerCase().replace(/\s/g,""));if(t&&t.logo_url){let o=t.logo_url;return this.isDefaultclientPrimary&&(o=o.replace("/upload/","/upload/e_grayscale/")),o}return this.providers.mapchi}},getBestPriceSupplierTest(){let e=[];switch(this.selectedServices.length>0&&(e=m.filter(this.selectedServices),e=m.sortBy(e,"MRC"),e=e.filter(t=>t.capped>0?t.capped:t.capacity),e=e.map(t=>({...t,uniqueKey:`${t.capacity}-${t.contractPeriod}`})),e=m.uniqBy(e,"uniqueKey"),e=e.map(({uniqueKey:t,...o})=>o),console.log("Filtered services:",e)),e.length){case 1:this.slidesPerView=e.length;break;case 2:this.slidesPerView=e.length;break;case 3:this.slidesPerView=e.length;break;case 4:this.slidesPerView=e.length;break;default:this.slidesPerView=Math.min(3,e.length);break}return this.resetSlides(),console.log(e),e},getBestPriceSupplier(){let e=[];if(this.uniqueSelectedPackage=null,e=this.selectedServices,e.length>0){const t=e.every(d=>d.capacity===e[0].capacity);e.forEach(d=>{t?d.valueScore=d.capacityupload/d.MRC:d.valueScore=d.capacity/d.MRC});let o=e.filter(d=>d.productType==="Internet");const i=m.groupBy(o,"MRC"),l=m.map(i,d=>m.minBy(d,"capacity"));o=m.sortBy(l,"capacity");const c=Math.min(o.length,3);e=o.slice(0,c);const r=e.findIndex(d=>d.capacity===l[0].capacity);r!==-1&&r!==1&&(e.splice(r,1),e.splice(1,0,l[0])),l?(this.chosenPackage=l[0],this.selectedPackage=l[0].id,this.selectedTerm=l[0].contractPeriod,this.uniqueSelectedPackage||(this.uniqueSelectedPackage=l[0].id)):(this.chosenPackage=null,this.selectedPackage=null,this.selectedTerm=null)}else if(this.slidesPerView=10,this.resetSlides(),e.length>0){const t=e[0];this.chosenPackage=t,this.selectedPackage=t.id,this.selectedTerm=t.contractPeriod}else this.chosenPackage=null,this.selectedPackage=null,this.selectedTerm=null;switch(e.length){case 1:this.slidesPerView=e.length,this.thumbsize=68;break;case 2:this.slidesPerView=e.length,this.thumbsize=35;break;case 3:this.slidesPerView=e.length,this.thumbsize=0;break;case 4:this.slidesPerView=e.length;break;default:this.slidesPerView=Math.min(3,e.length),this.thumbsize=0;break}return this.resetSlides(),e},getUniqueTerm(){if(this.selectedServices&&this.selectedServices.length>0){let e=[],t=[];const o={};return this.selectedSupplier&&this.selectedSupplier!=="Select Network"&&(o.supplierName=this.selectedSupplier),this.selectedSpeed&&this.selectedSpeed!=="Select Speed"&&(o.capacity=this.selectedSpeed),this.selectedServiceType&&this.selectedServiceType!=="Select Service"&&(o.productType=this.selectedServiceType),this.selectedBearer&&this.selectedBearer!=="Select Bearer"&&(o.bearer=this.selectedBearer),this.showPromotions&&(t=H(this.selectedServices,i=>i.promotion_id!==null&&i.promotion_id!=="")),t&&t.length>0?e=O(t,o):Object.keys(o).length>0?e=O(this.selectedServices,o):e=this.selectedServices,e=m(e).sortBy("contractPeriod").map("contractPeriod").uniq().value(),e}}},methods:{retrieveBusinessImage(){const e=localStorage.getItem("business");f.get(`/mapche-api/v1/business/${e}/retrieve_business_image/`).then(t=>{const o=f.defaults.baseURL,i=t.data.business_image;if(i){const l=new URL(i,o).href;this.imageUrl=l}}).catch(t=>{console.error(t)})},async getFeatureData(){await f.get("/products/featuredata/").then(e=>{this.featureData=e.data,console.log(this.featureData)}).catch(e=>{console.error(e)})},getFeatureIcon(e){const t=this.featureData.find(o=>o.name===e);return t?t.icon:"default-icon"},async isWithinOneMinute(e){const t=Date.now(),o=new Date(e);return t-o.getTime()<12e4},async checkTime(){const e=await f.get(`/api/cached_results/?latitude=${this.lat}&longitude=${this.lng}`);e&&e.data.timestamp&&localStorage.setItem("lastupdated",e.data.timestamp)},async checkForUpdates(){let e=()=>{window.alert("Real-time changes detected at your current location. Refreshing with the latest data.")};try{const t=localStorage.getItem("lastupdated");if(t&&await this.isWithinOneMinute(t)){clearInterval(C),C=void 0;return}const o=await X(this.lat,this.lng,e);if(o){clearInterval(C),C=void 0,this.refreshRequired=o;return}}catch(t){console.error("Error checking for updates (Initial):",t.message)}C=setInterval(async()=>{try{const t=localStorage.getItem("lastupdated");if(t&&await this.isWithinOneMinute(t)){clearInterval(C),C=void 0;return}const o=await X(this.lat,this.lng,e),i=localStorage.getItem("dataSuccess");if(o){clearInterval(C),C=void 0,this.refreshRequired=o;return}else if(i){clearInterval(C),C=void 0,localStorage.removeItem("dataSuccess");return}}catch(t){console.error("Error checking for updates (Periodic):",t.message)}},1e3),setTimeout(()=>{clearInterval(C),C=void 0},12e4)},updateSelectedFilter(e,t,o){if(this.selectedFilters=this.selectedFilters.filter(i=>i.type!==e),o&&o!==`Select ${t}`){const i=t==="Speed"?`${o}Mbps`:o;this.selectedFilters.push({type:e,label:t,value:i})}},clearSelected(e){switch(e){case"new":this.selectedBearer="Select Bearer",this.selectedSpeed="Select Speed",this.selectedSupplier="Select Network",this.selectedServiceType="Select Service",this.selectedTerm="Select Term",this.showPromotions=!1,this.isExpanded=!1,this.thumbsize=0,this.newSelectedValue=!1,this.selectedPackage="",this.selectedFilters=this.selectedFilters.filter(t=>!["new"].includes(t.type));break;case"term":this.selectedTerm="Select Term",this.thumbsize=0,this.selectedFilters=this.selectedFilters.filter(t=>!["term"].includes(t.type));break;case"supplierName":this.selectedSupplier="Select Network",this.thumbsize=0,this.selectedFilters=this.selectedFilters.filter(t=>!["supplierName"].includes(t.type));break;case"bearer":this.selectedBearer="Select Bearer",this.thumbsize=0,this.selectedFilters=this.selectedFilters.filter(t=>!["bearer"].includes(t.type));break;case"speed":this.selectedSpeed="Select Speed",this.thumbsize=0,this.selectedFilters=this.selectedFilters.filter(t=>!["speed"].includes(t.type));break;case"service":this.selectedServiceType="Select Service",this.thumbsize=0,this.selectedFilters=this.selectedFilters.filter(t=>!["service"].includes(t.type));break;case"promotion":this.showPromotions=!1,this.thumbsize=0,this.selectedFilters=this.selectedFilters.filter(t=>!["promotion"].includes(t.type));default:this.selectedFilters=this.selectedFilters.filter(t=>t.type!==e);break}},selectTerm(e){},selectSpeed(e){},selectBearer(e){},selectSupplier(e){},selectServiceType(e){},toggleExpand(){this.isExpanded=!this.isExpanded},isFilterTabActive(e){return this.filterTab===e},toggleFilterTab(e){this.filterTab=this.filterTab===e?"":e},selectCategory(e){},formatPrice(e){const t=parseFloat(e);return isNaN(t)?e:`${t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`},async loadStaticMap(){const e=this.$refs.googleMap;this.map=de(e,this.mapResultsConfig);const t=this.$refs.infocontentString,o=new google.maps.InfoWindow({content:t}),i=new google.maps.Marker({position:{lat:this.lat,lng:this.lng},map:this.map,icon:this.icon,draggable:!1,title:"Correct Location",animation:google.maps.Animation.DROP});google.maps.event.addListener(i,"click",()=>{o!=null&&o.close(),this.infoContent=!0,o.open(this.map,i)}),google.maps.event.trigger(i,"click"),this.map.setCenter(i.position)},filterByMonths(e){},initSwiper(){this.mySwiper1=new ie(this.$refs.swiper1,{modules:[me,ge],spaceBetween:10,slidesPerView:this.slidesPerView<=3?this.slidesPerView:3,navigation:{nextEl:this.slidesPerView>=3?this.$refs.swiperbuttonnext1:null,prevEl:this.slidesPerView>=3?this.$refs.swiperbuttonprev1:null},on:{init:()=>{const e=document.querySelector(".swiper-container");e&&new MutationObserver(()=>{const o=document.querySelectorAll(".swiper-slide"),i=this.mySwiper1.activeIndex;for(let l=0;l<o.length;l++)l<i||l>i+2?o[l].classList.add("swiper-slide-hidden"):o[l].classList.remove("swiper-slide-hidden")}).observe(e,{childList:!0,subtree:!0})},slideChange:()=>{const e=document.querySelectorAll(".swiper-slide"),t=this.mySwiper1.activeIndex;for(let o=0;o<e.length;o++)o<t||o>t+2?e[o].classList.add("swiper-slide-hidden"):e[o].classList.remove("swiper-slide-hidden")}}})},closeModal(){clearInterval(C),C=void 0,this.$emit("close")},selectProduct(e){this.selectedProduct=e.product,this.clearSelected("new"),this.selectedServices=m.filter(this.apiResults,t=>t.product===this.selectedProduct)},selectPackage(e){parseInt(this.selectedPackage)===parseInt(e.id)?(this.chosenPackage=null,this.newSelectedValue=!1,this.selectedPackage=""):(this.chosenPackage=e,this.selectedPackage=e.id)},viewAll(){this.$nextTick(()=>{this.resetSlides(),this.mySwiper1.slideTo(this.selectedIndex,0)})},cacheProvider(){clearInterval(C),C=void 0,this.$emit("cacheProvider",this.lat,this.lng,this.postCode)},loginviewAll(){clearInterval(C),C=void 0,this.$emit("stepAuth",this.isAuthenticated)},goBack(){this.isGoingBack||(this.isGoingBack=!0,clearInterval(C),C=void 0,this.$emit("close"),setTimeout(()=>{this.isGoingBack=!1},1e3))},goContinue(){clearInterval(C),C=void 0,this.$emit("stepPackage",this.chosenPackage,this.selectedPackage,this.lat,this.lng,this.postCode)},async setClientPreferences(e){await ee(e).then(t=>{this.providerCardColor.clientPrimaryColor=t.clientPrimaryColor,this.providerCardColor.clientSecondaryColor=t.clientSecondaryColor,this.isDefaultclientPrimary=t.isDefaultclientPrimary,this.isExclusive=t.isExclusive,document.documentElement.style.setProperty("--client-primary-color",this.providerCardColor.clientPrimaryColor),document.documentElement.style.setProperty("--client-secondary-color",this.providerCardColor.clientSecondaryColor)}).catch(t=>{console.error("Error fetching client preferences:",t)})},resetSlides(){document.documentElement.style.setProperty("--transform-providerCardIconColor",this.providerCardIconColor),document.documentElement.style.setProperty("--transform-providerCardIconColorBackground",this.providerCardIconColorBackground),this.initSwiper(),this.selectedSupplier&&this.selectedSupplier!=="Select Network"&&(this.selectedSupplier.length<=3?document.documentElement.style.setProperty("--opacity","0"):this.selectedSupplier.length>3&&document.documentElement.style.setProperty("--opacity","1")),document.documentElement.style.setProperty("--size",this.thumbsize+"%"),this.newSelectedValue=!1},async fetchVendors(){try{this.vendors=await Se()}catch(e){console.error("Error fetching vendors in Vue component:",e)}},async getOnlySelectedService(){this.selectedServices=[],this.selectedProduct===""&&this.filteredProdAvail.length!==0&&this.filteredProdAvail.length!==null&&(this.selectedProduct=this.filteredProdAvail[0].product),this.selectedServices=m.filter(this.apiResults,e=>e.product===this.selectedProduct)}}}),ho={class:"signup-modal"},mo={class:"modal-header w-screen"},go={class:"flex items-center"},fo={key:0,class:"textSecure mt-5"},yo={key:1,class:"textSecure mt-5"},vo={class:"providerH"},bo={class:"providerfloat"},So={class:"buttonfloat"},wo={class:"scrollable"},Co={class:"modal-body h-full"},ko={id:"myDIV",class:"google-map",ref:"googleMap"},Po={tabindex:"1",ref:"infocontentString"},$o={class:"container"},Io={class:"tabbar tab-style1 pb-1 text-base font-medium text-gray-50 text-center"},To={class:"providerfloat"},xo=["onClick"],No={class:"icon"},Ao=["href"],Mo={class:"button-text"},Lo={key:0,class:"page-container"},_o={class:"filter-header"},Bo={class:"sort-selector row"},Oo={class:"expanding-dropdown expanded row"},Do={class:"pr-2"},Vo={class:"pr-6"},Ro={class:"flex items-center mt-2 mb-2"},zo=["onClick"],Eo={class:"ml-1 font-bold"},Fo={class:"flex filter-panel mt-2"},qo={class:"pr-2"},Uo=["value"],jo={class:"pr-2"},Go=["value"],Wo={class:"pr-2"},Ko=["value"],Jo={class:"pr-2"},Ho=["value"],Qo={class:"pr-2"},Yo=["value"],Zo={key:0,class:"flex items-center"},Xo={class:"ml-6 flex items-center space-x-1 text-xs font-bold uppercase py-2 leading-normal promotion-tick"},er={class:"swiper-container"},tr={ref:"swiper1",class:"swiper mySwiper"},sr={class:"filter-container"},or={style:{visibility:"hidden"},class:"pr-2"},rr={class:"swiper-wrapper"},ir=["slideKey","onClick"],nr={key:0},lr={class:"excluded"},ar={class:"flex item-center mt-2"},dr={class:"flex"},cr={class:"cardpriceoverview"},pr={class:"pl-2"},ur={class:"mb-3 item-center justify-center text-sm"},hr={class:"flex item-center justify-center text-sm text-gray-500 font-medium"},mr={class:"border"},gr={class:"provider-logoauth"},fr={class:"speed-icon"},yr=["src"],vr={class:"flex-container"},br={class:"provider-overview card-pricefrontcard flex-col items-center"},Sr={key:0,class:"flex items-center"},wr={key:1,class:"flex items-center"},Cr={class:"card-price"},kr={class:"speed"},Pr={class:"speed"},$r=["slideKey","onClick"],Ir={key:0},Tr={class:"inside"},xr={class:"excluded"},Nr={class:"flex item-center mt-2"},Ar={class:"flex"},Mr={class:"cardpriceoverview"},Lr={class:"cardpriceoverview"},_r={class:"pl-2"},Br={class:"mb-3 item-center justify-center text-sm"},Or={class:"flex item-center justify-center text-sm text-gray-500 font-medium"},Dr={class:"included"},Vr={class:"termdisplayspecial"},Rr={class:"flex flex-col justify-center mt-2"},zr={class:"flex items-center"},Er={class:"flex"},Fr={class:"flex flex-col justify-center mt-2"},qr={class:"pt-1"},Ur={class:"items-center mt-2"},jr={key:0,class:"flex items-center"},Gr={class:"pl-0 shoppingcardescriptions"},Wr={class:"border"},Kr={key:0,class:"flex-containerlogo provider-logoround"},Jr={key:0,class:"signup-iconproviderround"},Hr=["src"],Qr={key:1,class:"signup-iconproviderround"},Yr=["src"],Zr={key:1,class:"flex-containerlogo provider-logo"},Xr={key:0,class:"signup-iconprovider"},ei=["src"],ti={key:1,class:"signup-iconprovider"},si=["src"],oi={class:"flex-container"},ri={class:"provider-overview card-pricefrontcard flex-col"},ii={class:"termdisplaydont"},ni={class:"termdisplay flex"},li={class:"termdisplaydont"},ai={key:0,class:"up"},di={key:1,class:"up"},ci={class:"speed"},pi={class:"speed"},ui={ref:"swiperbuttonnext1",class:"swiper-button-next"},hi={ref:"swiperbuttonprev1",class:"swiper-button-prev"},mi={class:"modal-footer"},gi={width:"0",height:"0",style:{display:"none"}},fi={width:"0",height:"0",style:{display:"none"}},yi={width:"0",height:"0",style:{display:"none"}},vi={width:"0",height:"0",style:{display:"none"}},bi={width:"0",height:"0",style:{display:"none"}},Si={width:"0",height:"0",style:{display:"none"}},wi={width:"0",height:"0",style:{display:"none"}},Ci={width:"0",height:"0",style:{display:"none"}},ki={width:"0",height:"0",style:{display:"none"}};function Pi(e,t,o,i,l,c){return n(),a(b,null,[s("div",ho,[s("div",mo,[s("dl",null,[s("dt",go,[t[29]||(t[29]=s("span",{class:"mt-4 textSecure scale-125 material-symbols-outlined"}," lock ",-1)),e.shopper?(n(),a("span",yo,u(e.shopper.first_name)+" "+u(e.shopper.last_name),1)):(n(),a("span",fo,"Secure"))]),s("div",vo,[t[35]||(t[35]=s("dd",null,"Compare products",-1)),s("div",bo,[s("div",null,[s("div",So,[t[33]||(t[33]=s("span",{class:"mt-5 textLogin"},"Login to view all options",-1)),t[34]||(t[34]=s("span",{class:"mt-5 textLoginText scale-150 material-symbols-outlined"}," arrow_right_alt ",-1)),s("div",{title:"Login",onClick:t[0]||(t[0]=(...r)=>e.loginviewAll&&e.loginviewAll(...r)),class:x({hidden:e.isAuthenticated})},t[30]||(t[30]=[s("button",{class:"round-buttonmenu"},[s("span",{class:"iconlogin textSecureLogin material-symbols-outlined"}," lock "),s("span",{class:"button-text"},"Login")],-1)]),2),s("div",{title:"Logged in",class:x({hidden:!e.isAuthenticated})},[s("button",{class:x(["round-buttonverified",{selected:e.isAuthenticated}])},t[31]||(t[31]=[s("span",{class:"iconverified textSecureLogin material-symbols-outlined"},"lock_open_right ",-1)]),2)],2),s("div",{title:"Restart",onClick:t[1]||(t[1]=(...r)=>e.closeModal&&e.closeModal(...r))},t[32]||(t[32]=[s("button",{class:"round-buttonmenu"},[s("span",{class:"iconlogin textSecureLogin material-symbols-sharp"},"restart_alt"),s("span",{class:"button-text"},"Reset")],-1)]))])])])])])])]),s("div",wo,[s("div",Co,[s("div",ko,[y(s("div",Po,[s("div",$o,[s("div",Io,[s("div",To,[(n(!0),a(b,null,w(e.filteredProdAvail,(r,d)=>(n(),a("div",{onClick:p=>e.selectProduct(r),key:d},[e.productImages[r.product]?(n(),a("button",{key:0,class:x(["round-button",{selected:r.product===e.selectedProduct}])},[(n(),a("svg",No,[s("use",{href:e.productImages[r.product].url},null,8,Ao)])),s("span",Mo,u(e.productImages[r.product].type),1)],2)):h("",!0)],8,xo))),128))]),t[36]||(t[36]=s("ul",{class:"flex-center"},null,-1))])])],512),[[Q,e.infoContent]])],512),e.isAuthenticated?(n(),a("div",Lo,[s("div",{class:x(["filter-bar bg-gray-50 shadow-md",{expand:e.isExpanded}])},[s("div",_o,[s("div",Bo,[s("div",Oo,[t[39]||(t[39]=s("span",{class:"text-xs text-gray-500 font-bold leading-normal uppercase ml-2 px-2 py-2"},"Sort:",-1)),s("div",Do,[s("span",{class:x(["text-xs font-bold hover:text-gray-700 uppercase px-5 py-2 shadow-md rounded block leading-normal",{"signup-buttonsorttextsecond bg-white":e.filterTab!=="speed","text-white signup-buttonsort":e.filterTab==="speed"}]),onClick:t[2]||(t[2]=r=>e.toggleFilterTab("speed"))}," Speed",2)]),s("div",Vo,[s("span",{class:x(["text-xs font-bold hover:text-gray-700 uppercase px-5 py-2 shadow-md rounded block leading-normal",{"signup-buttonsorttextsecond bg-white":e.filterTab!=="price","text-white signup-buttonsort":e.filterTab==="price"}]),onClick:t[3]||(t[3]=r=>e.toggleFilterTab("price"))}," Price",2)]),y(s("select",{class:"ring-1 signup-buttonsortringsecond focus:ring-1 focus:signup-buttonsortringsecond border-transparent focus:border-transparent signup-buttonsorttextsecond text-xs font-medium whitespace-nowrap pt-2 pb-2 capitalize cursor-pointer","onUpdate:modelValue":t[4]||(t[4]=r=>e.orderDirection=r)},t[37]||(t[37]=[s("option",{value:"asc"},"Low to High",-1),s("option",{value:"desc"},"High to Low",-1)]),512),[[J,e.orderDirection]]),t[40]||(t[40]=s("span",{class:"text-xs text-gray-500 font-bold leading-normal uppercase ml-2 px-2 py-2"},"Filtered by:",-1)),s("div",Ro,[(n(!0),a(b,null,w(e.selectedFilters,(r,d)=>(n(),a("span",{key:d,class:"text-xs bg-gray-100 px-2 mr-2 capitalize",onClick:p=>e.clearSelected(r.type)},[v(u(r.label)+":",1),s("span",Eo,u(r.value),1),t[38]||(t[38]=s("button",{class:"ml-1 text-lg"},"\xD7",-1))],8,zo))),128))])])]),t[42]||(t[42]=s("div",{class:"flex-section"},null,-1)),s("div",{title:"Filter Options",class:"filter-collapse-button rounded block shadow-md leading-normal",onClick:t[5]||(t[5]=(...r)=>e.toggleExpand&&e.toggleExpand(...r))},t[41]||(t[41]=[s("span",{class:"flex items-center"},[s("i",{class:"material-icons"},"filter_list")],-1)]))]),s("div",Fo,[t[49]||(t[49]=s("div",{class:"pr-2 ml-3 my-2"},[s("span",{class:"text-xs font-bold uppercase px-4 py-2 shadow-md rounded block leading-normal cursor-default text-white signup-buttonsort"}," Term ")],-1)),s("div",qo,[y(s("select",{class:"ring-1 signup-buttonsortringsecond focus:ring-1 focus:signup-buttonsortringsecond border-transparent focus:border-transparent signup-buttonsorttextsecond text-xs font-medium whitespace-nowrap pt-2 pb-2 capitalize cursor-pointer",id:"termDropdown","onUpdate:modelValue":t[6]||(t[6]=r=>e.selectedTerm=r),onChange:t[7]||(t[7]=(...r)=>e.selectTerm&&e.selectTerm(...r))},[t[43]||(t[43]=s("option",null,"Select Term",-1)),(n(!0),a(b,null,w(e.getUniqueTerm,(r,d)=>(n(),a("option",{key:d,value:r},u(r),9,Uo))),128))],544),[[J,e.selectedTerm]])]),t[50]||(t[50]=s("div",{class:"pr-2"},[s("span",{class:"text-xs font-bold uppercase px-4 py-2 shadow-md rounded block leading-normal cursor-default text-white signup-buttonsort"}," Network")],-1)),s("div",jo,[y(s("select",{class:"ring-1 signup-buttonsortringsecond focus:ring-1 focus:signup-buttonsortringsecond border-transparent focus:border-transparent signup-buttonsorttextsecond text-xs font-medium whitespace-nowrap pt-2 pb-2 capitalize cursor-pointer",id:"termDropdown","onUpdate:modelValue":t[8]||(t[8]=r=>e.selectedSupplier=r),onChange:t[9]||(t[9]=(...r)=>e.selectSupplier&&e.selectSupplier(...r))},[t[44]||(t[44]=s("option",null,"Select Network",-1)),(n(!0),a(b,null,w(e.getUniqueSupplier,(r,d)=>(n(),a("option",{key:d,value:r.supplierName},u(r.supplierName),9,Go))),128))],544),[[J,e.selectedSupplier]])]),t[51]||(t[51]=s("div",{class:"pr-2"},[s("span",{class:"text-xs font-bold uppercase px-4 py-2 shadow-md rounded block leading-normal cursor-default text-white signup-buttonsort"}," Bearer")],-1)),s("div",Wo,[y(s("select",{class:"ring-1 signup-buttonsortringsecond focus:ring-1 focus:signup-buttonsortringsecond border-transparent focus:border-transparent signup-buttonsorttextsecond text-xs font-medium whitespace-nowrap pt-2 pb-2 capitalize cursor-pointer",id:"termDropdown","onUpdate:modelValue":t[10]||(t[10]=r=>e.selectedBearer=r),onChange:t[11]||(t[11]=(...r)=>e.selectBearer&&e.selectBearer(...r))},[t[45]||(t[45]=s("option",null,"Select Bearer",-1)),(n(!0),a(b,null,w(e.sortedUniqueBearer,(r,d)=>(n(),a("option",{key:d,value:r},u(r),9,Ko))),128))],544),[[J,e.selectedBearer]])]),t[52]||(t[52]=s("div",{class:"pr-2"},[s("span",{class:"text-xs font-bold uppercase px-4 py-2 shadow-md rounded block leading-normal cursor-default text-white signup-buttonsort"}," Speed")],-1)),s("div",Jo,[y(s("select",{class:"ring-1 signup-buttonsortringsecond focus:ring-1 focus:signup-buttonsortringsecond border-transparent focus:border-transparent signup-buttonsorttextsecond text-xs font-medium whitespace-nowrap pt-2 pb-2 capitalize cursor-pointer",id:"termDropdown","onUpdate:modelValue":t[12]||(t[12]=r=>e.selectedSpeed=r),onChange:t[13]||(t[13]=(...r)=>e.selectSpeed&&e.selectSpeed(...r))},[t[46]||(t[46]=s("option",null,"Select Speed",-1)),(n(!0),a(b,null,w(e.sortedUniqueSpeeds,(r,d)=>(n(),a("option",{key:d,value:r},u(r),9,Ho))),128))],544),[[J,e.selectedSpeed]])]),t[53]||(t[53]=s("div",{class:"pr-2"},[s("span",{class:"text-xs font-bold uppercase px-4 py-2 shadow-md rounded block leading-normal cursor-default text-white signup-buttonsort"}," Service")],-1)),s("div",Qo,[y(s("select",{class:"ring-1 signup-buttonsortringsecond focus:ring-1 focus:signup-buttonsortringsecond border-transparent focus:border-transparent signup-buttonsorttextsecond text-xs font-medium whitespace-nowrap pt-2 pb-2 capitalize cursor-pointer",id:"termDropdown","onUpdate:modelValue":t[14]||(t[14]=r=>e.selectedServiceType=r),onChange:t[15]||(t[15]=(...r)=>e.selectServiceType&&e.selectServiceType(...r))},[t[47]||(t[47]=s("option",null,"Select Service",-1)),(n(!0),a(b,null,w(e.sortedUniqueService,(r,d)=>(n(),a("option",{key:d,value:r},u(r),9,Yo))),128))],544),[[J,e.selectedServiceType]])]),e.hasPromotion?(n(),a("div",Zo,[s("label",Xo,[y(s("input",{type:"checkbox",class:"form-checkbox focus:ring-0 promotion-tick","onUpdate:modelValue":t[16]||(t[16]=r=>e.showPromotions=r)},null,512),[[le,e.showPromotions]]),t[48]||(t[48]=s("span",null,"Promotion",-1))])])):h("",!0)])],2)])):h("",!0),s("div",er,[s("div",tr,[s("div",sr,[s("div",or,[s("button",{class:"calendar-button2",onClick:t[17]||(t[17]=r=>e.filterByMonths(12))},t[54]||(t[54]=[s("span",{class:"material-icons-outlined2"},"calendar_today",-1),s("span",{class:"pr-2"},"12 Months",-1)]))])]),s("div",rr,[e.isAuthenticated?h("",!0):(n(!0),a(b,{key:0},w(e.getBestPriceSupplier,(r,d)=>(n(),a("div",{class:"swiper-slide",key:r.id,slideKey:d,onClick:p=>e.selectPackage(r)},[s("div",{class:x(["fibre-package-card",{selected:r.id===e.selectedPackage}]),style:g({"--provider-selected-color":e.getproviderSelectedColor("clientSecondaryColor")})},[r.id===e.uniqueSelectedPackage?(n(),a("section",nr)):h("",!0),s("div",{class:x(["insidenotlogin",{hidden:e.isAuthenticated}])},[s("div",{class:"icon",onMouseover:t[18]||(t[18]=p=>e.showOverview=!0),onMouseleave:t[19]||(t[19]=p=>e.showOverview=!1)},t[55]||(t[55]=[s("i",{class:"material-icons-outlined"},"info",-1)]),32),s("div",{class:x(["overviewlogin",{visible:e.showOverview}])},[t[59]||(t[59]=s("div",{class:"glass-container"},[s("p",{class:"description text-gray-500"}," Login to view all options ")],-1)),s("div",lr,[t[58]||(t[58]=s("span",{class:"text-sm text-gray-500 font-medium"},"Installation Fee",-1)),s("div",ar,[s("div",dr,[t[56]||(t[56]=s("div",{class:"cardpriceoverview"},null,-1)),s("div",cr,[s("span",pr,u(e.currency)+u(e.formatPrice(r.NRC)),1)])]),t[57]||(t[57]=s("div",null,null,-1))])]),s("div",ur,[s("span",hr,u(r.product_description),1)]),t[60]||(t[60]=_('<div class="included" data-v-098ebab7><span class="text-sm text-gray-500 font-medium" data-v-098ebab7>Features</span><div class="flex flex-col justify-center mt-2" data-v-098ebab7><div class="flex items-center" data-v-098ebab7><span class="pl-2" data-v-098ebab7>Unlimited Data</span></div><div class="flex items-center" data-v-098ebab7><span class="pl-2" data-v-098ebab7>Router included</span></div><div class="flex items-center" data-v-098ebab7><span class="pl-2" data-v-098ebab7>24/7 Support</span></div><div class="flex items-center" data-v-098ebab7><span class="pl-2" data-v-098ebab7>Exclude VAT</span></div><div class="flex items-center" data-v-098ebab7><span class="pl-2" data-v-098ebab7>Free Installation</span></div></div></div>',1))],2)],2),s("div",mr,[s("div",gr,[s("span",fr,[s("img",{src:e.getproviderThumbLogo("mapchi"),class:"logo-image-choose"},null,8,yr)])]),s("div",vr,[s("div",br,[s("div",null,[s("span",null,u(r.contractPeriod>1?r.contractPeriod+" Months":"Month-to-Month"),1)]),r.exclusive?(n(),a("div",Sr,t[61]||(t[61]=[s("span",{class:"scale-110 material-symbols-outlined"},"hail",-1),s("span",{class:"pl-2"},"Exclude VAT",-1)]))):(n(),a("div",wr,t[62]||(t[62]=[s("span",{class:"scale-110 material-symbols-outlined"},"hail",-1),s("span",{class:"pl-2"},"Include VAT",-1)])))])])]),s("div",Cr,[s("p",null,[v(u(e.currency)+u(e.formatPrice(r.MRC))+" ",1),t[63]||(t[63]=s("sup",{class:"up"},"pm",-1))])]),r.capped>0?(n(),a("div",{key:1,class:"card-footer",style:g({"--provider-bg-color":e.isDefaultclientPrimary?e.getproviderBgColorDefault:e.getproviderBgColor("clientPrimaryColor"),color:"white",fontSize:"1.1rem"})},[t[64]||(t[64]=s("dt",null,[s("span",{class:"signup-icon material-symbols-sharp"}," equalizer ")],-1)),s("dd",null,[s("span",null,u(r.capped)+"GB",1)])],4)):(n(),a("div",{key:2,class:"card-footer",style:g({"--provider-bg-color":e.isDefaultclientPrimary?e.getproviderBgColorDefault:e.getproviderBgColor("clientPrimaryColor"),color:"white",fontSize:"1.1rem"})},[s("dl",kr,[t[65]||(t[65]=s("dt",null,[s("span",{class:"signup-icon"},[s("svg",null,[s("use",{href:"#speed-down"})])])],-1)),s("dd",null,[s("span",null,u(r.capacity)+"Mbps",1)])]),s("dl",Pr,[t[66]||(t[66]=s("dt",null,[s("span",{class:"signup-icon"},[s("svg",null,[s("use",{href:"#speed-up"})])])],-1)),s("dd",null,[s("span",null,u(r.capacityupload)+"Mbps",1)])])],4))],6),t[67]||(t[67]=s("div",{class:"mobile-message"},[s("p",null,"Minimum Screen size 640px"),s("p",null,"Mobile version coming soon!")],-1))],8,ir))),128)),e.isAuthenticated?(n(!0),a(b,{key:1},w(e.getUniquePriceSupplier,(r,d)=>(n(),a("div",{class:"swiper-slide",key:r.id,slideKey:d,onClick:p=>e.selectPackage(r)},[s("div",{class:x(["fibre-package-card",{selected:r.id===e.selectedPackage}]),onMouseover:t[24]||(t[24]=p=>e.isHovering=!0),onMouseleave:t[25]||(t[25]=p=>e.isHovering=!1),style:g({"--provider-selected-color":e.getproviderSelectedColor("clientSecondaryColor")})},[r.promotion_id?(n(),a("strong",Ir)):h("",!0),s("div",Tr,[s("div",{class:"icon",onMouseover:t[20]||(t[20]=p=>e.showOverview=!0),onMouseleave:t[21]||(t[21]=p=>e.showOverview=!1)},t[68]||(t[68]=[s("i",{class:"material-icons-outlined"},"info",-1)]),32),s("div",{class:x(["overview",{visible:e.showOverview}])},[s("div",xr,[t[70]||(t[70]=s("span",{class:"text-sm text-gray-500 font-medium"},"Installation Fee",-1)),s("div",Nr,[s("div",Ar,[s("div",Mr,[s("span",{class:"scale-100 material-symbols-outlined",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})},"sell",4)]),s("div",Lr,[s("span",_r,u(e.formatPrice(r.NRC)==="0.00"?"Free":e.currency+" "+e.formatPrice(r.NRC)),1)])]),t[69]||(t[69]=s("div",null,null,-1))])]),s("div",Br,[s("span",Or,u(r.product_description),1)]),s("div",Dr,[s("div",Vr,[t[71]||(t[71]=s("span",{class:"text-sm text-gray-500 font-medium"},"Contract ",-1)),s("div",Rr,[s("div",zr,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})},"speed",4),s("span",Er,u(r.contractPeriod>1?r.contractPeriod+" Months":" Month-to-Month"),1)])])]),t[72]||(t[72]=s("span",{class:"text-sm text-gray-500 font-medium"},"Features ",-1)),s("div",Fr,[(n(!0),a(b,null,w(r.features,(p,S)=>(n(),a("div",{key:S,class:"flex items-center mt-2"},[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})},u(e.getFeatureIcon(p)),5),s("span",qr,u(p),1)]))),128)),s("div",Ur,[r.fup>0?(n(),a("span",jr,[s("span",{class:"scale-110 mt-0 material-symbols-outlined",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})}," equalizer ",4),s("span",Gr,"FUP - "+u(r.fup)+"GB",1)])):h("",!0)])])])],2)]),s("div",Wr,[r.supplierName.includes("mapchi")||r.supplierName.includes("Jenny Internet")?(n(),a("div",Kr,[e.isExclusive?(n(),a("span",Jr,[s("img",{src:e.imageUrl,class:"logo-image"},null,8,Hr)])):(n(),a("span",Qr,[s("img",{src:e.getproviderThumbLogo(r.supplierName),class:"logo-image"},null,8,Yr)]))])):(n(),a("div",Zr,[e.isExclusive?(n(),a("span",Xr,[s("img",{src:e.imageUrl,class:"logo-image"},null,8,ei)])):(n(),a("span",ti,[s("img",{src:e.getproviderThumbLogo(r.supplierName),class:"logo-image"},null,8,si)]))])),s("div",oi,[s("div",ri,[s("span",ii,u(r.description),1),s("span",ni,u(r.contractPeriod>1?r.contractPeriod+" Months":r.contractPeriod+" Month"),1),s("span",li,u(r.productType),1)])])]),s("div",{class:"card-price",onMouseover:t[22]||(t[22]=p=>e.isHovering=!0),onMouseleave:t[23]||(t[23]=p=>e.isHovering=!1)},[s("p",null,[v(u(e.currency)+u(e.formatPrice(r.MRC))+" ",1),e.isHovering?(n(),a("sup",di,"pm")):(n(),a("sup",ai,"pm x "+u(r.contractPeriod),1))])],32),r.capped>0?(n(),a("div",{key:1,class:"card-footer",style:g({"--provider-bg-color":e.isDefaultclientPrimary?e.getproviderBgColorDefault:e.getproviderBgColor("clientPrimaryColor"),color:"white",fontSize:"1.1rem"})},[t[73]||(t[73]=s("dt",null,[s("span",{class:"signup-icon mr-2 material-symbols-sharp"}," equalizer ")],-1)),s("dd",null,[s("span",null,u(r.capped)+"GB",1)])],4)):(n(),a("div",{key:2,class:"card-footer",style:g({"--provider-bg-color":e.isDefaultclientPrimary?e.getproviderBgColorDefault:e.getproviderBgColor(r.supplierName),color:"white",fontSize:"1.1rem"})},[s("dl",ci,[t[74]||(t[74]=s("dt",null,[s("span",{class:"signup-icon"},[s("svg",null,[s("use",{href:"#speed-down"})])])],-1)),s("dd",null,[s("span",null,u(r.capacity)+"Mbps",1)])]),s("dl",pi,[t[75]||(t[75]=s("dt",null,[s("span",{class:"signup-icon"},[s("svg",null,[s("use",{href:"#speed-up"})])])],-1)),s("dd",null,[s("span",null,u(r.capacityupload)+"Mbps",1)])])],4))],38)],8,$r))),128)):h("",!0)]),s("div",ui,null,512),s("div",hi,null,512),t[76]||(t[76]=s("div",{style:{visibility:"hidden"},class:"filter-container"},[s("div",{class:"view-all-container"},[s("p",{class:"view-all"},"View all speed options."),s("p",{class:"view-allimage"})])],-1))],512)])])]),s("div",mi,[s("button",{class:"signup-button ghost",onClick:t[26]||(t[26]=(...r)=>e.goBack&&e.goBack(...r))},t[77]||(t[77]=[s("span",null,"Back",-1)])),e.continueButtonDisabled?(n(),a("button",{key:1,class:"signup-button disabled",onClick:t[28]||(t[28]=(...r)=>e.goContinue&&e.goContinue(...r))},t[79]||(t[79]=[s("span",null,"More Info",-1)]))):(n(),a("button",{key:0,class:"signup-button primary",onClick:t[27]||(t[27]=(...r)=>e.goContinue&&e.goContinue(...r))},t[78]||(t[78]=[s("span",null,"More Info",-1)])))]),(n(),a("svg",gi,t[80]||(t[80]=[s("symbol",{viewBox:"0 0 50 39",id:"provider-slow"},[s("path",{d:"M16.5438275,2.6353057 C25.7888275,-1.3236943 36.5338275,1.0803057 43.2038275,8.5993057 C49.8748275,16.1193057 50.9698275,27.0623057 45.9208275,35.7513057 C45.0918275,37.1853057 43.5648275,38.0723057 41.9078275,38.0823057 L9.59082745,38.0823057 L9.20682745,38.0673057 C7.96182745,37.9703057 6.81782745,37.3723057 6.01882745,36.4293057 C5.83682745,36.2693057 5.67082745,36.0893057 5.54282745,35.8693057 C4.94882745,34.8513057 4.42882745,33.7793057 3.99682745,32.6813057 C3.53082745,31.4993057 4.11182745,30.1643057 5.29382745,29.6993057 C6.47682745,29.2333057 7.81182745,29.8143057 8.27682745,30.9963057 C8.45882745,31.4573057 8.66182745,31.9123057 8.88082745,32.3593057 L8.89082745,32.3493057 C9.29882745,33.1143057 10.0988275,33.5903057 10.9678275,33.5843057 L40.4838275,33.5843057 L40.7718275,33.5673057 C41.3938275,33.4913057 41.9478275,33.1583057 42.3278275,32.6653057 C46.0008275,25.5013057 44.6428275,16.6313057 38.9168275,10.9053057 C36.2748275,8.2633057 32.9818275,6.5103057 29.4008275,5.7933057 C29.3618275,5.7853057 29.3228275,5.7793057 29.2838275,5.7723057 C28.8048275,5.6793057 28.3198275,5.6133057 27.8318275,5.5573057 C27.6758275,5.5413057 27.5208275,5.5193057 27.3638275,5.5063057 C26.9338275,5.4683057 26.5008275,5.4523057 26.0668275,5.4433057 C25.6198275,5.4373057 25.1728275,5.4453057 24.7228275,5.4723057 C24.7028275,5.4733057 24.6828275,5.4743057 24.6628275,5.4753057 C24.2438275,5.5013057 23.8238275,5.5403057 23.4038275,5.5953057 C21.7088275,5.7943057 20.0518275,6.2333057 18.4808275,6.9003057 L18.1928275,7.0183057 C18.1658275,7.0273057 18.1378275,7.0273057 18.1108275,7.0353057 C16.0328275,7.9573057 14.1138275,9.2493057 12.4588275,10.9053057 C10.6588275,12.7043057 9.27082745,14.8013057 8.32982745,17.1383057 C7.85682745,18.3163057 6.51782745,18.8893057 5.33782745,18.4133057 C4.15882745,17.9393057 3.58782745,16.5993057 4.06282745,15.4213057 C5.23482745,12.5053057 6.96582745,9.8923057 9.20582745,7.6523057 C11.2198275,5.6373057 13.5238275,4.0963057 15.9748275,2.9743057 C16.1458275,2.8373057 16.3348275,2.7213057 16.5438275,2.6353057 Z M25.3582951,18.4976948 L25.5937677,18.5037208 C27.3140523,18.587874 28.8826588,19.5463331 29.74728,21.0575012 L29.8703916,21.2857404 C30.6500025,22.822873 30.6070067,24.6601581 29.7444064,26.1616466 L29.6138776,26.3762423 C28.7569143,27.7102227 27.3321033,28.5625371 25.7662422,28.6893117 L25.3505506,28.7060903 L-3.88578059e-16,23.5507704 L25.3582951,18.4976948 Z"})],-1)]))),(n(),a("svg",fi,t[81]||(t[81]=[s("symbol",{viewBox:"0 0 16 26",id:"speed-down"},[s("polygon",{points:"7 0 7 22.17 1.42 16.58 0 18 8 26 16 18 14.59 16.59 9 22.17 9 0"})],-1)]))),(n(),a("svg",yi,t[82]||(t[82]=[s("symbol",{viewBox:"0 0 16 26",id:"speed-up"},[s("polygon",{points:"7 26 7 3.83 1.42 9.42 0 8 8 0 16 8 14.59 9.41 9 3.83 9 26"})],-1)]))),(n(),a("svg",vi,t[83]||(t[83]=[_(`<symbol viewBox="0 0 64 64" id="fibre" data-v-098ebab7><g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" data-v-098ebab7><path d="M60 500 l0 -40 50 0 50 0 0 40 0 40 -50 0 -50 0 0 -40z" data-v-098ebab7></path><path d="M190 510 c0 -19 7 -20 180 -20 l180 0 0 -140 0 -140 -200 0 c-194 0\r
  -200 -1 -200 -20 0 -20 5 -21 220 -19 l220 2 0 179 0 178 -200 0 c-193 0 -200\r
  -1 -200 -20z" data-v-098ebab7></path><path d="M50 390 c0 -39 4 -53 20 -62 18 -12 20 -24 20 -135 0 -116 1 -123 20\r
  -123 19 0 20 7 20 123 0 111 2 123 20 135 16 9 20 23 20 62 0 43 -3 50 -20 50\r
  -16 0 -20 -7 -20 -30 0 -23 -4 -30 -20 -30 -16 0 -20 7 -20 30 0 23 -4 30 -20\r
  30 -17 0 -20 -7 -20 -50z" data-v-098ebab7></path><path d="M277 130 c-3 -13 -14 -20 -30 -20 -14 0 -35 -9 -48 -20 l-24 -19 135\r
  0 135 0 -24 19 c-13 11 -34 20 -47 20 -12 0 -27 6 -31 13 -4 8 -20 17 -34 20\r
  -21 5 -28 3 -32 -13z" data-v-098ebab7></path></g></symbol>`,1)]))),(n(),a("svg",bi,t[84]||(t[84]=[s("symbol",{viewBox:"0 0 50 50",id:"fibre1"},[s("g",{transform:"translate(0.000000,50.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},[s("path",{d:`M70 465 c0 -12 20 -15 120 -15 100 0 120 3 120 15 0 13 -20 15 -120\r
  15 -100 0 -120 -2 -120 -15z`}),s("path",{d:`M20 235 l0 -195 70 0 c40 0 70 -4 70 -10 0 -6 60 -10 160 -10 107 0\r
  160 4 160 11 0 23 -21 47 -50 59 -27 11 -31 17 -25 39 4 14 9 47 12 72 4 44 3\r
  48 -26 65 -30 18 -31 20 -31 91 l0 73 -170 0 -170 0 0 -195z m100 135 c0 -5\r
  -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0\r
  c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z\r
  m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20\r
  -10z m-180 -50 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0\r
  20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10\r
  11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10\r
  20 10 11 0 20 -4 20 -10z m-180 -50 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10\r
  0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5\r
  -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m95 -3 c15 -12 17 -22 11 -63 -15\r
  -96 -13 -107 15 -121 15 -7 32 -20 39 -28 11 -13 0 -15 -90 -15 -90 0 -101 2\r
  -90 15 7 8 24 21 39 28 29 14 39 50 20 73 -20 24 -22 84 -3 105 20 22 34 24\r
  59 6z m80 -20 c18 -14 18 -21 -1 -123 -5 -28 -2 -33 30 -48 45 -21 54 -36 22\r
  -36 -13 0 -37 12 -53 28 -16 15 -38 32 -48 38 -18 10 -19 15 -7 46 6 19 12 48\r
  12 65 0 44 13 53 45 30z m-265 -27 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0\r
  6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20\r
  10 0 6 9 10 20 10 11 0 20 -4 20 -10z m-90 -50 c0 -5 -9 -10 -20 -10 -11 0\r
  -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10\r
  -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m-90 -50 c0 -5 -9 -10\r
  -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9\r
  -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z`})])],-1)]))),(n(),a("svg",Si,t[85]||(t[85]=[_(`<symbol viewBox="0 0 100 100" id="wireless" data-v-098ebab7><g transform="translate(0.000000, 100.000000) scale(0.100000,-0.100000)" data-v-098ebab7><path d="M170 970 c-48 -67 -64 -121 -64 -210 0 -72 4 -94 28 -147 32 -71 61\r
  -102 77 -86 8 8 3 23 -16 51 -72 109 -73 244 -3 354 27 43 30 68 8 68 -5 0\r
  -18 -13 -30 -30z" data-v-098ebab7></path><path d="M785 990 c-4 -6 7 -32 23 -58 70 -110 69 -245 -3 -354 -19 -28 -24\r
  -43 -16 -51 16 -16 45 15 75 82 50 112 44 231 -17 331 -33 55 -50 69 -62 50z" data-v-098ebab7></path><path d="M282 898 c-29 -47 -46 -122 -38 -173 7 -52 40 -123 61 -131 30 -12\r
  31 8 4 62 -37 73 -38 132 -4 200 14 27 25 55 25 62 0 24 -29 12 -48 -20z" data-v-098ebab7></path><path d="M670 918 c0 -7 11 -35 25 -62 34 -68 33 -127 -4 -200 -22 -44 -26\r
  -59 -15 -63 19 -7 32 4 56 50 33 62 32 166 -3 232 -24 47 -59 73 -59 43z" data-v-098ebab7></path><path d="M463 828 c-12 -6 -27 -24 -34 -40 -10 -25 -9 -35 5 -65 l17 -35 -121\r
  -318 c-66 -175 -120 -324 -120 -333 0 -22 26 -40 49 -32 11 3 27 24 36 48 l16\r
  42 162 44 c89 24 167 45 172 47 6 2 25 -36 44 -86 23 -61 39 -91 53 -95 22 -8\r
  48 10 48 32 0 9 -54 158 -120 333 l-121 318 17 35 c14 30 15 40 5 65 -12 28\r
  -48 53 -74 51 -7 0 -22 -5 -34 -11z m65 -305 c12 -31 19 -60 16 -64 -6 -10\r
  -96 -40 -102 -34 -6 6 49 155 58 155 4 0 17 -26 28 -57z m68 -179 c8 -20 14\r
  -37 12 -39 -2 -2 -30 7 -63 20 l-60 22 35 16 c51 23 59 21 76 -19z m-69 -94\r
  c4 0 3 -4 -3 -9 -8 -8 -150 -51 -168 -51 -8 0 -1 26 20 77 l13 33 66 -25 c36\r
  -14 69 -25 72 -25z" data-v-098ebab7></path></g></symbol>`,1)]))),(n(),a("svg",wi,t[86]||(t[86]=[s("symbol",{viewBox:"0 0 100 100",id:"lte"},[s("g",{transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},[s("path",{d:`M244 968 c-12 -5 -27 -21 -33 -34 -15 -35 -15 -833 0 -867 19 -43 46\r
  -47 289 -47 243 0 270 4 289 47 7 16 11 143 11 390 l0 367 -78 78 -78 78 -190\r
  -1 c-108 0 -198 -5 -210 -11z m156 -448 c0 -93 11 -100 160 -100 l120 0 0 -60\r
  0 -60 -130 0 -130 0 0 38 c0 48 -14 62 -62 62 l-38 0 0 78 c0 86 8 102 52 102\r
  28 0 28 -1 28 -60z m80 -1 c0 -52 -2 -60 -17 -57 -14 2 -19 15 -21 61 -3 52\r
  -1 57 18 57 18 0 20 -6 20 -61z m80 1 c0 -53 -2 -60 -20 -60 -18 0 -20 7 -20\r
  60 0 53 2 60 20 60 18 0 20 -7 20 -60z m108 48 c7 -7 12 -34 12 -60 l0 -48\r
  -40 0 -40 0 0 60 c0 59 0 60 28 60 15 0 33 -5 40 -12z m-288 -308 c0 -90 -2\r
  -100 -18 -100 -34 0 -42 21 -42 112 l0 88 30 0 30 0 0 -100z m100 -50 c0 -49\r
  -1 -50 -30 -50 -29 0 -30 1 -30 50 0 49 1 50 30 50 29 0 30 -1 30 -50z m80 0\r
  c0 -43 -3 -50 -20 -50 -17 0 -20 7 -20 50 0 43 3 50 20 50 17 0 20 -7 20 -50z\r
  m120 12 c0 -45 -14 -62 -52 -62 -27 0 -28 2 -28 50 l0 50 40 0 c40 0 40 0 40\r
  -38z`})])],-1)]))),(n(),a("svg",Ci,t[87]||(t[87]=[_(`<symbol viewBox="0 0 64 64" id="gpon" data-v-098ebab7><g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" data-v-098ebab7><path d="M162 464 c-84 -69 -150 -130 -147 -135 16 -25 58 -2 178 96 l127 105\r
  127 -105 c119 -98 162 -121 178 -96 3 5 -15 26 -40 46 -45 37 -45 38 -45 101\r
  l0 64 -44 0 c-40 0 -45 -3 -48 -25 -3 -25 -4 -25 -65 25 -34 27 -63 50 -65 49\r
  -2 0 -72 -56 -156 -125z" data-v-098ebab7></path><path d="M198 394 l-118 -95 0 -119 0 -120 157 0 c155 0 156 0 138 20 -13 15\r
  -31 20 -67 20 l-48 0 0 90 c0 88 0 90 24 90 13 0 43 9 67 20 27 12 66 20 99\r
  20 l55 0 -90 85 c-49 46 -92 84 -95 84 -3 0 -58 -43 -122 -95z" data-v-098ebab7></path><path d="M353 269 c-48 -24 -68 -43 -58 -59 4 -7 16 -4 33 8 71 50 170 53 247\r
  8 36 -21 45 -23 54 -12 9 11 6 18 -16 33 -69 48 -187 58 -260 22z" data-v-098ebab7></path><path d="M381 200 c-41 -19 -43 -22 -29 -37 15 -14 18 -14 39 1 30 20 105 21\r
  143 1 23 -12 31 -13 37 -3 12 19 -45 50 -99 55 -33 3 -60 -3 -91 -17z" data-v-098ebab7></path><path d="M445 142 c-24 -5 -46 -22 -41 -31 2 -3 28 -6 58 -6 39 0 53 4 53 14\r
  0 16 -40 29 -70 23z" data-v-098ebab7></path><path d="M540 75 c-10 -12 -10 -15 4 -15 9 0 16 7 16 15 0 8 -2 15 -4 15 -2 0\r
  -9 -7 -16 -15z" data-v-098ebab7></path><path d="M430 65 c-26 -32 13 -81 48 -59 22 14 27 41 12 59 -16 19 -44 19 -60\r
  0z" data-v-098ebab7></path></g></symbol>`,1)]))),(n(),a("svg",ki,t[88]||(t[88]=[_(`<symbol viewBox="0 0 50 50" id="vsat" data-v-098ebab7><g transform="translate(0.000000,50.000000) scale(0.100000,-0.100000)" data-v-098ebab7><path d="M190 455 l-44 -45 27 -27 27 -28 47 47 47 47 -24 26 c-13 14 -26 25\r
  -30 25 -3 0 -26 -20 -50 -45z" data-v-098ebab7></path><path d="M262 387 c-34 -34 -62 -68 -62 -74 0 -7 -9 -17 -21 -23 -19 -11 -19\r
  -13 -5 -29 9 -10 16 -24 16 -32 0 -19 20 -39 39 -39 8 0 22 -7 32 -16 16 -14\r
  18 -14 29 5 6 12 16 21 23 21 21 0 137 124 137 146 0 26 -80 104 -106 104 -11\r
  0 -47 -28 -82 -63z m-9 -135 c17 -20 29 -52 20 -52 -9 0 -73 62 -73 71 0 12\r
  38 -2 53 -19z" data-v-098ebab7></path><path d="M400 245 l-44 -45 27 -27 27 -28 47 47 47 47 -24 26 c-13 14 -26 25\r
  -30 25 -3 0 -26 -20 -50 -45z" data-v-098ebab7></path><path d="M0 128 c0 -53 75 -128 128 -128 34 0 26 17 -11 24 -41 8 -85 51 -93\r
  94 -7 37 -24 43 -24 10z" data-v-098ebab7></path><path d="M78 144 c-10 -16 11 -54 34 -63 32 -12 46 -1 18 14 -13 7 -28 22 -35\r
  35 -7 12 -15 19 -17 14z" data-v-098ebab7></path></g></symbol>`,1)])))],64)}var $i=B(uo,[["render",Pi],["__scopeId","data-v-098ebab7"]]);async function Ii(e){try{await ae();const t={id:e};return(await f.post("https://adapi.pindrop.co.za/advanced/requestOptions",t)).data.optionalResults}catch(t){console.error("Error fetching order add-ons:",t)}}const Ce=async(e,t)=>{try{return(await f.patch(`/mapche-api/v1/search/${e}/`,{mobile:t})).data}catch(o){throw o}},ke=async(e,t,o)=>{const i={business:localStorage.getItem("business"),shopper:t.id,search:localStorage.getItem("sid"),capacity:e.capacity,contractperiod:e.contractPeriod,costcode:e.costCode,description:e.description,service_id:e.id,mrc:e.MRC,nrc:e.NRC,product:e.product,producttype:e.productType,rebate:e.rebate,suppliername:e.supplierName,timeline:e.timeline,validitydate:e.validityDate,mapche_key:localStorage.getItem("key"),options:o};console.log(i);try{const l=await f.post("/mapche-api/v1/leads/",i);if(l.data)return console.log(l.data.reference_id),l.data.reference_id}catch(l){throw l}};let P;const Ti=V({async mounted(){const[e,t,o,i]=await Promise.all([localStorage.getItem("key"),localStorage.getItem("session"),localStorage.getItem("currency"),localStorage.getItem("business")]);if(this.widgetURL=Z.exports.upperFirst(window.location.hostname),this.currency=await we(o),await Promise.all([this.fetchVendors(),this.UserPreferences(),this.getFeatureData(),this.setClientPreferences(e),this.retrieveBusinessImage()]),t){const c=JSON.parse(t).user;this.phoneNumber=c,this.shopper=await oe(c);const r=i;r&&(this.businessName=await be(r)),this.chosenPackage&&(this.chosenPackage.capacity||this.chosenPackage.capped)&&(this.Order=!0,this.addItemToBasket(this.chosenPackage))}this.optionalAddOns=await Ii(this.optionalResults)},props:{chosenPackage:Object,optionalResults:Number,lat:Number,lng:Number,postCode:String},emits:["stepNewAccount","auth","stepNewAccountBack","cacheProvider","close"],components:{},data(){return{refreshRequired:!1,picture:!1,vendors:[],currency:"",imageUrl:null,ServicesType:"",productDescription:"",product:"",optionalAddOns:[],isAuthenticated:!1,isExclusive:!1,isGoingBack:!1,isChecked:!1,showAddons:!1,selectedAddon:null,showStaticIP:!1,Order:!1,OrderSuccess:!1,addonImages:{Internet:{id:"Internet",name:"mobiledata_off"},Router:{id:"Router",name:"router"},VLAN:{id:"VLAN",name:"dialer_sip"},"IP Address":{id:"IP Address",name:"bring_your_own_ip"},Antenna:{id:"Antenna",name:"settings_input_antenna"},default_image:{id:"Default",name:"check_circle"}},featureData:[],widgetURL:"",phoneNumber:"",lastname:"",firstname:"",username:"",shopper:"1",businessName:"",userPreferencesresult:[],errors:[],screenwidth:{},counterCheckoutItems:0,basketItems:[],basketAddons:[],AddonChoice:[],descriptionVisible:!1,isDefaultclientPrimary:!1,providerCardColor:{comsol:"#23337b",openserve:"#16b251",mtn:"#fbc404",liquidtelecom:"#ca1c7c",frogfoot:"#2db653",bitco:"#2b3c8a",wiocc:"#23348c",easyweb:"#72acde",meshtelecom:"#a62129",dfa:"#00b500",dfazimbabwe:"#00b500",linkafrica:"#624d89",seacom:"#356692",telkom:"#0884c4",vodacom:"#ec3424",metrofibrenetworx:"#f4561b",vumatelbusiness:"#ee008c",mtnbusiness:"#fbc404",kliq:"#2e2673",mapchi:"#db2777",clientPrimaryColor:"",clientSecondaryColor:"",metrofibrenetworxftth:"#f4561b",openserveftth:"#16b251"},providers:{mapchi:""}}},created(){if(window.addEventListener("resize",()=>{this.screenwidth=window.innerWidth}),!ce())this.isAuthenticated=!1,this.auth(),console.log("User needs to authenticate to continue");else{const e=JSON.parse(localStorage.getItem("session")||"{}");localStorage.getItem("cache")==="true"&&(this.checkTime(),this.checkForUpdates()),this.isAuthenticated=!0,console.log(`Welcome back, ${e.user}!`)}},watch:{isChecked(e){this.checkboxClicked=e},refreshRequired(e){e&&this.cacheProvider()}},computed:{isDemo(){const e=localStorage.getItem("is_demo");return e!==null?JSON.parse(e):null},isMobile(){return this.screenwidth<480},isVATInclusive(){const{inclusive:e,exclusive:t}=this.chosenPackage;return e&&!t},total(){if(localStorage.getItem("is_innovator")){const t=[...this.basketItems,...this.basketAddons];return this.getCountryVAT.excise_duty_rate=0,this.getCountryVAT.vat_rate=15,t.reduce((o,i)=>{const l=parseFloat(i.total),c=l*(this.getCountryVAT.excise_duty_rate/100),r=l+c,d=r*(this.getCountryVAT.vat_rate/100);return o+r+d},0)}else return this.basketItems.reduce((t,o)=>{const i=parseFloat(o.total),l=i*(this.getCountryVAT.excise_duty_rate/100),c=i+l,r=c*(this.getCountryVAT.vat_rate/100);return t+c+r},0)},getCountryVAT(){const{inclusive:e,exclusive:t,business:o}=this.chosenPackage,i=this.userPreferencesresult.find(l=>l.business===o);if(i){if(e)return{vat_rate:0,excise_duty_rate:0};if(t)return{vat_rate:i.vat_rate,excise_duty_rate:i.excise_duty_rate}}return{vat_rate:0,excise_duty_rate:0}},addonImagesAdditional(){return e=>{const t=Object.values(this.addonImages).find(o=>o.id===e);return t&&t.name?t.name:"check_circle"}},getproviderThumbLogo(){return e=>{if(!e)return this.providers.mapchi;const t=this.vendors.find(o=>o.name&&o.name.toLowerCase().replace(/\s/g,"")===e.toLowerCase().replace(/\s/g,""));if(t&&t.logo_url){let o=t.logo_url;return this.isDefaultclientPrimary&&(o=o),o}return this.providers.mapchi}},getproviderBgColor(){return e=>this.providerCardColor[e.toLowerCase().replace(/\s/g,"")]||this.providerCardColor.clientPrimaryColor},getproviderBgColorSecondary(){return this.providerCardColor.clientSecondaryColor},checkboxClicked:{get(){return this.isChecked},set(e){this.isChecked=e}},getAddonProducts(){let e=[];this.AddonChoice=[];const t={voice:"VLAN",internet:"Internet",router:"Router",ip:"IP Address",booster:"Antenna",antenna:"Antenna"};e=this.optionalAddOns.filter(i=>{const l=i.description.toLowerCase(),c=i.costCode.toLowerCase();return Object.keys(t).some(r=>l.includes(r)||c.includes(r))}).map(i=>{const l=i.description.toLowerCase(),c=i.costCode.toLowerCase(),r=Object.keys(t).find(d=>l.includes(d)||c.includes(d));return{...i,name:t[r]}}),this.AddonChoice=e;const o=["IP Address","VLAN","Router","Internet","Antenna"];return e=m(e).map("name").sortBy(i=>{const l=o.indexOf(i);return l!==-1?l:1/0}).uniq().value(),e},getAddonProductsChoice(){let e=[];return e=this.AddonChoice.filter(t=>t.name===this.selectedAddon),e}},methods:{retrieveBusinessImage(){const e=localStorage.getItem("business");f.get(`/mapche-api/v1/business/${e}/retrieve_business_image/`).then(t=>{const o=f.defaults.baseURL,i=t.data.business_image;if(i){const l=new URL(i,o).href;this.imageUrl=l}}).catch(t=>{console.error(t)})},async isWithinOneMinute(e){const t=Date.now(),o=new Date(e);return t-o.getTime()<12e4},async checkTime(){const e=await f.get(`/api/cached_results/?latitude=${this.lat}&longitude=${this.lng}`);e&&e.data.timestamp&&localStorage.setItem("lastupdated",e.data.timestamp)},async checkForUpdates(){let e=()=>{window.alert("Real-time changes detected at your current location. Refreshing with the latest data.")};try{const t=localStorage.getItem("lastupdated");if(t&&await this.isWithinOneMinute(t)){clearInterval(P),P=void 0;return}const o=await X(this.lat,this.lng,e);if(o){clearInterval(P),P=void 0,this.refreshRequired=o;return}}catch(t){console.error("Error checking for updates (Initial):",t.message)}P=setInterval(async()=>{try{const t=localStorage.getItem("lastupdated");if(t&&await this.isWithinOneMinute(t)){clearInterval(P),P=void 0;return}const o=await X(this.lat,this.lng,e),i=localStorage.getItem("dataSuccess");if(o){clearInterval(P),P=void 0,this.refreshRequired=o;return}else if(i){clearInterval(P),P=void 0,localStorage.removeItem("dataSuccess");return}}catch(t){console.error("Error checking for updates (Periodic):",t.message)}},1e3),setTimeout(()=>{clearInterval(P),P=void 0},12e4)},cacheProvider(){clearInterval(P),P=void 0,this.$emit("cacheProvider",this.lat,this.lng,this.postCode)},async getFeatureData(){await f.get("/products/featuredata/").then(e=>{this.featureData=e.data}).catch(e=>{console.error(e)})},getFeatureIcon(e){const t=this.featureData.find(o=>o.name===e);return t?t.icon:"default-icon"},async setClientPreferences(e){await ee(e).then(t=>{this.providerCardColor.clientPrimaryColor=t.clientPrimaryColor,this.providerCardColor.clientSecondaryColor=t.clientSecondaryColor,this.isDefaultclientPrimary=t.isDefaultclientPrimary,this.isExclusive=t.isExclusive,document.documentElement.style.setProperty("--client-primary-color",this.providerCardColor.clientPrimaryColor),document.documentElement.style.setProperty("--client-secondary-color",this.providerCardColor.clientSecondaryColor)}).catch(t=>{console.error("Error fetching client preferences:",t)})},async fetchVendors(){try{this.vendors=await Se()}catch(e){console.error("Error fetching vendors in Vue component:",e)}},async UserPreferences(){try{const e=await f.get("/coverage/userglobalcoverages/");this.userPreferencesresult=e.data}catch(e){console.error("Error fetching user preferences",e)}},formatPriceAddOn(e){if(typeof e=="object"){const o={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const l=parseFloat(e[i]);if(isNaN(l))o[i]=e[i];else{const c=l.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});o[i]=c}}return o}const t=parseFloat(e);return isNaN(t)?e:t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},formatPrice(e){const t=parseFloat(e);return isNaN(t)?e:`${t.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`},toggleAddons(){this.showAddons=!this.showAddons,this.selectedAddon=null},selectAddon(e){this.selectedAddon===e?this.selectedAddon=null:this.selectedAddon=e},async refreshComponent(){this.shopper=await oe(this.phoneNumber)},async submitLead(){this.errors=[];const e=JSON.parse(JSON.stringify(this.shopper)),t=JSON.parse(JSON.stringify(this.chosenPackage)),o=[];try{const i=await ke(t,e,o);this.isDemo||this.sendSMS(this.phoneNumber,i)}catch(i){if(i.response)for(const l in i.response.data)this.errors.push(`${l}: ${i.response.data[l]}`);else i.message&&this.errors.push("Something went wrong. Please try again!")}},async sendSMS(e,t){if(this.businessName)var o=`We've received your inquiry! Our team will be in touch shortly. Reference ID: ${t}. - ${this.businessName.name}`;else var o=`We've received your inquiry! Our team will be in touch shortly. Reference ID: ${t}`;const l={message:o,to_number:e};try{const c=await f.post("/sms/send-sms/",l);c.data.status==="success"?console.log(c.data.message):console.error(c.data.message)}catch(c){console.error("Error sending SMS:",c)}},async submitForm(){if(this.errors=[],this.firstname===""&&this.errors.push("Please enter your first name."),this.lastname===""&&this.errors.push("Please enter your last name."),this.username===""?this.errors.push("Please fill in a valid email address."):/\S+@\S+\.\S+/.test(this.username)||this.errors.push("Please enter a valid email address."),this.errors.length)this.errors.length&&setTimeout(()=>{this.errors=[]},5e3);else{const e={first_name:this.firstname,last_name:this.lastname,email:this.username};await f.post(`/shopper/phone/${this.phoneNumber}/`,e).then(t=>{this.refreshComponent()}).catch(t=>{if(t.response)for(const o in t.response.data)this.username="",this.errors.push(`${o}: ${t.response.data[o]}`);else t.message&&(this.username="",this.errors.push("Something went wrong. Please try again!"))})}},auth(){clearInterval(P),P=void 0,this.$emit("auth",this.isAuthenticated)},goBack(){this.isGoingBack||(this.isGoingBack=!0,clearInterval(P),P=void 0,this.$emit("stepNewAccountBack"),setTimeout(()=>{this.isGoingBack=!1},1e3))},goOrder(){this.submitLead(),this.OrderSuccess=!0,this.OrderSuccess&&setTimeout(()=>{this.closeModal()},5e3)},goContinue(){this.submitForm()},closeModal(){clearInterval(P),P=void 0,this.$emit("close")},addItemToBasket(e){console.log(`Adding ${e.supplierName} to the shopping basket...`);let t="Layer3 - Guaranteed Services (SLA)",o="Layer3 - Best Effort Services (No SLA)";if(e.productType===t?this.ServicesType="Internet":e.productType===o?this.ServicesType="Internet":this.ServicesType=e.productType,this.basketItems.findIndex(l=>l.supplierName===e.supplierName&&l.MRC===e.MRC)>=0)console.log("this item has already been added!");else{let l;e.feature_name?l=e.feature_name.map(c=>c.name).sort():e.ItemProperties?l=e.ItemProperties.filter(c=>c.PropertySetting.toLowerCase()==="true"&&c.PropertyName.toLowerCase()!=="business"&&c.PropertyName.toLowerCase()!=="home"&&c.PropertyName.toLowerCase()!=="promotion"||c.PropertyName.toLowerCase()==="capped").map(c=>c.PropertyName).sort():l=[],this.basketItems.push({supplierName:e.supplierName,description:e.description,capacity:e.capacity,capacityupload:e.capacityupload,capped:e.capped,fup:e.fup,promotion:e.promotion_id,product:e.product,productType:this.ServicesType,contractPeriod:e.contractPeriod,NRC:e.NRC,MRC:e.MRC,quantity:1,total:e.MRC,features:l}),this.productDescription=e.description,this.product=e.product}},addAddonToBasket(e){if(this.errors=[],this.descriptionVisible=!1,this.basketAddons.findIndex(o=>o.productType===e.name&&o.MRC===e.MRC)>=0)this.errors.push("This item has already been added."),this.errors.length&&setTimeout(()=>{this.errors=[]},3e3),this.selectAddon(e.name),this.descriptionVisible=!0;else{const o=this.basketAddons.length;this.counterCheckoutItems=o+1,this.basketAddons.push({supplierName:"",description:e.description,productType:e.name,NRC:e.NRC,MRC:e.MRC,total:e.MRC}),this.productDescription=e.description,this.descriptionVisible=!0}},removeItemFromBasket(e){this.basketAddons=this.basketAddons.filter(t=>t.MRC!==e.MRC||t.NRC!==e.NRC||t.productType!==e.productType),this.counterCheckoutItems=this.basketAddons.length,this.counterCheckoutItems===0&&(this.descriptionVisible=!1)}}}),xi={class:"signup-modal"},Ni={class:"modal-header w-screen"},Ai={class:"flex items-center"},Mi={key:0,class:"textSecure mt-5"},Li={key:1,class:"textSecure mt-5"},_i={class:"providerH"},Bi={key:0},Oi={key:1},Di={key:2},Vi={class:"providerfloat"},Ri={class:"buttonfloat"},zi={title:"Shopping Cart"},Ei={class:"round-buttonmenushopping"},Fi={key:0,class:"absolute top-1 left-8 cart-color text-white px-2 rounded-full text-base"},qi={key:0,class:"modal-body-newAccount-tell"},Ui={class:"signup-form"},ji={class:"sign-up-inputnew"},Gi={class:"sign-up-inputnew"},Wi={class:"sign-up-inputnew"},Ki={class:"sign-up-inputnew"},Ji={for:"phonenumber"},Hi={for:"agreementCheckbox",class:"pl-1"},Qi={key:0,class:"error-sign-up"},Yi={key:1,class:"modal-body-newAccount"},Zi={class:"flex items-center justify-center"},Xi={class:"flex items-center justify-center"},en={key:0},tn={key:0,class:"imagesuppliernewround flex items-center"},sn=["src"],on={key:1,class:"imagesuppliernewround flex items-center"},rn=["src"],nn={key:1},ln={key:0,class:"imagesuppliernew flex items-center"},an=["src"],dn={key:1,class:"imagesuppliernew flex items-center"},cn=["src"],pn={class:"flex-grow"},un={class:"text-2xl"},hn={class:"my-1 mx-1"},mn={key:0},gn={class:"flex items-center justify-center mt-1 xs:mt-2 mb-1"},fn={class:"w-full shoppingcardescriptions text-center text-lg xs:w-1/6 flex items-center justify-center"},yn={class:"flex items-center justify-center mb-2"},vn={class:"w-full shoppingcardescriptions text-center text-lg xs:w-1/6"},bn={class:"flex items-center justify-center mb-2"},Sn={class:"flex xs: flex-row items-center justify-center mt-1 xs:mt-2 mb-1"},wn={class:"w-full text-center text-base xs:w-1/6 flex items-center justify-center mb-2"},Cn={class:"text-center text-gray-600 text-sm xs:text-base"},kn={class:"w-full text-center text-base xs:w-1/6 flex items-center justify-center mb-2"},Pn={class:"text-center text-gray-600 text-sm xs:text-base"},$n={key:1},In={class:"flex items-center justify-center mt-1 xs:mt-2 mb-1"},Tn={class:"w-full shoppingcardescriptions text-center text-lg xs:w-1/6 flex items-center justify-center"},xn={class:"flex items-center justify-center mb-2"},Nn={class:"w-full shoppingcardescriptions text-center text-lg xs:w-1/6"},An={class:"flex items-center justify-center mb-2"},Mn={class:"w-full shoppingcardescriptions text-center text-lg xs:w-1/6"},Ln={class:"flex items-center justify-center mb-2"},_n={class:"flex xs: flex-row items-center justify-center mt-1 xs:mt-2 mb-1"},Bn={class:"w-full text-center text-base xs:w-1/6 flex items-center justify-center mb-2"},On={class:"text-center text-gray-600 text-sm xs:text-base"},Dn={class:"w-full text-center text-base xs:w-1/6 flex items-center justify-center mb-2"},Vn={class:"text-center text-gray-600 text-sm xs:text-base"},Rn={class:"w-full text-center text-base xs:w-1/6 flex items-center justify-center mb-2"},zn={class:"text-center text-gray-600 text-sm xs:text-base"},En={class:"shoppingcart bg-white px-5 py-1"},Fn={class:"flex items-center justify-center"},qn={class:"xs:w-2/3"},Un={class:"flex -mx-6 px-6"},jn={class:"mt-1 mb-5 w-full xs:w-3/6"},Gn={class:"pl-2 pt-1"},Wn={class:"flex items-center mt-1"},Kn={key:0,class:"flex items-center"},Jn={class:"pl-2 mt-3 shoppingcardescriptions"},Hn={class:"flex items-center mt-1"},Qn={key:0,class:"flex items-center"},Yn={class:"mt-0 mb-5 w-full xs:w-3/6 text-right"},Zn={class:"mt-4"},Xn={key:2,class:"shoppingcart bg-white px-5 py-1"},el={class:"flex items-center justify-center"},tl={class:"xs:w-2/3"},sl={class:"flex -mx-6 px-6"},ol={class:"mt-1 mb-5 w-full"},rl={key:0,class:"w-3/6 flex items-center"},il={class:"pl-2 pt-1"},nl={key:1,class:"w-1/6 flex justify-end mt-1"},ll=["onClick"],al={key:2,class:"w-2/6 flex justify-end"},dl={key:0,class:"w-full flex justify-end"},cl={key:0,class:"w-3/6 flex items-center"},pl={class:"pl-2 pt-1"},ul={key:1,class:"w-1/6 flex justify-end mt-1"},hl=["onClick"],ml={key:2,class:"w-2/6 flex justify-end"},gl={key:3,class:"border-t"},fl={class:"shoppingcart bg-white px-5 py-1"},yl={class:"flex items-center justify-center"},vl={class:"xs:w-2/3"},bl={class:"flex mt-1 xs:mt-2 mb-1"},Sl={class:"w-full flex items-center shoppingcardescriptions text-left text-lg xs:w-3/6"},wl={key:0,class:"scale-75 material-icons-outlined"},Cl={key:1,class:"scale-75 material-icons-outlined"},kl={key:0,class:"flex xs:flex-row items-center justify-between"},Pl={class:"flex w-full addons"},$l=["onClick"],Il={class:"scale-125 material-symbols-outlined pr-1"},Tl={class:"text-sm align-text-bottom"},xl={key:1,class:"error-sign-up"},Nl={key:2,class:"shoppingcart xs:w-2/3 bg-white px-5 py-1"},Al={class:"flex mt-1 xs:mt-2 mb-1"},Ml={key:0,class:"w-full shoppingcardescriptions text-base uppercase xs:w-1/3"},Ll={class:"border-t border-b mt-1"},_l={class:"flex xs:flex-row items-center -mx-6 mt-1 px-0"},Bl={class:"flex w-full xs:w-1/12 justify-end items-center"},Ol=["onClick"],Dl={class:"flex w-full justify-center items- xs:w-1/3"},Vl={class:"text-center shoppingcardescriptions text-base"},Rl={class:"flex w-full xs:w-1/3 justify-center items-center xs:border-l"},zl={class:"flex w-full xs:w-1/3 justify-center items-center xs:border-l"},El={key:2},Fl={key:0,class:"modal-footer"},ql={class:"pt-1 totaldescription"},Ul={key:0,class:"pt-1 totalprice"},jl={key:1,class:"pt-1 totalprice"},Gl={class:"totalpriceIn ml-4"},Wl={key:3},Kl={class:"modal-footer"},Jl={key:4,class:"order-placed"},Hl={class:"text-sm"},Ql={width:"0",height:"0",style:{display:"none"}},Yl={width:"0",height:"0",style:{display:"none"}},Zl={width:"0",height:"0",style:{display:"none"}};function Xl(e,t,o,i,l,c){return n(),a(b,null,[s("div",xi,[s("div",Ni,[s("dl",null,[s("dt",Ai,[t[12]||(t[12]=s("span",{class:"mt-4 textSecure scale-125 material-symbols-outlined"}," lock ",-1)),e.shopper?(n(),a("span",Li,u(e.shopper.first_name)+" "+u(e.shopper.last_name),1)):(n(),a("span",Mi,"Secure"))]),s("div",_i,[!e.shopper&&!e.OrderSuccess?(n(),a("dd",Bi,"Tell us a bit more")):h("",!0),e.shopper&&!e.OrderSuccess?(n(),a("dd",Oi,"Summary")):h("",!0),e.shopper&&e.OrderSuccess?(n(),a("dd",Di,"Inquiry status")):h("",!0),s("div",Vi,[s("div",null,[s("div",Ri,[s("div",zi,[s("button",Ei,[t[13]||(t[13]=s("span",{class:"iconloginshopping textSecureLogin material-symbols-sharp"},"shopping_cart_checkout",-1)),e.counterCheckoutItems?(n(),a("span",Fi,u(e.counterCheckoutItems),1)):h("",!0)])]),s("div",{title:"Logged in",class:x({hidden:!e.isAuthenticated})},[s("button",{class:x(["round-buttonverified",{selected:e.isAuthenticated}])},t[14]||(t[14]=[s("span",{class:"iconverified textSecureLogin material-symbols-outlined"},"lock_open_right ",-1)]),2)],2),s("div",{title:"Restart",onClick:t[0]||(t[0]=(...r)=>e.closeModal&&e.closeModal(...r))},t[15]||(t[15]=[s("button",{class:"round-buttonmenu"},[s("span",{class:"iconlogin textSecureLogin material-symbols-sharp"},"restart_alt")],-1)]))])])])])])])]),!e.shopper&&!e.OrderSuccess?(n(),a("div",qi,[t[22]||(t[22]=s("div",{class:"info-bar"},[s("label",{class:"pheader"},"Personal Information")],-1)),s("form",{onSubmit:t[5]||(t[5]=fe(()=>{},["prevent"]))},[s("div",Ui,[s("div",ji,[y(s("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150",type:"text",id:"firstname",required:"",autocomplete:"given-name","onUpdate:modelValue":t[1]||(t[1]=r=>e.firstname=r)},null,512),[[D,e.firstname]]),t[16]||(t[16]=s("label",{for:"firstname"},"First Name *",-1))]),s("div",Gi,[y(s("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150",type:"text",id:"lastname",required:"",autocomplete:"family-name","onUpdate:modelValue":t[2]||(t[2]=r=>e.lastname=r)},null,512),[[D,e.lastname]]),t[17]||(t[17]=s("label",{for:"lastname"},"Last Name *",-1))]),s("div",Wi,[y(s("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150",type:"text",id:"email",required:"",autocomplete:"email","onUpdate:modelValue":t[3]||(t[3]=r=>e.username=r)},null,512),[[D,e.username]]),t[18]||(t[18]=s("label",{for:"email"},"Email address *",-1))]),s("div",Ki,[t[19]||(t[19]=s("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150",type:"text",id:"phonenumber",disabled:""},null,-1)),s("label",Ji,"Phone number: "+u(e.phoneNumber),1)])]),s("p",null,[y(s("input",{type:"checkbox",id:"agreementCheckbox","onUpdate:modelValue":t[4]||(t[4]=r=>e.isChecked=r)},null,512),[[le,e.isChecked]]),s("label",Hi,[v(" By submitting, you agree to "+u(e.widgetURL)+" processing your personal information in line with its ",1),t[20]||(t[20]=s("span",{class:"privacy-color font-bold"},"Privacy Policy.",-1))])])],32),e.errors.length?(n(),a("div",Qi,[t[21]||(t[21]=s("span",{class:"material-symbols-outlined mr-1"},"error",-1)),s("p",null,u(e.errors[0]),1)])):h("",!0)])):h("",!0),e.shopper&&!e.OrderSuccess?(n(),a("div",Yi,[(n(!0),a(b,null,w(e.basketItems,(r,d)=>(n(),a("div",{class:"bg-gray-100",key:d},[s("div",Zi,[s("div",Xi,[r.supplierName.includes("mapchi")||r.supplierName.includes("Jenny Internet")?(n(),a("div",en,[e.isExclusive?(n(),a("span",tn,[s("img",{src:e.imageUrl,class:"mr-2"},null,8,sn)])):(n(),a("span",on,[s("img",{src:e.getproviderThumbLogo(r.supplierName),class:"mr-2"},null,8,rn)]))])):(n(),a("div",nn,[e.isExclusive?(n(),a("span",ln,[s("img",{src:e.imageUrl,class:"mr-2"},null,8,an)])):(n(),a("span",dn,[s("img",{src:e.getproviderThumbLogo(r.supplierName),class:"mr-2"},null,8,cn)]))])),s("div",pn,[s("span",un,u(r.supplierName!==""?r.description:""),1)])])]),s("div",hn,[r.capped>0?(n(),a("div",mn,[s("div",gn,[s("h3",fn,[s("div",yn,[t[23]||(t[23]=s("span",{class:"mr-0"},"Capped",-1)),s("span",{class:"text-2xl ml-1 material-symbols-sharp",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})}," equalizer ",4)])]),s("h3",vn,[s("div",bn,[t[24]||(t[24]=s("span",{class:"mr-0"},"Contract",-1)),s("span",{class:"text-xl ml-2 material-symbols-sharp",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})}," schedule ",4)])])]),s("div",Sn,[s("div",wn,[s("span",Cn,u(r.capped===0?"":r.capped+" GB"),1)]),s("div",kn,[s("span",Pn,u(r.contractPeriod>1?r.contractPeriod+" Months":"Month-to-Month"),1)])])])):(n(),a("div",$n,[s("div",In,[s("h3",Tn,[s("div",xn,[t[25]||(t[25]=s("span",{class:"mr-0"},"Download",-1)),s("span",{class:"text-xl ml-1 material-symbols-sharp",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})}," arrow_downward ",4)])]),s("h3",Nn,[s("div",An,[t[26]||(t[26]=s("span",{class:"mr-0"},"Upload",-1)),s("span",{class:"text-xl ml-1 material-symbols-sharp",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})}," arrow_upward ",4)])]),s("h3",Mn,[s("div",Ln,[t[27]||(t[27]=s("span",{class:"mr-0"},"Contract",-1)),s("span",{class:"text-xl ml-2 material-symbols-sharp",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})}," schedule ",4)])])]),s("div",_n,[s("div",Bn,[s("span",On,u(r.capacity===0?"":r.capacity+" Mbps"),1)]),s("div",Dn,[s("span",Vn,u(r.capacityupload===0?"":r.capacityupload+" Mbps"),1)]),s("div",Rn,[s("span",zn,u(r.contractPeriod>1?r.contractPeriod+" Months":"Month-to-Month"),1)])])])),s("div",En,[t[30]||(t[30]=_('<div class="flex items-center justify-center" data-v-3f40d510><div class="xs:w-2/3" data-v-3f40d510><div class="flex mt-1 xs:mt-2 mb-1" data-v-3f40d510><h3 class="w-full shoppingcardescriptions text-left text-lg xs:w-3/6" data-v-3f40d510>Features</h3><h3 class="w-full shoppingcardescriptions text-right text-lg xs:w-3/6" data-v-3f40d510>Per Month</h3></div></div></div>',1)),s("div",Fn,[s("div",qn,[s("div",Un,[s("div",jn,[(n(!0),a(b,null,w(r.features,(p,S)=>(n(),a("div",{key:S,class:"flex items-center mt-2"},[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})},u(e.getFeatureIcon(p)),5),s("span",Gn,u(p),1)]))),128)),s("div",Wn,[r.fup>0?(n(),a("span",Kn,[s("span",{class:"scale-150 mt-1 material-symbols-outlined",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})}," equalizer ",4),s("span",Jn,"FUP - "+u(r.fup)+"GB",1)])):h("",!0)]),s("div",Hn,[r.promotion>0?(n(),a("span",Qn,[s("span",{class:"scale-150 mt-1 material-symbols-outlined",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})}," celebration ",4),t[28]||(t[28]=s("span",{class:"pl-2 mt-3 shoppingcardescriptions"},"Promotion",-1))])):h("",!0)])]),s("div",Yn,[s("div",null,[s("span",{class:"shoppingcardescriptions text-xs xs:text-2xl",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})},u(e.currency)+" "+u(e.formatPrice(r.MRC)),5)]),s("div",Zn,[t[29]||(t[29]=s("h3",{class:"w-full shoppingcardescriptions text-right text-lg"},"Installation Fee",-1)),s("span",{class:"shoppingcardescriptions text-xs xs:text-2xl",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})},u(e.formatPrice(r.NRC)==="0.00"?"Free":e.currency+" "+e.formatPrice(r.NRC)),5)])])])])])]),e.descriptionVisible?(n(),a("div",Xn,[t[32]||(t[32]=_('<div class="flex items-center justify-center" data-v-3f40d510><div class="xs:w-2/3" data-v-3f40d510><div class="flex mt-1 xs:mt-2 mb-0" data-v-3f40d510><h3 class="w-full shoppingcardescriptions text-left text-lg xs:w-3/6" data-v-3f40d510>Additional</h3><h3 class="w-full shoppingcardescriptions text-right text-lg xs:w-3/6" data-v-3f40d510>Per Month</h3></div></div></div>',1)),s("div",el,[s("div",tl,[s("div",sl,[s("div",ol,[(n(!0),a(b,null,w(e.basketAddons,p=>(n(),a("div",{key:p,class:"flex items-center"},[p.MRC?(n(),a("div",rl,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})},u(e.addonImagesAdditional(p.productType)),5),s("span",il,u(p.description),1)])):h("",!0),p.MRC?(n(),a("div",nl,[s("button",{class:"images material-symbols-outlined scale-90",onClick:S=>e.removeItemFromBasket(p)},"delete",8,ll)])):h("",!0),p.MRC?(n(),a("div",al,[s("span",{class:"shoppingcardescriptions text-xs xs:text-2xl",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})},u(e.currency)+" "+u(e.formatPrice(p.MRC)),5)])):h("",!0)]))),128)),e.basketAddons.some(p=>p.NRC)?(n(),a("div",dl,t[31]||(t[31]=[s("h3",{class:"mt-3 shoppingcardescriptions text-lg"},"Once-Off",-1)]))):h("",!0),(n(!0),a(b,null,w(e.basketAddons,p=>(n(),a("div",{key:p,class:"flex items-center"},[p.NRC?(n(),a("div",cl,[s("span",{class:"scale-110 material-symbols-outlined",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})},u(e.addonImagesAdditional(p.productType)),5),s("span",pl,u(p.description),1)])):h("",!0),p.NRC?(n(),a("div",ul,[s("button",{class:"images material-symbols-outlined scale-90",onClick:S=>e.removeItemFromBasket(p)},"delete",8,hl)])):h("",!0),p.NRC?(n(),a("div",ml,[s("span",{class:"shoppingcardescriptions text-xs xs:text-2xl",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(r.supplierName)})},u(e.currency)+" "+u(e.formatPrice(p.NRC)),5)])):h("",!0)]))),128))])])])])])):h("",!0),e.optionalAddOns.length>0?(n(),a("div",gl,[s("div",fl,[s("div",yl,[s("div",vl,[s("div",bl,[s("h3",Sl,[t[33]||(t[33]=v("Add-ons ")),s("span",{class:"addons",onClick:t[6]||(t[6]=(...p)=>e.toggleAddons&&e.toggleAddons(...p))},[e.showAddons?(n(),a("span",wl,"remove")):(n(),a("span",Cl,"add"))])])]),e.showAddons?(n(),a("div",kl,[s("div",Pl,[(n(!0),a(b,null,w(e.getAddonProducts,p=>(n(),a("span",{key:p,class:"px-1 pr-5"},[s("div",{class:"images",onClick:S=>e.selectAddon(p)},[s("span",Il,u(e.addonImages[p].name),1),s("span",Tl,u(p),1)],8,$l)]))),128))])])):h("",!0),e.errors.length?(n(),a("div",xl,[t[34]||(t[34]=s("span",{class:"scale-75 material-symbols-outlined mr-1"},"error",-1)),s("p",null,u(e.errors[0]),1)])):h("",!0),e.selectedAddon&&e.showAddons?(n(),a("div",Nl,[s("div",Al,[t[35]||(t[35]=s("h3",{class:"font-semibold w-full text-center text-gray-600 text-base uppercase xs:w-1/12"},null,-1)),e.picture?(n(),a("h3",Ml)):h("",!0),t[36]||(t[36]=s("h3",{class:"w-full shoppingcardescriptions text-base uppercase xs:w-1/3"},null,-1)),t[37]||(t[37]=s("h3",{class:"w-full shoppingcardescriptions text-center text-lg xs:w-1/3"},"Once-off",-1)),t[38]||(t[38]=s("h3",{class:"w-full shoppingcardescriptions text-center text-lg xs:w-1/3"},"Per Month",-1))]),s("div",Ll,[(n(!0),a(b,null,w(e.getAddonProductsChoice,p=>(n(),a("div",{key:p},[s("div",_l,[s("div",Bl,[s("button",{class:"images material-symbols-outlined scale-90",onClick:S=>e.addAddonToBasket(p)},"add_circle",8,Ol)]),s("div",Dl,[s("span",Vl,u(p.description),1)]),s("div",Rl,[s("span",{class:"shoppingcardescriptions text-xs xs:text-2xl",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(p.supplierName)})},u(e.currency)+" "+u(e.formatPrice(p.NRC)),5)]),s("div",zl,[s("span",{class:"shoppingcardescriptions text-xs xs:text-2xl",style:g({color:e.isDefaultclientPrimary?e.getproviderBgColorSecondary:e.getproviderBgColor(p.supplierName)})},u(e.currency)+" "+u(e.formatPrice(p.MRC)),5)])])]))),128))])])):h("",!0)])])])])):h("",!0)])]))),128))])):h("",!0),e.shopper&&!e.OrderSuccess?(n(),a("div",El,[e.Order?(n(),a("div",Fl,[s("button",{class:"signup-button ghost",onClick:t[7]||(t[7]=(...r)=>e.goBack&&e.goBack(...r))},t[39]||(t[39]=[s("span",null,"Back",-1)])),s("h1",ql,[t[41]||(t[41]=v("Total amount: ")),e.isVATInclusive?(n(),a("span",Ul,[v(u(e.currency)+u(e.formatPrice(e.total))+" ",1),t[40]||(t[40]=s("span",{class:"totalpriceIn ml-4"},"(VAT Inclusive)",-1))])):(n(),a("span",jl,[v(u(e.currency)+u(e.formatPrice(e.total)),1),s("span",Gl,u(e.getCountryVAT.excise_duty_rate&&e.getCountryVAT.excise_duty_rate>0?"(VAT & Excise Duty Inclusive)":"(VAT Inclusive)"),1)]))]),s("button",{class:"signup-button primary",onClick:t[8]||(t[8]=(...r)=>e.goOrder&&e.goOrder(...r))},t[42]||(t[42]=[s("span",null,"I'm Interested",-1)]))])):h("",!0)])):h("",!0),!e.shopper&&!e.OrderSuccess?(n(),a("div",Wl,[s("div",Kl,[s("button",{class:"signup-button ghost",onClick:t[9]||(t[9]=(...r)=>e.goBack&&e.goBack(...r))},t[43]||(t[43]=[s("span",null,"Back",-1)])),e.isChecked?(n(),a("button",{key:0,class:"signup-button primary",onClick:t[10]||(t[10]=(...r)=>e.goContinue&&e.goContinue(...r))},t[44]||(t[44]=[s("span",null,"Submit",-1)]))):(n(),a("button",{key:1,class:"signup-button disabled",onClick:t[11]||(t[11]=(...r)=>e.goContinue&&e.goContinue(...r))},t[45]||(t[45]=[s("span",null,"Submit",-1)])))])])):h("",!0),e.OrderSuccess?(n(),a("div",Jl,[s("div",null,[t[46]||(t[46]=s("i",{class:"material-symbols-outlined"},[v("check_circle"),s("div",{class:"click-animation"})],-1)),t[47]||(t[47]=s("h3",{class:"text-2xl mb-2"},"Inquiry Submitted Successfully",-1)),s("p",Hl," Thank you for your inquiry! We've sent you an SMS with your inquiry details. "+u(e.isDemo?"SMS delivery is disabled in demo mode.":""),1)])])):h("",!0),(n(),a("svg",Ql,t[48]||(t[48]=[s("symbol",{viewBox:"0 0 50 39",id:"provider-slower"},[s("path",{d:"M16.5438275,2.6353057 C25.7888275,-1.3236943 36.5338275,1.0803057 43.2038275,8.5993057 C49.8748275,16.1193057 50.9698275,27.0623057 45.9208275,35.7513057 C45.0918275,37.1853057 43.5648275,38.0723057 41.9078275,38.0823057 L9.59082745,38.0823057 L9.20682745,38.0673057 C7.96182745,37.9703057 6.81782745,37.3723057 6.01882745,36.4293057 C5.83682745,36.2693057 5.67082745,36.0893057 5.54282745,35.8693057 C4.94882745,34.8513057 4.42882745,33.7793057 3.99682745,32.6813057 C3.53082745,31.4993057 4.11182745,30.1643057 5.29382745,29.6993057 C6.47682745,29.2333057 7.81182745,29.8143057 8.27682745,30.9963057 C8.45882745,31.4573057 8.66182745,31.9123057 8.88082745,32.3593057 L8.89082745,32.3493057 C9.29882745,33.1143057 10.0988275,33.5903057 10.9678275,33.5843057 L40.4838275,33.5843057 L40.7718275,33.5673057 C41.3938275,33.4913057 41.9478275,33.1583057 42.3278275,32.6653057 C46.0008275,25.5013057 44.6428275,16.6313057 38.9168275,10.9053057 C36.2748275,8.2633057 32.9818275,6.5103057 29.4008275,5.7933057 C29.3618275,5.7853057 29.3228275,5.7793057 29.2838275,5.7723057 C28.8048275,5.6793057 28.3198275,5.6133057 27.8318275,5.5573057 C27.6758275,5.5413057 27.5208275,5.5193057 27.3638275,5.5063057 C26.9338275,5.4683057 26.5008275,5.4523057 26.0668275,5.4433057 C25.6198275,5.4373057 25.1728275,5.4453057 24.7228275,5.4723057 C24.7028275,5.4733057 24.6828275,5.4743057 24.6628275,5.4753057 C24.2438275,5.5013057 23.8238275,5.5403057 23.4038275,5.5953057 C21.7088275,5.7943057 20.0518275,6.2333057 18.4808275,6.9003057 L18.1928275,7.0183057 C18.1658275,7.0273057 18.1378275,7.0273057 18.1108275,7.0353057 C16.0328275,7.9573057 14.1138275,9.2493057 12.4588275,10.9053057 C10.6588275,12.7043057 9.27082745,14.8013057 8.32982745,17.1383057 C7.85682745,18.3163057 6.51782745,18.8893057 5.33782745,18.4133057 C4.15882745,17.9393057 3.58782745,16.5993057 4.06282745,15.4213057 C5.23482745,12.5053057 6.96582745,9.8923057 9.20582745,7.6523057 C11.2198275,5.6373057 13.5238275,4.0963057 15.9748275,2.9743057 C16.1458275,2.8373057 16.3348275,2.7213057 16.5438275,2.6353057 Z M25.3582951,18.4976948 L25.5937677,18.5037208 C27.3140523,18.587874 28.8826588,19.5463331 29.74728,21.0575012 L29.8703916,21.2857404 C30.6500025,22.822873 30.6070067,24.6601581 29.7444064,26.1616466 L29.6138776,26.3762423 C28.7569143,27.7102227 27.3321033,28.5625371 25.7662422,28.6893117 L25.3505506,28.7060903 L-3.88578059e-16,23.5507704 L25.3582951,18.4976948 Z"})],-1)]))),(n(),a("svg",Yl,t[49]||(t[49]=[s("symbol",{viewBox:"0 0 16 26",id:"speed-down"},[s("polygon",{points:"7 0 7 22.17 1.42 16.58 0 18 8 26 16 18 14.59 16.59 9 22.17 9 0"})],-1)]))),(n(),a("svg",Zl,t[50]||(t[50]=[s("symbol",{viewBox:"0 0 16 26",id:"speed-up"},[s("polygon",{points:"7 26 7 3.83 1.42 9.42 0 8 8 0 16 8 14.59 9.41 9 3.83 9 26"})],-1)])))],64)}var ea=B(Ti,[["render",Xl],["__scopeId","data-v-3f40d510"]]);let M;const ta=V({async mounted(){const e=localStorage.getItem("key");this.setClientPreferences(e);const t=window.location.hostname;this.widgetURL=Z.exports.upperFirst(t),this.getOnlySelectedService(),this.loadStaticMap(),this.getSession()},props:{prodAvail:Array,lat:Number,lng:Number,postCode:String},emits:["cacheProvider","close"],components:{VueTelInput:ye},data(){return{refreshRequired:!1,onetime:"Contact Me, Your Phone Number is Key",status:"new",checkbox:!1,businessName:"",userMessage:"",widgetURL:"",phoneNumber:"",lastname:"",firstname:"",username:"",id:"",isChecked:!1,shopper:null,prodAvailContact:[],isDefaultclientPrimary:!1,providerCardColor:{clientPrimaryColor:"",clientSecondaryColor:""},isVerified:!1,otpAttempt:0,infoContent:!1,map:null,isAuthenticated:!1,authenticated:!1,contactMe:!1,otp:"",icon:se,temp:null,errors:[],errorsub:[],results:null,selectedProduct:"",selectedListProd:[],selectedProducts:["Fibre to the Home","LTE","Fibre Business","Microwave","Satellite Internet"],productImages:{Default:{url:"#fibre",type:"Fiber"},"Fibre Business":{url:"#fibre",type:"Fiber"},Microwave:{url:"#wireless",type:"Wireless"},LTE:{url:"#lte",type:"LTE"},"Fibre to the Home":{url:"#gpon",type:"FttH"},"Satellite Internet":{url:"#vsat",type:"VSAT"}},isValid:null,bindProps:{mode:"international",defaultCountry:localStorage.getItem("country_short"),placeholder:"Enter a phone number",dropdownOptions:{disabled:!1,showDialCodeInList:!0,showDialCodeInSelection:!0,showFlags:!0,showSearchBox:!0},inputOptions:{showDialCode:!1}}}},created(){if(!ce())this.isAuthenticated=!1,console.log("User needs to authenticate to continue");else{const e=JSON.parse(localStorage.getItem("session")||"{}");this.isAuthenticated=!0,localStorage.getItem("cache")==="true"&&this.checkForUpdates(),console.log(`Welcome back, ${e.user}!`)}},watch:{refreshRequired(e){e&&this.cacheProvider()},otp(e){e.length===6&&(this.otpAttempt<2?(this.otpAttempt++,this.verifyOTP(e)):this.otpAttempt===2?(this.otpAttempt++,this.verifyOTP(e)):(this.otpAttempt=0,this.otp="",this.phoneNumber="",this.errors.push("3 x failed attempts, redirecting you"),setTimeout(()=>{this.isVerified=!1,this.errors=[]},3e3)),this.getMobileFromSource())},isChecked(e){this.checkboxClicked=e}},computed:{isDemo(){const e=localStorage.getItem("is_demo");return e!==null?JSON.parse(e):null},mapResultsConfig(){return{...pe,center:{lat:this.lat,lng:this.lng},mapId:"DEMO_MAP_ID"}},checkboxClicked:{get(){return this.isChecked},set(e){this.isChecked=e}},filteredProdAvail(){return this.prodAvailContact.filter(e=>this.selectedProducts.includes(e.product)).sort((e,t)=>this.selectedProducts.indexOf(e.product)-this.selectedProducts.indexOf(t.product))},formattedPhoneNumber(){return`${this.phoneNumber.replace(/\s/g,"")}`}},methods:{isDemoSend(){const e=localStorage.getItem("is_demo");return e!==null?JSON.parse(e):null},async isWithinOneMinute(e){const t=Date.now(),o=new Date(e);return t-o.getTime()<12e4},async checkForUpdates(){let e=()=>{window.alert("Real-time changes detected at your current location. Refreshing with the latest data.")};try{const t=localStorage.getItem("lastupdated");if(t&&await this.isWithinOneMinute(t)){clearInterval(M),M=void 0;return}const o=await X(this.lat,this.lng,e);if(o){clearInterval(M),M=void 0,this.refreshRequired=o;return}}catch(t){console.error("Error checking for updates (Initial):",t.message)}M=setInterval(async()=>{try{const t=localStorage.getItem("lastupdated");if(t&&await this.isWithinOneMinute(t)){clearInterval(M),M=void 0;return}const o=await X(this.lat,this.lng,e),i=localStorage.getItem("dataSuccess");if(o){clearInterval(M),M=void 0,this.refreshRequired=o;return}else if(i){clearInterval(M),M=void 0,localStorage.removeItem("dataSuccess");return}}catch(t){console.error("Error checking for updates (Periodic):",t.message)}},1e3),setTimeout(()=>{clearInterval(M),M=void 0},12e4)},cacheProvider(){clearInterval(M),M=void 0,this.$emit("cacheProvider",this.lat,this.lng,this.postCode)},setClientPreferences(e){ee(e).then(t=>{this.providerCardColor.clientPrimaryColor=t.clientPrimaryColor,this.providerCardColor.clientSecondaryColor=t.clientSecondaryColor,this.isDefaultclientPrimary=t.isDefaultclientPrimary,document.documentElement.style.setProperty("--client-primary-color",this.providerCardColor.clientPrimaryColor),document.documentElement.style.setProperty("--client-secondary-color",this.providerCardColor.clientSecondaryColor)}).catch(t=>{console.error("Error fetching client preferences:",t)})},toggleCheckbox(){this.checkbox=!this.checkbox},async getSession(){const e=localStorage.getItem("session");if(e){var t=JSON.parse(e),o=t.user;this.phoneNumber=o,this.shopper=await oe(o),this.shopper&&(this.firstname=this.shopper.first_name,this.lastname=this.shopper.last_name,this.username=this.shopper.email,this.id=this.shopper);const i=localStorage.getItem("business");i&&(this.businessName=await be(i))}},selectProduct(e){this.selectedProduct=e.product,this.selectedListProd.includes(e)?(this.errors=[`Product '${this.selectedProduct}' already in the list.`],setTimeout(()=>{this.errors=[]},3e3)):(this.selectedListProd.push(e),this.errors=[])},clearSelected(e){this.selectedListProd.splice(e,1),this.selectedListProd.length>0?this.selectedProduct=this.selectedListProd[0].product:this.selectedProduct=this.filteredProdAvail[0].product},getOnlySelectedService(){this.selectedListProd=[],console.log(this.prodAvail),this.prodAvail&&this.prodAvail.length===0&&(this.prodAvailContact=[{product:"Fibre to the Home"},{product:"LTE"},{product:"Fibre Business"},{product:"Microwave"},{product:"Satellite Internet"}]),this.selectedProduct===""&&this.filteredProdAvail.length!==0&&this.filteredProdAvail.length!==null&&(this.selectedProduct=this.filteredProdAvail[0].product,this.selectedListProd.push(this.filteredProdAvail[0]))},async loadStaticMap(){const e=this.$refs.googleMap;this.map=de(e,this.mapResultsConfig);const t=this.$refs.infocontentString,o=new google.maps.InfoWindow({content:t}),i=new google.maps.Marker({position:{lat:this.lat,lng:this.lng},map:this.map,icon:this.icon,draggable:!1,title:"Correct Location",animation:google.maps.Animation.DROP});google.maps.event.addListener(i,"click",()=>{o!=null&&o.close(),this.infoContent=!0,o.open(this.map,i)}),google.maps.event.trigger(i,"click"),this.map.setCenter(i.position)},phoneObject(e){this.isValid=e.valid},closeModal(){clearInterval(M),M=void 0,this.$emit("close")},async verifyPhoneNumber(){this.errors=[],await f.get(this.isDemoSend()?`/verify/time_basedtest/${this.formattedPhoneNumber}/`:`/verify/time_based/${this.formattedPhoneNumber}/`).then(e=>{this.isVerified=!0,this.temp=e.data.OTP}).catch(e=>{if(e.response){this.phoneNumber="";for(const t in e.response.data)this.errors.push(`${t}: ${e.response.data[t]}`)}else e.message&&this.errors.push("Something went wrong. Please try again!");setTimeout(()=>{this.errors=[]},3e3)})},async verifyOTP(e){this.errors=[];const t={otp:e};await f.post(`/verify/time_based/${this.formattedPhoneNumber}/`,t).then(o=>{this.isAuthenticated=!0,localStorage.setItem("session",JSON.stringify({user:this.formattedPhoneNumber,timestamp:Date.now()})),this.otpAttempt=0,this.getSession(),localStorage.getItem("mobile")?(localStorage.removeItem("mobile"),localStorage.setItem("mobile",this.formattedPhoneNumber)):localStorage.setItem("mobile",this.formattedPhoneNumber)}).catch(o=>{o.response?o.response.status===400?(this.otp="",this.phoneNumber="",this.errors.push("Your One-Time PIN expired, redirecting you"),setTimeout(()=>{this.isVerified=!1},3e3)):o.response.status===410?(this.otp="",this.errors.push("Your One-Time PIN is incorrect.")):(this.otp="",this.errors.push("Something went wrong. Please try again!")):o.message&&(this.otp="",this.errors.push("Something went wrong. Please try again!")),setTimeout(()=>{this.errors=[]},3e3)})},async getMobileFromSource(){if(this.phoneNumber){const e=localStorage.getItem("sid");await Ce(e,this.formattedPhoneNumber)}},goBack(){},goContinue(){this.shopper?this.submitLead():this.submitForm()},async submitForm(){if(this.errorsub=[],this.firstname===""&&this.errorsub.push("Please enter your first name."),this.lastname===""&&this.errorsub.push("Please enter your last name."),this.username===""?this.errorsub.push("Please fill in a valid email address."):/\S+@\S+\.\S+/.test(this.username)||this.errorsub.push("Please enter a valid email address."),this.errorsub.length)this.errorsub.length&&setTimeout(()=>{this.errorsub=[]},3e3);else{const e={first_name:this.firstname,last_name:this.lastname,email:this.username};await f.post(`/shopper/phone/${this.phoneNumber}/`,e).then(t=>{this.id=t.data,this.submitLead()}).catch(t=>{if(t.response)for(const o in t.response.data)this.username="",this.errorsub.push(`${o}: ${t.response.data[o]}`);else t.message&&(this.username="",this.errorsub.push("Something went wrong. Please try again!"))})}},extractProductNames(){return this.selectedListProd.map(e=>e.product)},async sendSMS(e,t){if(this.businessName)var o=`We've received your inquiry! Our team will be in contact shortly. Reference ID: ${t}. - ${this.businessName.name}`;else var o=`We've received your inquiry! Our team will be in contact shortly. Reference ID: ${t}`;const l={message:o,to_number:e};try{(await f.post("/sms/send-sms/",l)).data.status}catch(c){console.error("Error sending SMS:",c)}},async submitLead(){this.errors=[];const e=this.extractProductNames(),t=JSON.parse(JSON.stringify(this.id)),o={description:this.userMessage};try{const i=await ke(o,t,e);this.isDemo||this.sendSMS(this.phoneNumber,i),this.contactMe=!0,this.contactMe&&setTimeout(()=>{this.closeModal()},5e3)}catch(i){if(i.response)for(const l in i.response.data)this.errors.push(`${l}: ${i.response.data[l]}`);else i.message&&this.errors.push("Something went wrong. Please try again!")}}}}),sa={class:"signup-modal"},oa={class:"modal-header w-screen"},ra={class:"flex items-center"},ia={key:0,class:"textSecure mt-5"},na={key:1,class:"textSecure mt-5"},la={class:"providerH"},aa={class:"providerfloat"},da={class:"buttonfloat"},ca={class:"scrollable"},pa={key:0,class:"modal-body h-full"},ua={id:"myDIV",class:"google-map",ref:"googleMap"},ha={tabindex:"1",ref:"infocontentString"},ma={key:0,class:"container"},ga={class:"tabbar tab-style1 pt-2 text-base font-medium text-gray-50 text-center"},fa={class:"providerfloat"},ya=["onClick"],va={class:"icon"},ba=["href"],Sa={class:"button-text"},wa={key:1,class:"onetime"},Ca={class:"tabbar tab-style1 tabtext pt-2 text-base font-bold text-black text-center"},ka={class:"spacing"},Pa={class:"name-container"},$a={key:0},Ia={class:"signup-form"},Ta={class:"sign-up-inputnew"},xa={class:"sign-up-inputnew"},Na={class:"sign-up-inputnew"},Aa={class:"sign-up-inputnew"},Ma={for:"phonenumber"},La={class:"w-full"},_a={class:"w-full border mb-4 p-2 shadow-md"},Ba={class:"mb-0"},Oa={class:"flex flex-wrap"},Da=["onClick"],Va={class:"iconOption max-h-6"},Ra=["href"],za={class:"flex-1 ml-2"},Ea={class:"mb-2"},Fa={key:0,class:"error-sign-up"},qa={for:"agreementCheckbox",class:"pl-1"},Ua={key:0,class:"error-sign-up"},ja={key:1,class:"name-containerOTP"},Ga={class:"floatborder"},Wa={key:0,class:"text-xs ml-5"},Ka={key:1,class:"form-wrapper mt-2"},Ja={key:1,class:"signup-button-verify disabled"},Ha={key:2,class:"sign-up-input"},Qa={key:3,class:"sign-up-input mt-2"},Ya={key:4,class:"error-sign-up"},Za={class:"modal-footer"},Xa={key:0,class:"order-placed"},ed={class:"text-sm"},td={width:"0",height:"0",style:{display:"none"}},sd={width:"0",height:"0",style:{display:"none"}},od={width:"0",height:"0",style:{display:"none"}},rd={width:"0",height:"0",style:{display:"none"}},id={width:"0",height:"0",style:{display:"none"}},nd={width:"0",height:"0",style:{display:"none"}};function ld(e,t,o,i,l,c){const r=$("VueTelInput");return n(),a(b,null,[s("div",sa,[s("div",oa,[s("dl",null,[s("dt",ra,[t[14]||(t[14]=s("span",{class:"mt-4 textSecure scale-125 material-symbols-outlined"}," lock ",-1)),e.shopper?(n(),a("span",na,u(e.shopper.first_name)+" "+u(e.shopper.last_name),1)):(n(),a("span",ia,"Secure"))]),s("div",la,[t[16]||(t[16]=s("dd",null,"Contact Me",-1)),s("div",aa,[s("div",null,[s("div",da,[s("div",{title:"Restart",onClick:t[0]||(t[0]=(...d)=>e.closeModal&&e.closeModal(...d))},t[15]||(t[15]=[s("button",{class:"round-buttonmenu"},[s("span",{class:"iconlogin textSecureLogin material-symbols-sharp"},"restart_alt"),s("span",{class:"button-text"},"Reset")],-1)]))])])])])])])]),s("div",ca,[e.contactMe?h("",!0):(n(),a("div",pa,[s("div",ua,[y(s("div",ha,[e.isAuthenticated?(n(),a("div",ma,[s("div",ga,[s("div",fa,[(n(!0),a(b,null,w(e.filteredProdAvail,(d,p)=>(n(),a("div",{onClick:S=>e.selectProduct(d),key:p},[e.productImages[d.product]?(n(),a("button",{key:0,class:x(["round-button",{selected:d.product===e.selectedProduct}])},[(n(),a("svg",va,[s("use",{href:e.productImages[d.product].url},null,8,ba)])),s("span",Sa,u(e.productImages[d.product].type),1)],2)):h("",!0)],8,ya))),128))]),t[17]||(t[17]=s("ul",{class:"flex-center"},null,-1))])])):(n(),a("div",wa,[s("div",Ca,[v(u(e.onetime)+" ",1),t[18]||(t[18]=s("ul",{class:"flex-center"},null,-1))])]))],512),[[Q,e.infoContent]])],512),s("div",ka,[s("div",Pa,[e.isAuthenticated&&!e.contactMe?(n(),a("div",$a,[t[29]||(t[29]=s("div",{class:"info-bar"},[s("label",{class:"pheader"},"Personal Information")],-1)),s("form",{onSubmit:t[6]||(t[6]=fe(()=>{},["prevent"]))},[s("div",Ia,[s("div",Ta,[y(s("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150",type:"text",id:"firstname",required:"",autocomplete:"given-name","onUpdate:modelValue":t[1]||(t[1]=d=>e.firstname=d)},null,512),[[D,e.firstname]]),t[19]||(t[19]=s("label",{for:"firstname"},"First Name *",-1))]),s("div",xa,[y(s("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150",type:"text",id:"lastname",required:"",autocomplete:"family-name","onUpdate:modelValue":t[2]||(t[2]=d=>e.lastname=d)},null,512),[[D,e.lastname]]),t[20]||(t[20]=s("label",{for:"lastname"},"Last Name *",-1))]),s("div",Na,[y(s("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150",type:"text",id:"email",required:"",autocomplete:"email","onUpdate:modelValue":t[3]||(t[3]=d=>e.username=d)},null,512),[[D,e.username]]),t[21]||(t[21]=s("label",{for:"email"},"Email address *",-1))]),s("div",Aa,[t[22]||(t[22]=s("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150",type:"text",id:"phonenumber",disabled:""},null,-1)),s("label",Ma,"Phone number: "+u(e.phoneNumber),1)])]),t[27]||(t[27]=s("div",{class:"info-bar"},[s("label",{class:"pheader"},"Product Interest")],-1)),s("div",La,[s("div",_a,[s("div",Ba,[t[24]||(t[24]=s("label",{class:"text-xs font-bold block mb-1 ml-2 uppercase"},[v("Options"),s("span",{class:"text-xs normal-case"}," - (Choose your prefered options from the pop-up)")],-1)),s("div",Oa,[(n(!0),a(b,null,w(e.selectedListProd,(d,p)=>(n(),a("span",{class:"text-xs capitalize px-2 py-1 mb-4 mr-2",key:p},[s("div",{onClick:S=>e.clearSelected(p),class:"flex items-center cursor-pointer justify-between"},[(n(),a("svg",Va,[s("use",{href:e.productImages[d.product].url},null,8,Ra)])),s("span",za,u(d.product),1),t[23]||(t[23]=s("button",{class:"ml-1"},"\xD7",-1))],8,Da)]))),128))])]),s("div",Ea,[y(s("textarea",{class:"border-1 border-gray-300 px-3 py-2 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150","onUpdate:modelValue":t[4]||(t[4]=d=>e.userMessage=d),rows:"3",maxlength:"254",placeholder:"Add your message here (optional)..."},null,512),[[D,e.userMessage]])]),e.errors.length?(n(),a("div",Fa,[t[25]||(t[25]=s("span",{class:"material-symbols-outlined mr-1"},"error",-1)),s("p",null,u(e.errors[0]),1)])):h("",!0)])]),s("p",null,[y(s("input",{type:"checkbox",class:"focus:ring-0 privacy-color cursor-pointer",id:"agreementCheckbox","onUpdate:modelValue":t[5]||(t[5]=d=>e.isChecked=d)},null,512),[[le,e.isChecked]]),s("label",qa,[v(" By submitting, you agree to "+u(e.widgetURL)+" processing your personal information in line with its ",1),t[26]||(t[26]=s("span",{class:"privacy-color font-bold"},"Privacy Policy.",-1))])])],32),e.errorsub.length?(n(),a("div",Ua,[t[28]||(t[28]=s("span",{class:"material-symbols-outlined mr-1"},"error",-1)),s("p",null,u(e.errorsub[0]),1)])):h("",!0)])):h("",!0),!e.isAuthenticated&&!e.contactMe?(n(),a("div",ja,[s("div",Ga,[e.isDemo&&!e.isVerified?(n(),a("span",Wa,"Demo mode, use any phone number or 012 345 6789")):h("",!0),e.isVerified?(n(),a("div",Ha,[y(s("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150",type:"text",id:"otp",required:"",maxlength:"6","onUpdate:modelValue":t[9]||(t[9]=d=>e.otp=d)},null,512),[[D,e.otp]]),t[32]||(t[32]=s("label",{for:"otp"},"Enter OTP *",-1)),t[33]||(t[33]=s("button",{class:"material-symbols-outlined"},"shield_lock",-1))])):(n(),a("div",Ka,[G(r,ve({modelValue:e.phoneNumber,"onUpdate:modelValue":t[7]||(t[7]=d=>e.phoneNumber=d)},e.bindProps,{onValidate:e.phoneObject}),null,16,["modelValue","onValidate"]),e.isValid?(n(),a("button",{key:0,class:"signup-button-verify verify",onClick:t[8]||(t[8]=(...d)=>e.verifyPhoneNumber&&e.verifyPhoneNumber(...d))},t[30]||(t[30]=[s("span",{class:"ml-11 mr-11"},"Verify",-1)]))):(n(),a("button",Ja,t[31]||(t[31]=[s("span",{class:"ml-11 mr-11"},"Send",-1)])))])),e.isVerified&&e.isDemo?(n(),a("div",Qa,[y(s("input",{class:"mt-1 border-1 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow-md focus:outline-none focus:ring w-full ease-linear transition-all duration-150",type:"text","onUpdate:modelValue":t[10]||(t[10]=d=>e.temp=d)},null,512),[[D,e.temp]]),t[34]||(t[34]=s("label",{for:"otp"},"Demo OTP below *",-1))])):h("",!0),e.errors.length?(n(),a("div",Ya,[t[35]||(t[35]=s("span",{class:"material-symbols-outlined mr-1"},"error",-1)),s("p",null,u(e.errors[0]),1)])):h("",!0)])])):h("",!0)])])]))]),s("div",Za,[s("button",{class:"signup-button ghost",onClick:t[11]||(t[11]=(...d)=>e.goBack&&e.goBack(...d))},t[36]||(t[36]=[s("span",null,"Back",-1)])),e.isChecked?(n(),a("button",{key:0,class:"signup-button primary",onClick:t[12]||(t[12]=(...d)=>e.goContinue&&e.goContinue(...d))},t[37]||(t[37]=[s("span",null,"Submit",-1)]))):(n(),a("button",{key:1,class:"signup-button disabled",onClick:t[13]||(t[13]=(...d)=>e.goContinue&&e.goContinue(...d))},t[38]||(t[38]=[s("span",null,"Submit",-1)])))]),e.contactMe?(n(),a("div",Xa,[s("div",null,[t[39]||(t[39]=s("i",{class:"material-symbols-outlined"},[v("check_circle"),s("div",{class:"click-animation"})],-1)),t[40]||(t[40]=s("h3",{class:"text-2xl mb-2"},"Contact Details Submitted Successfully",-1)),s("p",ed," Thank you for your inquiry! We've sent you an SMS with your inquiry details. "+u(e.isDemo?"SMS delivery is disabled in demo mode.":""),1)])])):h("",!0),(n(),a("svg",td,t[41]||(t[41]=[_(`<symbol viewBox="0 0 64 64" id="fibre" data-v-5ed99113><g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" data-v-5ed99113><path d="M60 500 l0 -40 50 0 50 0 0 40 0 40 -50 0 -50 0 0 -40z" data-v-5ed99113></path><path d="M190 510 c0 -19 7 -20 180 -20 l180 0 0 -140 0 -140 -200 0 c-194 0\r
  -200 -1 -200 -20 0 -20 5 -21 220 -19 l220 2 0 179 0 178 -200 0 c-193 0 -200\r
  -1 -200 -20z" data-v-5ed99113></path><path d="M50 390 c0 -39 4 -53 20 -62 18 -12 20 -24 20 -135 0 -116 1 -123 20\r
  -123 19 0 20 7 20 123 0 111 2 123 20 135 16 9 20 23 20 62 0 43 -3 50 -20 50\r
  -16 0 -20 -7 -20 -30 0 -23 -4 -30 -20 -30 -16 0 -20 7 -20 30 0 23 -4 30 -20\r
  30 -17 0 -20 -7 -20 -50z" data-v-5ed99113></path><path d="M277 130 c-3 -13 -14 -20 -30 -20 -14 0 -35 -9 -48 -20 l-24 -19 135\r
  0 135 0 -24 19 c-13 11 -34 20 -47 20 -12 0 -27 6 -31 13 -4 8 -20 17 -34 20\r
  -21 5 -28 3 -32 -13z" data-v-5ed99113></path></g></symbol>`,1)]))),(n(),a("svg",sd,t[42]||(t[42]=[s("symbol",{viewBox:"0 0 50 50",id:"fibre1"},[s("g",{transform:"translate(0.000000,50.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},[s("path",{d:`M70 465 c0 -12 20 -15 120 -15 100 0 120 3 120 15 0 13 -20 15 -120\r
  15 -100 0 -120 -2 -120 -15z`}),s("path",{d:`M20 235 l0 -195 70 0 c40 0 70 -4 70 -10 0 -6 60 -10 160 -10 107 0\r
  160 4 160 11 0 23 -21 47 -50 59 -27 11 -31 17 -25 39 4 14 9 47 12 72 4 44 3\r
  48 -26 65 -30 18 -31 20 -31 91 l0 73 -170 0 -170 0 0 -195z m100 135 c0 -5\r
  -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0\r
  c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z\r
  m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20\r
  -10z m-180 -50 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0\r
  20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10\r
  11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10\r
  20 10 11 0 20 -4 20 -10z m-180 -50 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10\r
  0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5\r
  -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m95 -3 c15 -12 17 -22 11 -63 -15\r
  -96 -13 -107 15 -121 15 -7 32 -20 39 -28 11 -13 0 -15 -90 -15 -90 0 -101 2\r
  -90 15 7 8 24 21 39 28 29 14 39 50 20 73 -20 24 -22 84 -3 105 20 22 34 24\r
  59 6z m80 -20 c18 -14 18 -21 -1 -123 -5 -28 -2 -33 30 -48 45 -21 54 -36 22\r
  -36 -13 0 -37 12 -53 28 -16 15 -38 32 -48 38 -18 10 -19 15 -7 46 6 19 12 48\r
  12 65 0 44 13 53 45 30z m-265 -27 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20 10 0\r
  6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10 -11 0 -20 5 -20\r
  10 0 6 9 10 20 10 11 0 20 -4 20 -10z m-90 -50 c0 -5 -9 -10 -20 -10 -11 0\r
  -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9 -10 -20 -10\r
  -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m-90 -50 c0 -5 -9 -10\r
  -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z m90 0 c0 -5 -9\r
  -10 -20 -10 -11 0 -20 5 -20 10 0 6 9 10 20 10 11 0 20 -4 20 -10z`})])],-1)]))),(n(),a("svg",od,t[43]||(t[43]=[_(`<symbol viewBox="0 0 100 100" id="wireless" data-v-5ed99113><g transform="translate(0.000000, 100.000000) scale(0.100000,-0.100000)" data-v-5ed99113><path d="M170 970 c-48 -67 -64 -121 -64 -210 0 -72 4 -94 28 -147 32 -71 61\r
  -102 77 -86 8 8 3 23 -16 51 -72 109 -73 244 -3 354 27 43 30 68 8 68 -5 0\r
  -18 -13 -30 -30z" data-v-5ed99113></path><path d="M785 990 c-4 -6 7 -32 23 -58 70 -110 69 -245 -3 -354 -19 -28 -24\r
  -43 -16 -51 16 -16 45 15 75 82 50 112 44 231 -17 331 -33 55 -50 69 -62 50z" data-v-5ed99113></path><path d="M282 898 c-29 -47 -46 -122 -38 -173 7 -52 40 -123 61 -131 30 -12\r
  31 8 4 62 -37 73 -38 132 -4 200 14 27 25 55 25 62 0 24 -29 12 -48 -20z" data-v-5ed99113></path><path d="M670 918 c0 -7 11 -35 25 -62 34 -68 33 -127 -4 -200 -22 -44 -26\r
  -59 -15 -63 19 -7 32 4 56 50 33 62 32 166 -3 232 -24 47 -59 73 -59 43z" data-v-5ed99113></path><path d="M463 828 c-12 -6 -27 -24 -34 -40 -10 -25 -9 -35 5 -65 l17 -35 -121\r
  -318 c-66 -175 -120 -324 -120 -333 0 -22 26 -40 49 -32 11 3 27 24 36 48 l16\r
  42 162 44 c89 24 167 45 172 47 6 2 25 -36 44 -86 23 -61 39 -91 53 -95 22 -8\r
  48 10 48 32 0 9 -54 158 -120 333 l-121 318 17 35 c14 30 15 40 5 65 -12 28\r
  -48 53 -74 51 -7 0 -22 -5 -34 -11z m65 -305 c12 -31 19 -60 16 -64 -6 -10\r
  -96 -40 -102 -34 -6 6 49 155 58 155 4 0 17 -26 28 -57z m68 -179 c8 -20 14\r
  -37 12 -39 -2 -2 -30 7 -63 20 l-60 22 35 16 c51 23 59 21 76 -19z m-69 -94\r
  c4 0 3 -4 -3 -9 -8 -8 -150 -51 -168 -51 -8 0 -1 26 20 77 l13 33 66 -25 c36\r
  -14 69 -25 72 -25z" data-v-5ed99113></path></g></symbol>`,1)]))),(n(),a("svg",rd,t[44]||(t[44]=[s("symbol",{viewBox:"0 0 100 100",id:"lte"},[s("g",{transform:"translate(0.000000,100.000000) scale(0.100000,-0.100000)"},[s("path",{d:`M244 968 c-12 -5 -27 -21 -33 -34 -15 -35 -15 -833 0 -867 19 -43 46\r
  -47 289 -47 243 0 270 4 289 47 7 16 11 143 11 390 l0 367 -78 78 -78 78 -190\r
  -1 c-108 0 -198 -5 -210 -11z m156 -448 c0 -93 11 -100 160 -100 l120 0 0 -60\r
  0 -60 -130 0 -130 0 0 38 c0 48 -14 62 -62 62 l-38 0 0 78 c0 86 8 102 52 102\r
  28 0 28 -1 28 -60z m80 -1 c0 -52 -2 -60 -17 -57 -14 2 -19 15 -21 61 -3 52\r
  -1 57 18 57 18 0 20 -6 20 -61z m80 1 c0 -53 -2 -60 -20 -60 -18 0 -20 7 -20\r
  60 0 53 2 60 20 60 18 0 20 -7 20 -60z m108 48 c7 -7 12 -34 12 -60 l0 -48\r
  -40 0 -40 0 0 60 c0 59 0 60 28 60 15 0 33 -5 40 -12z m-288 -308 c0 -90 -2\r
  -100 -18 -100 -34 0 -42 21 -42 112 l0 88 30 0 30 0 0 -100z m100 -50 c0 -49\r
  -1 -50 -30 -50 -29 0 -30 1 -30 50 0 49 1 50 30 50 29 0 30 -1 30 -50z m80 0\r
  c0 -43 -3 -50 -20 -50 -17 0 -20 7 -20 50 0 43 3 50 20 50 17 0 20 -7 20 -50z\r
  m120 12 c0 -45 -14 -62 -52 -62 -27 0 -28 2 -28 50 l0 50 40 0 c40 0 40 0 40\r
  -38z`})])],-1)]))),(n(),a("svg",id,t[45]||(t[45]=[_(`<symbol viewBox="0 0 64 64" id="gpon" data-v-5ed99113><g transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)" data-v-5ed99113><path d="M162 464 c-84 -69 -150 -130 -147 -135 16 -25 58 -2 178 96 l127 105\r
  127 -105 c119 -98 162 -121 178 -96 3 5 -15 26 -40 46 -45 37 -45 38 -45 101\r
  l0 64 -44 0 c-40 0 -45 -3 -48 -25 -3 -25 -4 -25 -65 25 -34 27 -63 50 -65 49\r
  -2 0 -72 -56 -156 -125z" data-v-5ed99113></path><path d="M198 394 l-118 -95 0 -119 0 -120 157 0 c155 0 156 0 138 20 -13 15\r
  -31 20 -67 20 l-48 0 0 90 c0 88 0 90 24 90 13 0 43 9 67 20 27 12 66 20 99\r
  20 l55 0 -90 85 c-49 46 -92 84 -95 84 -3 0 -58 -43 -122 -95z" data-v-5ed99113></path><path d="M353 269 c-48 -24 -68 -43 -58 -59 4 -7 16 -4 33 8 71 50 170 53 247\r
  8 36 -21 45 -23 54 -12 9 11 6 18 -16 33 -69 48 -187 58 -260 22z" data-v-5ed99113></path><path d="M381 200 c-41 -19 -43 -22 -29 -37 15 -14 18 -14 39 1 30 20 105 21\r
  143 1 23 -12 31 -13 37 -3 12 19 -45 50 -99 55 -33 3 -60 -3 -91 -17z" data-v-5ed99113></path><path d="M445 142 c-24 -5 -46 -22 -41 -31 2 -3 28 -6 58 -6 39 0 53 4 53 14\r
  0 16 -40 29 -70 23z" data-v-5ed99113></path><path d="M540 75 c-10 -12 -10 -15 4 -15 9 0 16 7 16 15 0 8 -2 15 -4 15 -2 0\r
  -9 -7 -16 -15z" data-v-5ed99113></path><path d="M430 65 c-26 -32 13 -81 48 -59 22 14 27 41 12 59 -16 19 -44 19 -60\r
  0z" data-v-5ed99113></path></g></symbol>`,1)]))),(n(),a("svg",nd,t[46]||(t[46]=[_(`<symbol viewBox="0 0 50 50" id="vsat" data-v-5ed99113><g transform="translate(0.000000,50.000000) scale(0.100000,-0.100000)" data-v-5ed99113><path d="M190 455 l-44 -45 27 -27 27 -28 47 47 47 47 -24 26 c-13 14 -26 25\r
  -30 25 -3 0 -26 -20 -50 -45z" data-v-5ed99113></path><path d="M262 387 c-34 -34 -62 -68 -62 -74 0 -7 -9 -17 -21 -23 -19 -11 -19\r
  -13 -5 -29 9 -10 16 -24 16 -32 0 -19 20 -39 39 -39 8 0 22 -7 32 -16 16 -14\r
  18 -14 29 5 6 12 16 21 23 21 21 0 137 124 137 146 0 26 -80 104 -106 104 -11\r
  0 -47 -28 -82 -63z m-9 -135 c17 -20 29 -52 20 -52 -9 0 -73 62 -73 71 0 12\r
  38 -2 53 -19z" data-v-5ed99113></path><path d="M400 245 l-44 -45 27 -27 27 -28 47 47 47 47 -24 26 c-13 14 -26 25\r
  -30 25 -3 0 -26 -20 -50 -45z" data-v-5ed99113></path><path d="M0 128 c0 -53 75 -128 128 -128 34 0 26 17 -11 24 -41 8 -85 51 -93\r
  94 -7 37 -24 43 -24 10z" data-v-5ed99113></path><path d="M78 144 c-10 -16 11 -54 34 -63 32 -12 46 -1 18 14 -13 7 -28 22 -35\r
  35 -7 12 -15 19 -17 14z" data-v-5ed99113></path></g></symbol>`,1)])))],64)}var ad=B(ta,[["render",ld],["__scopeId","data-v-5ed99113"]]);const dd=V({async mounted(){const e=localStorage.getItem("key");this.setClientPreferences(e),this.loadStaticMap()},props:{prodAvail:Array,lat:Number,lng:Number},emits:["stepOTP","close"],components:{VueTelInput:ye},data(){return{container:"Unlock your Results, Your Phone Number is Key",infoContent:!1,map:null,otpAttempt:0,isVerified:!1,isAuthenticated:!1,back:!1,phoneNumber:"",otp:"",temp:null,errors:[],isValid:null,selectedProduct:"",icon:se,isDefaultclientPrimary:!1,providerCardColor:{clientPrimaryColor:"",clientSecondaryColor:""},bindProps:{mode:"international",defaultCountry:localStorage.getItem("country_short"),placeholder:"Enter a phone number",dropdownOptions:{disabled:!1,showDialCodeInList:!0,showDialCodeInSelection:!0,showFlags:!0,showSearchBox:!0},inputOptions:{showDialCode:!1}}}},watch:{otp(e){e.length===6&&(this.otpAttempt<2?(this.otpAttempt++,this.verifyOTP(e)):this.otpAttempt===2?(this.otpAttempt++,this.verifyOTP(e)):(this.otpAttempt=0,this.otp="",this.phoneNumber="",this.errors.push("3 x failed attempts, redirecting you"),setTimeout(()=>{this.isVerified=!1,this.errors=[]},3e3)),this.getMobileFromSource())}},computed:{isDemo(){const e=localStorage.getItem("is_demo");return e!==null?JSON.parse(e):null},mapResultsConfig(){return{...pe,center:{lat:this.lat,lng:this.lng},mapId:"DEMO_MAP_ID"}},formattedPhoneNumber(){return`${this.phoneNumber.replace(/\s/g,"")}`}},methods:{isDemoSend(){const e=localStorage.getItem("is_demo");return e!==null?JSON.parse(e):null},setClientPreferences(e){ee(e).then(t=>{this.providerCardColor.clientPrimaryColor=t.clientPrimaryColor,this.providerCardColor.clientSecondaryColor=t.clientSecondaryColor,this.isDefaultclientPrimary=t.isDefaultclientPrimary,document.documentElement.style.setProperty("--client-primary-color",this.providerCardColor.clientPrimaryColor),document.documentElement.style.setProperty("--client-secondary-color",this.providerCardColor.clientSecondaryColor)}).catch(t=>{console.error("Error fetching client preferences:",t)})},async loadStaticMap(){const e=this.$refs.googleMap;this.map=de(e,this.mapResultsConfig);const t=this.$refs.infocontentString,o=new google.maps.InfoWindow({content:t}),i=new google.maps.Marker({position:{lat:this.lat,lng:this.lng},map:this.map,icon:this.icon,draggable:!1,title:"Correct Location",animation:google.maps.Animation.DROP});google.maps.event.addListener(i,"click",()=>{o!=null&&o.close(),this.infoContent=!0,o.open(this.map,i)}),google.maps.event.trigger(i,"click"),this.map.setCenter(i.position)},phoneObject(e){this.isValid=e.valid},closeModal(){this.$emit("close")},async verifyPhoneNumber(){this.errors=[],await f.get(this.isDemoSend()?`/verify/time_basedtest/${this.formattedPhoneNumber}/`:`/verify/time_based/${this.formattedPhoneNumber}/`).then(e=>{this.isVerified=!0,this.temp=e.data.OTP}).catch(e=>{if(e.response){this.phoneNumber="";for(const t in e.response.data)this.errors.push(`${t}: ${e.response.data[t]}`)}else e.message&&this.errors.push("Something went wrong. Please try again!");setTimeout(()=>{this.errors=[]},3e3)})},async verifyOTP(e){this.errors=[];const t={otp:e};await f.post(`/verify/time_based/${this.formattedPhoneNumber}/`,t).then(o=>{this.isAuthenticated=!0,localStorage.setItem("session",JSON.stringify({user:this.formattedPhoneNumber,timestamp:Date.now()})),this.otpAttempt=0,localStorage.getItem("mobile")?(localStorage.removeItem("mobile"),localStorage.setItem("mobile",this.formattedPhoneNumber)):localStorage.setItem("mobile",this.formattedPhoneNumber),this.$emit("stepOTP",this.isAuthenticated,this.back)}).catch(o=>{o.response?o.response.status===400?(this.otp="",this.phoneNumber="",this.errors.push("Your One-Time PIN expired, redirecting you"),setTimeout(()=>{this.isVerified=!1},3e3)):o.response.status===410?(this.otp="",this.errors.push("Your One-Time PIN is incorrect.")):(this.otp="",this.errors.push("Something went wrong. Please try again!")):o.message&&(this.otp="",this.errors.push("Something went wrong. Please try again!")),setTimeout(()=>{this.errors=[]},3e3)})},async getMobileFromSource(){if(this.phoneNumber){const e=localStorage.getItem("sid");await Ce(e,this.formattedPhoneNumber)}},goBack(){this.back=!0,this.$emit("stepOTP",this.isAuthenticated,this.back)}}}),cd={class:"signup-modal"},pd={class:"modal-header w-screen"},ud={class:"providerH"},hd={class:"providerfloat"},md={class:"buttonfloat"},gd={class:"modal-body h-full"},fd={id:"myDIV",class:"google-map",ref:"googleMap"},yd={tabindex:"1",ref:"infocontentString"},vd={class:"container"},bd={class:"tabbar tab-style1 tabtext pt-2 text-base font-bold text-black text-center"},Sd={class:"modal-body-OTPAccount"},wd={class:"floatborder"},Cd={key:0,class:"text-xs ml-5"},kd={key:1,class:"form-wrapper mt-2"},Pd={key:1,class:"signup-button-verify disabled"},$d={key:2,class:"sign-up-input"},Id={key:3,class:"sign-up-input mt-2"},Td={key:4,class:"error-sign-up"},xd={class:"modal-footer"};function Nd(e,t,o,i,l,c){const r=$("VueTelInput");return n(),a(b,null,[s("div",cd,[s("div",pd,[s("dl",null,[t[8]||(t[8]=s("dt",{class:"flex items-center"},[s("span",{class:"mt-4 textSecure scale-125 material-symbols-outlined"}," lock "),s("span",{class:"textSecure mt-5"},"Secure")],-1)),s("div",ud,[t[7]||(t[7]=s("dd",null,"One Time Pin",-1)),s("div",hd,[s("div",null,[s("div",md,[s("div",{title:"Restart",onClick:t[0]||(t[0]=(...d)=>e.closeModal&&e.closeModal(...d))},t[6]||(t[6]=[s("button",{class:"round-buttonmenu"},[s("span",{class:"iconlogin textSecureLogin material-symbols-sharp"},"restart_alt"),s("span",{class:"button-text"},"Reset")],-1)]))])])])])])])]),s("div",gd,[s("div",fd,[y(s("div",yd,[s("div",vd,[s("div",bd,[v(u(e.container)+" ",1),t[9]||(t[9]=s("ul",{class:"flex-center"},null,-1))])])],512),[[Q,e.infoContent]])],512),s("div",Sd,[s("div",wd,[e.isDemo&&!e.isVerified?(n(),a("span",Cd,"Demo mode, use any phone number (Example: RSA use 012 345 6789)")):h("",!0),e.isVerified?(n(),a("div",$d,[y(s("input",{class:"border-1 border-gray-300 px-3 py-3 bg-white rounded text-xs shadow focus:outline-none focus:ring-0 w-full ease-linear transition-all duration-150",type:"text",id:"otp",required:"",maxlength:"6","onUpdate:modelValue":t[3]||(t[3]=d=>e.otp=d)},null,512),[[D,e.otp]]),t[12]||(t[12]=s("label",{for:"otp"},"Enter OTP *",-1)),t[13]||(t[13]=s("button",{class:"material-symbols-outlined"},"shield_lock",-1))])):(n(),a("div",kd,[G(r,ve({modelValue:e.phoneNumber,"onUpdate:modelValue":t[1]||(t[1]=d=>e.phoneNumber=d)},e.bindProps,{onValidate:e.phoneObject}),null,16,["modelValue","onValidate"]),e.isValid?(n(),a("button",{key:0,class:"signup-button-verify verify",onClick:t[2]||(t[2]=(...d)=>e.verifyPhoneNumber&&e.verifyPhoneNumber(...d))},t[10]||(t[10]=[s("span",{class:"ml-11 mr-11"},"Verify",-1)]))):(n(),a("button",Pd,t[11]||(t[11]=[s("span",{class:"ml-11 mr-11"},"Send",-1)])))])),e.isVerified&&e.isDemo?(n(),a("div",Id,[y(s("input",{class:"mt-1 border-1 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow-md focus:outline-none focus:ring w-full ease-linear transition-all duration-150",type:"text","onUpdate:modelValue":t[4]||(t[4]=d=>e.temp=d)},null,512),[[D,e.temp]]),t[14]||(t[14]=s("label",{for:"otp"},"Demo OTP below *",-1))])):h("",!0),e.errors.length?(n(),a("div",Td,[t[15]||(t[15]=s("span",{class:"material-symbols-outlined mr-1"},"error",-1)),s("p",null,u(e.errors[0]),1)])):h("",!0)])])]),s("div",xd,[s("button",{class:"signup-button ghost",onClick:t[5]||(t[5]=(...d)=>e.goBack&&e.goBack(...d))},t[16]||(t[16]=[s("span",null,"Back",-1)]))])],64)}var Ad=B(dd,[["render",Nd],["__scopeId","data-v-755972b8"]]),Md="/assets/widget.e87da131.png",Ld="/assets/settings.0698bd40.png",_d="/assets/google.d1f86788.png";const Bd=V({async mounted(){this.widgetURL=window.location.origin,this.parentOrigin&&(this.widgetURL=this.parentOrigin)},props:{match:{type:Boolean,default:!0},GKey:{type:String,default:""},mmatch:{type:Boolean,default:!0},parentOrigin:{type:String,default:""},mkey:{type:String,default:""}},data(){return{widgetURL:"",widget1:Md,widget2:Ld,widget3:_d}}}),Od={key:0},Dd={class:"steps pl-2"},Vd={class:"py-3.5"},Rd={class:"alingtext"},zd=["src"],Ed=["src"],Fd={key:1},qd={key:0},Ud={class:"error-message"},jd={class:"underlined"},Gd={class:"steps pl-2"},Wd={class:"py-3.5"},Kd={class:"alingtext"},Jd=["src"],Hd=["src"],Qd={class:"underlined"},Yd={key:1},Zd={class:"steps pl-2"},Xd={class:"py-3.5"},ec={class:"alingtext"},tc=["src"],sc=["src"];function oc(e,t,o,i,l,c){return e.mmatch?(n(),a("div",Fd,[e.match?(n(),a("div",Yd,[t[21]||(t[21]=s("div",{class:"heading"},[s("h2",{class:"text-sm text-center py-3"},"Issue Google API Key")],-1)),t[22]||(t[22]=s("div",{class:"error-message"},[s("p",null," We were unable to locate your unique Google API key in our database. To ensure the proper functionality of your Widget, please follow the steps outlined below: ")],-1)),s("div",Zd,[t[20]||(t[20]=s("p",null,"Steps to Resolve:",-1)),s("ol",Xd,[t[18]||(t[18]=s("li",null,[v(" Log in to your portal: "),s("a",{href:"https://mapchi.sirantd.com/login/",target:"_blank"},[s("span",{class:"underlined"},"https://mapchi.sirantd.com/login")])],-1)),s("li",ec,[t[16]||(t[16]=v(" Navigate to Settings, located under Administration")),s("img",{src:e.widget2},null,8,tc)]),s("li",null,[t[17]||(t[17]=v("Click on Google API")),s("img",{src:e.widget3},null,8,sc)]),t[19]||(t[19]=s("li",null,[v(" Enter your Google API Key: The following tutotial explains how to get yout API Key in an easy way - "),s("a",{href:"https://mapsplatform.google.com",target:"_blank"},[s("span",{class:"underlined"},"https://mapsplatform.google.com")])],-1))])])])):(n(),a("div",qd,[t[15]||(t[15]=s("div",{class:"heading"},[s("h2",{class:"text-sm text-center py-3"},"Issue Website URL")],-1)),s("div",Ud,[s("p",null,[t[7]||(t[7]=v(" The website address ")),s("span",jd,u(e.widgetURL),1),t[8]||(t[8]=v(" does not match our records associated with your Widget Key in our database. To resolve this, please follow the steps outlined below: "))])]),s("div",Gd,[t[14]||(t[14]=s("p",null,"Steps to Resolve:",-1)),s("ol",Wd,[t[13]||(t[13]=s("li",null,[v(" Log in to your portal: "),s("a",{href:"https://mapchi.sirantd.com/login/",target:"_blank"},[s("span",{class:"underlined"},"https://mapchi.sirantd.com/login")])],-1)),s("li",Kd,[t[9]||(t[9]=v(" Navigate to Settings, located under Administration")),s("img",{src:e.widget2},null,8,Jd)]),s("li",null,[t[10]||(t[10]=v("Click on Widget API")),s("img",{src:e.widget1},null,8,Hd)]),s("li",null,[t[11]||(t[11]=v(" Enter ")),s("span",Qd,u(e.widgetURL),1),t[12]||(t[12]=v(" as your Website Address "))])])])]))])):(n(),a("div",Od,[t[5]||(t[5]=s("div",{class:"heading"},[s("h2",{class:"text-sm text-center py-3"},"Issue Widget API")],-1)),t[6]||(t[6]=s("div",{class:"error-message"},[s("p",null," We were unable to locate your unique Widget API key in our database. To ensure the proper functionality of your Widget, please follow the steps outlined below: ")],-1)),s("div",Dd,[t[4]||(t[4]=s("p",null,"Steps to Resolve:",-1)),s("ol",Vd,[t[2]||(t[2]=s("li",null,[v(" Log in to your portal: "),s("a",{href:"https://mapchi.sirantd.com/login/",target:"_blank"},[s("span",{class:"underlined"},"https://mapchi.sirantd.com/login")])],-1)),s("li",Rd,[t[0]||(t[0]=v(" Navigate to Settings, located under Administration")),s("img",{src:e.widget2},null,8,zd)]),s("li",null,[t[1]||(t[1]=v("Click on Widget API")),s("img",{src:e.widget1},null,8,Ed)]),t[3]||(t[3]=s("li",null," Copy your Mapchi-Key: Ensure the key in your script exactly matches the one displayed on the admin website ",-1))])])]))}var rc=B(Bd,[["render",oc]]),ic="/assets/Round-Pindrop_pjsgnm.c012470d.png";const nc=V({async mounted(){document.addEventListener("keydown",e=>{const t=e.key;t==="ArrowUp"?(e.preventDefault(),this.selected=Math.max(0,this.selected-1)):t==="ArrowDown"?(e.preventDefault(),this.selected=Math.min(Math.max(this.places.length-1,0),this.selected+1)):t==="Backspace"||t==="Delete"?this.PInfo=[]:t==="Enter"&&(e.preventDefault(),this.location=this.places[this.selected].description,this.placeid=this.places[this.selected].place_id,this.open=!1,this.places=[])},!1)},props:{show:{type:Boolean,default:!1},userprofile:{type:Boolean,default:!0},match:{type:Boolean,default:!0},GKey:{type:String,default:""},mmatch:{type:Boolean,default:!0},parentOrigin:{type:String,default:""},mkey:{type:String,default:""}},components:{Results:je,Branding:Je,GoogleMapAutocomplete:at,GoogleMapLoader:wt,Spinner:Tt,Checkout:no,StepProduct:$i,StepNewAccount:ea,StepContact:ad,StepOTP:Ad,Error:rc},computed:{mapConfig(){return{...Ve,center:this.defaultCenter,mapId:"DEMO_MAP_ID"}}},data(){return{refreshRequired:!1,defaultCenter:{lat:-26.1112708,lng:28.0522961},manualParam:!1,manualLatLngPass:[],open:!0,autocompleteMounted:!1,newgoogleSession:!1,url:"",websiteaddress:"",login:!1,isAuthenticated:!1,package:!1,authenticated:!1,product:!1,apiResults:!1,contact:!1,order:!1,selectedProduct:"",selectedServices:[],selectedProvider:"",chosenPackage:[],optionalResults:[],shopper:null,providerIndex:0,pintoken:"",location:"",lekker:"",seachValue:"",placeid:"",amount:0,abc:null,searchService:null,placesService:null,places:[],googleSessionToken:[],results:[],selected:0,debounceTimerId:null,debounceTimeout:50,searcher:null,geocoderresults:[],lat:0,lng:0,latSteps:0,lngSteps:0,postCode:"",PInfo:[],providerApiresults:[],numArray:[],productsAvailable:[],error:"",loading:!1,ad_delay:!1,subtest:!1,chosen:"Fibre (Active Ethernet)",OSTest:"",marketing:!1,roller:!1,dots:!1,image:"",add:ic,imgArray:[{id:1,src:this.add,alt:"Provider B"}]}},watch:{userprofile(e){e?e&&(this.open=!1):this.open=!0},location(e){if(this.selected=0,this.debounceTimerId&&clearTimeout(this.debounceTimerId),e){if(Z.exports.isEmpty(e)||e.length<3){this.PInfo=[],this.placeid="";return}this.open=!0,this.newgoogleSession=!1,this.debounceTimerId=setTimeout(()=>{},this.debounceTimeout)}}},methods:{imgRandom(){for(var e=0;e<18;e++){var t=this.imgArray[Math.floor(Math.random()*this.imgArray.length)],o=new Image;o.src=t.src,this.image=o.src}},sleep(e){return new Promise(t=>setTimeout(t,e))},async providers(e,t,o){this.dots=!0,this.imgRandom(),this.newgoogleSession=!1,this.loading=!0;const i=localStorage.getItem("key"),l=localStorage.getItem("is_innovator"),c=l!==null?JSON.parse(l):null,{productsAvailable:r,amount:d,providerApiresults:p}=await Qe(e,t,i,c);if(this.productsAvailable=r,this.amount=d,p!==null){if(this.providerApiresults=p,this.providerApiresults.length===0){this.apiResults=!0,console.log("No providers, redirect to contact page to contact when coverage becomes available and log in database, no coverage table"),this.OSTest="",this.contact=!0,this.loading=!1,this.autocompleteMounted=!1;return}}else{this.apiResults=!0,console.log("No providers, redirect to contact page to contact when coverage becomes available and log in database, no coverage table"),this.OSTest="",this.contact=!0,this.loading=!1,this.autocompleteMounted=!1;return}this.subtest=!1,this.loading=!1,this.autocompleteMounted=!1,this.OSTest="1"},cacheProvider(e,t,o){this.PInfo=[],this.placeid="",this.OSTest="",this.autocompleteMounted=!0,this.order=!1,this.contact=!1,this.providerApiresults=[],this.productsAvailable=[],this.providers(e,t,o)},thumbup(e,t){if(e.lat.length===0){const i=e.toString(),l=i.indexOf(","),c=Number(i.substring(1,l)),r=Number(i.substring(l+1,i.length-1));this.PInfo=[],this.placeid="",this.latSteps=c,this.lngSteps=r,this.postCode=t,this.providers(c,r,t)}else{const i=e.lat,l=e.lng;this.PInfo=[],this.placeid="",this.latSteps=i,this.lngSteps=l,this.postCode=t,this.providers(i,l,t)}},serviceOptions(e,t){this.OSTest="",this.chosen=t,this.subtest=e},handlestepSpinner(e){this.ad_delay=!1,e?(this.contact=e,this.subtest=!1,this.loading=!1,this.OSTest="1"):(this.contact=e,this.subtest=!0,this.loading=!1,this.OSTest="1")},handlestepProduct(e){this.OSTest="",this.subtest=!0,this.selectedProduct=e},handlestepProvider(e,t,o){this.selectedServices=e,this.selectedProvider=t,this.providerIndex=o,this.login=!1,this.package=!0,this.subtest=!1,this.autocompleteMounted=!1},handlestepNewAccountBack(){this.order=!1,this.OSTest="1"},handlestepAccAuth(e){e||(this.order=!1,this.login=!0)},handlestepPackage(e,t,o,i,l){this.chosenPackage=e,this.optionalResults=t,this.OSTest="",this.latSteps=o,this.lngSteps=i,this.postCode=l,this.order=!0},handlestepOTP(e,t){if(t){this.login=!1,this.OSTest="1",t=!1;return}this.chosenPackage.capacity?(this.login=!1,this.OSTest="",this.order=!0):e&&(this.login=!1,this.OSTest="1")},handlestepAuth(e){e||(this.login=!0,this.OSTest="")},close(){localStorage.removeItem("cache"),localStorage.removeItem("lastupdated"),localStorage.removeItem("dataSuccess"),this.open=!0,this.location="",this.manualLatLngPass=[],this.googleSessionToken=[],this.subtest=!1,this.contact=!1,this.login=!1,this.package=!1,this.order=!1,this.OSTest="",this.placeid="ChIJwYzgV2dylR4ROX5AgHoewFY",this.autocompleteMounted=!0},handlestepProviderBack(e,t){this.package=!1,this.subtest=!0,this.providerIndex=e,this.selectedProvider=t},handlergoogleMap(e){this.autocompleteMounted=e,e&&(this.placeid="ChIJwYzgV2dylR4ROX5AgHoewFY")},handler(e){this.manualParam=!1,this.places=e[0],this.googleSessionToken=e[1]},lochandler(e,t){this.lat=e.lat,this.lng=e.lng,this.manualLatLngPass=e,this.newgoogleSession=!0,this.googleSessionToken=[],this.location=t},loadgoogleMap(e,t){this.placeid=e,this.googleSessionToken=t,this.manualParam=!0,this.autocompleteMounted=!0},choice(e){this.seachValue=e[0].description,this.placeid=e[0].place_id,this.location=this.seachValue,this.open=!1,this.PInfo=[],this.places=[]},updateDebounce(e){this.debounceTimeout=.9*this.debounceTimeout+.1*e}}});function lc(e,t,o,i,l,c){const r=$("Error"),d=$("GoogleMapAutocomplete"),p=$("Results"),S=$("GoogleMapLoader"),W=$("Spinner"),L=$("StepProduct"),Y=$("StepContact"),k=$("StepOTP"),R=$("StepNewAccount"),U=$("Branding");return n(),a("div",{class:x(["font-sans text-sm w-full max-w-full max-h-full bg-white shadow-catche fixed top-0 flex flex-col overflow-hidden",[{"h-72":e.loading},e.show?"opacity-100":"opacity-0 pointer-events-none",e.open?"h-full":"h-[3.75rem]"]]),style:{transition:"opacity 300ms, height 300ms"}},[e.userprofile?h("",!0):(n(),q(r,{key:0,match:e.match,GKey:e.GKey,mmatch:e.mmatch,parentOrigin:e.parentOrigin,mkey:e.mkey},null,8,["match","GKey","mmatch","parentOrigin","mkey"])),e.userprofile&&e.GKey?(n(),q(d,{key:1,modelValue:e.location,"onUpdate:modelValue":t[0]||(t[0]=z=>e.location=z),GKey:e.GKey,sessionNew:e.googleSessionToken,manualLatLngPass:e.manualLatLngPass,onToResults:e.handler,onLoadgoogleMap:e.handlergoogleMap,onSearchParamsChanged:e.loadgoogleMap},null,8,["modelValue","GKey","sessionNew","manualLatLngPass","onToResults","onLoadgoogleMap","onSearchParamsChanged"])):h("",!0),e.manualParam?h("",!0):(n(),q(p,{key:2,results:e.places,onChoice:e.choice,selected:e.selected},null,8,["results","onChoice","selected"])),e.autocompleteMounted?(n(),q(S,{key:3,modelValue:e.location,"onUpdate:modelValue":t[1]||(t[1]=z=>e.location=z),searchValue:e.placeid,googleSessionToken:e.googleSessionToken,mapConfig:e.mapConfig,onToLoc:e.lochandler,onProvider:e.thumbup},null,8,["modelValue","searchValue","googleSessionToken","mapConfig","onToLoc","onProvider"])):h("",!0),e.loading?(n(),q(W,{key:4,imageref:e.image,marketing:e.marketing,apiResults:e.apiResults,ad_delay:e.ad_delay,roller:e.roller,dots:e.dots,onStepSpinner:e.handlestepSpinner},null,8,["imageref","marketing","apiResults","ad_delay","roller","dots","onStepSpinner"])):h("",!0),e.OSTest?(n(),q(L,{key:5,prodAvail:e.productsAvailable,lat:e.latSteps,lng:e.lngSteps,postCode:e.postCode,apiResults:e.providerApiresults,onStepAuth:e.handlestepAuth,onStepPackage:e.handlestepPackage,onCacheProvider:e.cacheProvider,onClose:e.close},null,8,["prodAvail","lat","lng","postCode","apiResults","onStepAuth","onStepPackage","onCacheProvider","onClose"])):h("",!0),e.contact?(n(),q(Y,{key:6,prodAvail:e.productsAvailable,lat:e.latSteps,lng:e.lngSteps,postCode:e.postCode,onCacheProvider:e.cacheProvider,onClose:e.close},null,8,["prodAvail","lat","lng","postCode","onCacheProvider","onClose"])):h("",!0),e.login?(n(),q(k,{key:7,lat:e.latSteps,lng:e.lngSteps,prodAvail:e.productsAvailable,onStepOTP:e.handlestepOTP,onClose:e.close},null,8,["lat","lng","prodAvail","onStepOTP","onClose"])):h("",!0),e.order?(n(),q(R,{key:8,chosenPackage:e.chosenPackage,optionalResults:e.optionalResults,lat:e.latSteps,lng:e.lngSteps,postCode:e.postCode,onAuth:e.handlestepAccAuth,onCacheProvider:e.cacheProvider,onStepNewAccountBack:e.handlestepNewAccountBack,onClose:e.close},null,8,["chosenPackage","optionalResults","lat","lng","postCode","onAuth","onCacheProvider","onStepNewAccountBack","onClose"])):h("",!0),G(U)],2)}var ac=B(nc,[["render",lc]]);const dc=V({async mounted(){const e=document.querySelector("script[mapchi-key]");if(e&&(this.mapchiKey=e.getAttribute("mapchi-key")),this.mapchiKey)if(await this.loadData(),await this.getUserProfile()){const o=window.location.hostname,i=sessionStorage.getItem("parentHostname");sessionStorage.getItem("parentOrigin")!==null?this.parentOrigin=sessionStorage.getItem("parentOrigin"):this.parentOrigin="",i?{}.VITE_BYPASS_WIDGETFRAME.split(",").includes(i)||i===this.websiteaddress?this.login=!!this.GKey:(this.login=!1,this.match=!1):o===this.websiteaddress?this.login=!!this.GKey:(this.login=!1,this.match=!1)}else this.login=!1,this.mmatch=!1},components:{SearchMenu2:ac},data(){return{mapchiKey:"",login:!0,match:!0,mmatch:!0,show:!0,searcher:null,websiteaddress:"",GKey:"",parentOrigin:"",mkey:"",errors:[]}},computed:{computedLoginProp:{get(){return this.login},set(e){this.login=e}}},methods:{async loadData(){f.defaults.headers.common.Authorization="",f.defaults.headers.common.Token="",localStorage.removeItem("key"),localStorage.removeItem("sid"),localStorage.removeItem("countryCodes"),localStorage.removeItem("is_innovator"),localStorage.removeItem("is_demo"),localStorage.removeItem("reseller_id"),localStorage.removeItem("currency"),localStorage.removeItem("country"),localStorage.removeItem("country_short"),localStorage.removeItem("countryNames"),localStorage.removeItem("lastupdated"),localStorage.removeItem("dataSuccess"),localStorage.removeItem("cache");const e={username:{}.VITE_API_USERNAME,password:{}.VITE_API_PASSWORD};await f.post("/accounts/token/login/",e).then(t=>{const o=t.data.auth_token;f.defaults.headers.common.Authorization="Token "+o}).catch(t=>{if(t.response)for(const o in t.response.data)this.errors.push(`${o}: ${t.response.data[o]}`);else t.message&&this.errors.push("Something went wrong. Please try again!")})},async getUserProfile(){try{const e=await f.get("/mapche-api/v1/userprofile/",{params:{mapche_key:this.mapchiKey}});if(e.data[0]){const t=e.data[0].business,o=e.data[0].user,i=JSON.parse(e.data[0].is_innovator),l=JSON.parse(e.data[0].is_demo),c=e.data[0].website_address,r=e.data[0].reseller;return c?this.websiteaddress=this.getDomainName(c):this.websiteaddress="",this.GKey=e.data[0].google_api_key,this.mkey=e.data[0].mapche_key,r?(localStorage.setItem("business",t),localStorage.setItem("reseller_id",r),localStorage.setItem("key",this.mkey),localStorage.setItem("is_innovator",i),localStorage.setItem("is_demo",l),this.getGICountries()):(localStorage.setItem("business",t),localStorage.setItem("username",o),localStorage.setItem("key",this.mkey),localStorage.setItem("is_innovator",i),localStorage.setItem("is_demo",l),this.getGCountries()),!0}else return!1}catch(e){if(e.response)for(const t in e.response.data)this.errors.push(`${t}: ${e.response.data[t]}`);else e.message&&this.errors.push("Something went wrong. Please try again!");return!1}},async getGCountries(){try{const e=localStorage.getItem("business"),t=await f.get("/coverage/userglobalcoverages/");if(t.data){const o=t.data.filter(c=>c.business===parseInt(e)).map(c=>({country_short:c.country_short,country_name:c.country_name})),i=o.map(c=>c.country_short),l=o.map(c=>c.country_name);return localStorage.setItem("countryCodes",JSON.stringify(i)),localStorage.setItem("countryNames",JSON.stringify(l)),!0}}catch(e){if(e.response)for(const t in e.response.data)this.errors.push(`${t}: ${e.response.data[t]}`);else e.message&&this.errors.push("Something went wrong. Please try again!");return!1}},async getGICountries(){try{const e=localStorage.getItem("reseller_id"),t=await f.get("/coverage/userglobalcoverages/");if(t.data){const o=t.data.filter(i=>i.business===parseInt(e)).map(i=>i.country_short);return localStorage.setItem("countryCodes",JSON.stringify(o)),!0}}catch(e){if(e.response)for(const t in e.response.data)this.errors.push(`${t}: ${e.response.data[t]}`);else e.message&&this.errors.push("Something went wrong. Please try again!");return!1}},getDomainName(e){const o=e.toLowerCase().match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n]+)/im);return o?o[1]:""}}});function cc(e,t,o,i,l,c){const r=$("SearchMenu2");return n(),a(b,null,[s("div",{id:"mapchi-background",class:x(["fixed top-0 left-0 bg-white h-screen w-screen transition-all duration-300",e.show?"show opacity-100":"opacity-0 pointer-events-none"]),onClick:t[0]||(t[0]=d=>e.show=!0),style:{"z-index":"2147483646"}},null,2),G(r,{id:"mapchi-menu",userprofile:e.computedLoginProp,GKey:e.GKey,match:e.match,mkey:e.mkey,mmatch:e.mmatch,parentOrigin:e.parentOrigin,show:e.show,style:{"z-index":"2147483647"}},null,8,["userprofile","GKey","match","mkey","mmatch","parentOrigin","show"])],64)}var pc=B(dc,[["render",cc]]);const uc=V({components:{Main:pc}});function hc(e,t,o,i,l,c){const r=$("Main");return n(),q(r)}var mc=B(uc,[["render",hc]]);f.defaults.baseURL="https://api.sirantd.com";(function(){var d;const t=document.querySelector("script[mapche-css]");let o=null;t&&(o=t.getAttribute("mapche-css"));const i=document.createElement("div");i.setAttribute("id","mapche-search");const l=((d=i.attachShadow)==null?void 0:d.call(i,{mode:"open"}))||i,c=document.createElement("link");if(c.setAttribute("rel","stylesheet"),c.setAttribute("href","https://cdn.jsdelivr.net/gh/sirantd/mapchi-iframe/index.css"),l.appendChild(c),o){const p=document.createElement("link");p.setAttribute("rel","stylesheet"),p.setAttribute("href",o),l.appendChild(p)}const r=document.createElement("div");l.appendChild(r),Oe(mc).mount(r),document.body.appendChild(i)})();
